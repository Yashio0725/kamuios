<!DOCTYPE html>
<html lang="ja">
<head>
	<meta name="generator" content="Hugo 0.148.2"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KAMUI OS</title>
  <meta name="description" content="">
  
  <link rel="stylesheet" href="/css/main.css">
  
  
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({ 
      startOnLoad: true,
      theme: 'dark',
      themeVariables: {
        darkMode: true,
        primaryColor: '#4a9eff',
        primaryTextColor: '#ffffff',
        primaryBorderColor: '#2a2a2a',
        lineColor: '#ffffff',
        textColor: '#ffffff',
        taskTextColor: '#ffffff',
        taskTextLightColor: '#ffffff',
        taskFillColor: '#4a9eff',
        taskBorderColor: '#93c5fd',
        activeTaskBorderColor: '#93c5fd',
        activeTaskColor: '#4a9eff',
        doneTaskColor: '#4a9eff',
        doneTaskBorderColor: '#93c5fd',
        critBorderColor: '#93c5fd',
        critColor: '#4a9eff',
        todayLineColor: '#93c5fd',
        gridColor: '#64748b',
        tertiaryColor: '#2d2d2d',
        sequenceNumberColor: '#ffffff',
        signalColor: '#ffffff',
        actorBorder: '#ffffff',
        actorTextColor: '#ffffff',
        noteTextColor: '#ffffff',
        noteBorderColor: '#cbd5e1',
        activationTextColor: '#ffffff',
        edgeLabelBackground: '#0f172a',
        secondaryColor: '#2d2d2d',
        background: '#1a1a1a',
        mainBkg: '#0f0f0f',
        secondBkg: '#1a1a1a',
        tertiaryColor: '#2d2d2d'
      },
      themeCSS: `
        /* Ensure Gantt bars use unified blue tone inside SVG */
        .gantt .task rect,
        .gantt .task .task-bar,
        .gantt .task-bar rect { fill: #4a9eff; stroke: #93c5fd; }
        .gantt .task.active rect,
        .gantt .task.done rect,
        .gantt .task.crit rect { fill: #4a9eff; stroke: #93c5fd; }
        .gantt .today { stroke: #93c5fd; stroke-width: 1.5px; }
        .gantt .label text, .gantt text, .gantt .title text { fill: #ffffff; }
      `,
      gantt: {
        numberSectionStyles: 6,
        leftPadding: 200,
        gridLineStartPadding: 400,
        fontSize: 13,
        sectionFontSize: 15,
        fontFamily: '"Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif',
        barHeight: 22,
        barGap: 6,
        topPadding: 50,
        rightPadding: 150
      }
    });
  </script>
</head>
<body>
  <div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-title">KAMUI OS</div>
    <div class="sidebar-subtitle" id="tocCount">目次</div>
  </div>

  <div class="folder-tree" id="folderTree">
    <div class="tree-item">
      <div class="tree-label selected" data-toggle="root">
        <span class="tree-toggle expanded">▼</span>
        <span class="tree-name">章構成</span>
        <span class="tree-count" id="sectionCount">--</span>
      </div>
      <div class="tree-children expanded" id="tocList">
        
      </div>
    </div>
  </div>

  <div class="sidebar-tags">
    <div class="tags-title">クイックリンク</div>
    <div class="tag-list">
      <span class="tag" data-jump="#ui-flow">UI遷移</span>
      <span class="tag" data-jump="#ui">UI/画面</span>
      <span class="tag" data-jump="#functional">機能</span>
      <span class="tag" data-jump="#nonfunctional">非機能</span>
      <span class="tag" data-jump="#packaging">パッケージ</span>
      <span class="tag" data-jump="#schedule">スケジュール</span>
    </div>
  </div>

  <div class="sidebar-footer">
    <div class="sidebar-tags">
      <div class="tags-title">テーマ</div>
      <div class="view-options">
        <button class="view-btn icon-btn active" id="themeDark">
          <span class="btn-icon">🌙</span>
          <span class="btn-label">ダーク</span>
        </button>
        <button class="view-btn icon-btn" id="themeLight">
          <span class="btn-icon">☀️</span>
          <span class="btn-label">ライト</span>
        </button>
      </div>
    </div>
  </div>
</div>

  
  <div class="main-content">
    <div class="header-bar">
  <button class="menu-btn icon-btn" id="toggleSidebar">
    <span class="btn-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"/>
        <line x1="3" y1="12" x2="21" y2="12"/>
        <line x1="3" y1="18" x2="21" y2="18"/>
      </svg>
    </span>
  </button>
  
  <input type="text" class="search-bar" id="searchInput" placeholder="検索..." />
  
  <button id="backToDashboard" onclick="window.location.hash=''; location.reload();" style="margin-left: auto; padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← ダッシュボードに戻る
  </button>
</div>

    
    <div class="doc-container" id="docContainer">
      
  <div class="doc-meta"></div>
  
  
  
  
  
  
  
  
    
  
    
  
    
  
    
  
  
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  

  
  <section class="doc-section" id="saas-applications-overview" data-cat="1" data-cat-name="ダッシュボード">
    <h2>ダッシュボード</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <style>
  .dashboard-sections {
    margin-bottom: 40px;
  }
  .dashboard-section-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border);
  }
  .dashboard-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }
  
  .saas-app-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
    color: var(--text);
    display: block;
  }
  
  /* ライトモードで白背景 */
  [data-theme="light"] .saas-app-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
  }
  
  .saas-app-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    border-color: #4a9eff;
  }
  
  .saas-app-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 12px;
    color: #4a9eff;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .saas-app-description {
    font-size: 0.95rem;
    color: var(--text-weak);
    line-height: 1.6;
    margin-bottom: 12px;
  }
  
  .saas-app-features {
    font-size: 0.85rem;
    color: var(--text-weak);
    line-height: 1.8;
  }
  
  .saas-app-arrow {
    color: #4a9eff;
    font-size: 1.2rem;
    display: inline-block;
    margin-left: 8px;
    transition: transform 0.3s ease;
  }
  
  .saas-app-card:hover .saas-app-arrow {
    transform: translateX(4px);
  }
</style>

<!-- ダッシュボードセクション -->
<div class="dashboard-sections">
  <div class="dashboard-links">
    <a href="#" class="saas-app-card" onclick="window.location.hash=''; location.reload(); return false;">
      <video src="/videos/dashboard_card.mp4" alt="メインダッシュボード" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        メインダッシュボード
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        全体のダッシュボード - 各セクションへのエントリーポイント
      </div>
      <div class="saas-app-features">
        • 要件定義・開発<br>
        • メディアエディタ<br>
        • 事業構築・ビジネスツール
      </div>
    </a>
    
    <a href="#dynamic-media-gallery" class="saas-app-card" onclick="showSectionById('dynamic-media-gallery'); return false;">
      <video src="/videos/media_gallery_card.mp4" alt="Dynamic Media Gallery" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        Dynamic Media Gallery
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        メディアファイルを動的にスキャンして表示するギャラリー
      </div>
      <div class="saas-app-features">
        • ファイル自動スキャン<br>
        • グリッド/リスト表示<br>
        • ライトボックス対応
      </div>
    </a>
  </div>
</div>

<!-- 要件定義・開発セクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">要件定義・開発</h2>
  <div class="dashboard-links">
    <a href="#requirements-document" class="saas-app-card" onclick="showRequirements('document'); return false;">
    <video src="/videos/requirements_doc_card.mp4" alt="要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
    <div class="saas-app-title">
      要件定義書
      <span class="saas-app-arrow">→</span>
    </div>
    <div class="saas-app-description">
      メディアエディタプラットフォームの要件定義書
    </div>
    <div class="saas-app-features">
      • プロジェクト概要<br>
      • 機能要件・非機能要件<br>
      • 技術スタック・開発スケジュール
    </div>
  </a>
  
  <a href="#ui-views" class="saas-app-card" onclick="showRequirements('views'); return false;">
    <video src="/videos/ui_viewer_card.mp4" alt="UIビュー一覧" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
    <div class="saas-app-title">
      UIビュー一覧
      <span class="saas-app-arrow">→</span>
    </div>
    <div class="saas-app-description">
      システムのUI画面一覧と設計仕様
    </div>
    <div class="saas-app-features">
      • 画面構成図<br>
      • コンポーネント一覧<br>
      • デザインシステム
    </div>
  </a>
</div>
</div>

<!-- メディアエディタセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">メディアエディタ</h2>
  <div class="dashboard-links">
    <a href="#saas-ai-portrait" class="saas-app-card" onclick="showSaasApp('ai-portrait'); return false;">
      <video src="/videos/ai_portrait_card.mp4" alt="AI Portrait Generator" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        1. AI Portrait Generator
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        手書きスケッチからAIで高品質な画像を生成するメディアエディタ
      </div>
      <div class="saas-app-features">
        • リアルタイムプレビュー<br>
        • 参照画像ギャラリー<br>
        • 描画ツール内蔵
      </div>
    </a>
    
    <a href="#saas-storyboard" class="saas-app-card" onclick="showSaasApp('storyboard'); return false;">
      <video src="/videos/video_viewer_card.mp4" alt="ビデオビューアー" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        2. ビデオビューアー
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        ストーリーボードビューアーとビデオコンテンツ管理
      </div>
      <div class="saas-app-features">
        • タイムライン管理<br>
        • シーン別ナビゲーション<br>
        • ビデオプレイヤー統合
      </div>
    </a>
    
    <a href="#saas-storyboard-viewer" class="saas-app-card" onclick="showSaasApp('storyboard-viewer'); return false;">
      <video src="/videos/storyboard_viewer_card.mp4" alt="ストーリーボードビューアー" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        3. ストーリーボードビューアー
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        絵コンテの見開きフローを美しく表示するビューアー
      </div>
      <div class="saas-app-features">
        • 見開き/縦スクロール切替<br>
        • 鉛筆画/実写切替<br>
        • 静止画/動画対応
      </div>
    </a>
  </div>
</div>

<!-- 事業構築セクション（章6） -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">事業構築</h2>
  <div class="dashboard-links">
    <a href="#biz-strategy" class="saas-app-card" onclick="showSectionById('biz-strategy'); return false;">
      <video src="/videos/strategy_card.mp4" alt="戦略" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        戦略
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">事業戦略の骨子と進め方</div>
      <div class="saas-app-features">• ターゲット/価値• チャネル・価格• ロードマップ</div>
    </a>
    <a href="#biz-finance" class="saas-app-card" onclick="showSectionById('biz-finance'); return false;">
      <video src="/videos/finance_card.mp4" alt="財務" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        財務
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">財務計画/KPI/投資計画の整理</div>
      <div class="saas-app-features">• MRR• チャーン• CAC/LTV</div>
    </a>
  </div>
</div>

<!-- ビジネスツールセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">ビジネスツール</h2>
  <div class="dashboard-links">
    <a href="#slide-generator" class="saas-app-card" onclick="showBusinessTool('slide-generator'); return false;">
      <video src="/videos/slide_editor_card.mp4" alt="スライドエディタ" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        スライドエディタ
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        プレゼンテーション用スライドを表示・編集するエディタ
      </div>
      <div class="saas-app-features">
        • スライド表示<br>
        • ページナビゲーション<br>
        • フルスクリーン対応
      </div>
    </a>
  </div>
</div>

<!-- 従業員セクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">従業員</h2>
  <div class="dashboard-links">
    <a href="#prompts-repo" class="saas-app-card" onclick="showSectionById('prompts-repo'); return false;">
      <video src="/videos/agent_card.mp4" alt="create-new-page.md" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        create-new-page.md
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">新しいページ作成用のプロンプト手順書</div>
      <div class="saas-app-features">• 外部YAML基準• 自動集約• Hugoビルド</div>
    </a>
  </div>
</div>

<!-- SNS・マーケティングセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">SNS・マーケティング</h2>
  <div class="dashboard-links">
    <a href="#sns-marketing" class="saas-app-card" onclick="showSectionById('sns-marketing'); return false;">
      <video src="/videos/sns_marketing_card.mp4" alt="SNS・マーケティング" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;" autoplay loop muted playsinline></video>
      <div class="saas-app-title">
        SNS・マーケティング
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">主要チャネル/運用/KPIの整理ページ</div>
      <div class="saas-app-features">• X/IG/YT/TikTok• KPI• 運用フロー</div>
    </a>
  </div>
</div>

<script>
  // 汎用: 任意のセクションを表示
  window.showSectionById = function(id) {
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    const target = document.getElementById(id);
    if (target) {
      target.style.display = 'block';
      window.history.pushState({ direct: id }, '', '#' + id);
      window.scrollTo(0, 0);
    }
  }
  // ビジネスツール表示用の関数
  window.showBusinessTool = function(toolId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    const targetSection = document.getElementById(toolId);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // URLを更新
      window.history.pushState({ businessTool: toolId }, '', '#' + toolId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // 要件定義書表示用の関数
  window.showRequirements = function(docId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    // 対象セクションを決定
    let targetId = '';
    if (docId === 'views') {
      targetId = 'ui-views';
    } else {
      targetId = 'requirements-' + docId; // e.g., document, kamui-os, kamui-os-npm, sns-marketing
    }
    
    const targetSection = document.getElementById(targetId);
    if (targetSection) {
      targetSection.style.display = 'block';
      // 要件定義書セクション内の表示状態を初期化（常にカード優先）
      if (targetId.startsWith('requirements-')) {
        const card = document.getElementById('requirementsDocCard-' + targetId);
        const body = document.getElementById('requirementsDocBody-' + targetId);
        if (card) card.style.display = 'block';
        if (body) body.style.display = 'none';
      }
      
      // URLを更新
      window.history.pushState({ requirements: docId }, '', '#' + targetId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // SaaSメディアエディタ表示用の関数
  window.showSaasApp = function(appId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    // SaaSメディアエディタセクションを表示
    const targetSection = document.getElementById('saas-' + appId);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // URLを更新
      window.history.pushState({ app: appId }, '', '#saas-' + appId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // ブラウザの戻る/進むボタン対応
  window.addEventListener('popstate', function(event) {
    if (event.state && event.state.app) {
      showSaasApp(event.state.app);
    } else if (event.state && event.state.requirements) {
      showRequirements(event.state.requirements);
    } else if (event.state && event.state.businessTool) {
      showBusinessTool(event.state.businessTool);
    } else if (event.state && event.state.direct) {
      showSectionById(event.state.direct);
    } else {
      // ダッシュボードに戻す
      document.querySelectorAll('.doc-section').forEach(section => {
        if (section.id === 'saas-applications-overview') {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }
  });
  
  // ページ読み込み時にURLをチェック
  document.addEventListener('DOMContentLoaded', function() {
    const hash = window.location.hash;
    if (hash && hash.startsWith('#saas-')) {
      const appId = hash.replace('#saas-', '');
      setTimeout(() => showSaasApp(appId), 100);
    } else if (hash && hash.startsWith('#requirements-')) {
      const docId = hash.replace('#requirements-', '');
      setTimeout(() => showRequirements(docId), 100);
    } else if (hash === '#ui-views') {
      setTimeout(() => showRequirements('views'), 100);
    } else if (hash === '#slide-generator') {
      setTimeout(() => showBusinessTool('slide-generator'), 100);
    } else if (hash === '#biz-strategy' || hash === '#biz-finance' || hash === '#prompts-repo') {
      setTimeout(() => showSectionById(hash.replace('#','')), 100);
    } else {
      // デフォルトはダッシュボードのみ表示
      document.querySelectorAll('.doc-section').forEach(section => {
        if (section.id === 'saas-applications-overview') {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }
  });
</script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="saas-ai-portrait" data-cat="3" data-cat-name="メディアエディタ">
    <h2>AI Portrait Generator</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    .ai-portrait-interface {
        background: #1a1a1a;
        border-radius: 12px;
        padding: 0;
        margin: 20px 0;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    
    .app-container {
        display: flex;
        height: 600px;
        background: #1a1a1a;
        color: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    /* Left Sidebar - Reference Gallery */
    .reference-panel {
        width: 280px;
        background: #2d2d2d;
        padding: 20px;
        overflow-y: auto;
        border-right: 1px solid #3a3a3a;
    }
    
    .reference-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .reference-title {
        font-size: 22px;
        font-weight: bold;
        margin: 0;
        color: #ffffff;
    }
    
    .reload-btn {
        background: #3a3a3a;
        border: 1px solid #505050;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        transition: all 0.2s;
        color: #e0e0e0;
        font-size: 16px;
    }
    
    .reload-btn:hover {
        background: #4a4a4a;
        border-color: #606060;
    }
    
    .reload-btn:active {
        transform: scale(0.95);
    }
    
    .reload-btn.loading .reload-icon {
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Context menu styles */
    .context-menu {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        transition: opacity 0.2s;
    }
    
    .context-menu:hover {
        background: #3a3a3a !important;
    }
    
    .reference-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-bottom: 25px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .reference-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        background: #666;
    }
    
    .reference-item:hover {
        border-color: #4a9eff;
        transform: scale(1.02);
    }
    
    .reference-item.selected {
        border-color: #4a9eff;
        box-shadow: 0 0 15px rgba(74, 158, 255, 0.3);
    }
    
    .reference-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .reference-item .checkmark {
        position: absolute;
        bottom: 4px;
        right: 4px;
        width: 18px;
        height: 18px;
        background: #4a9eff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    
    .reference-item.selected .checkmark {
        opacity: 1;
    }
    
    
    /* Main Content Area */
    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: #1a1a1a;
        position: relative;
    }
    
    /* Header */
    .app-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: #2d2d2d;
        border-bottom: 1px solid #3a3a3a;
    }
    
    .header-title {
        font-size: 24px;
        font-weight: bold;
        color: #ffffff;
    }
    
    .header-controls {
        display: flex;
        gap: 12px;
        align-items: center;
    }
    
    .icon-button {
        width: 36px;
        height: 36px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        transition: all 0.2s ease;
    }
    
    .icon-button:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .notification-badge {
        position: relative;
    }
    
    .notification-badge::after {
        content: '1';
        position: absolute;
        top: -4px;
        right: -4px;
        width: 16px;
        height: 16px;
        background: #ff4757;
        border-radius: 50%;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }
    
    /* Before/After Comparison */
    .generation-area {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px;
    }
    
    .before-after-comparison {
        display: flex;
        align-items: center;
        gap: 40px;
    }
    
    
    .comparison-label {
        font-size: 18px;
        font-weight: bold;
        color: #ffffff;
        margin-bottom: 15px;
    }
    
    .comparison-image {
        width: 300px;
        height: 300px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .before-item .comparison-image {
        background: #f0f0f0;
    }
    
    .after-item .comparison-image {
        background: #333;
    }
    
    .placeholder-sketch {
        color: #666;
        font-size: 16px;
        text-align: center;
    }
    
    .placeholder-result {
        color: #999;
        font-size: 16px;
        text-align: center;
    }
    
    .comparison-arrow {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background: #4a4a4a;
        border-radius: 50%;
    }
    
    .arrow-large {
        width: 0;
        height: 0;
        border-left: 15px solid #ffffff;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    /* Drawing and Controls */
    .drawing-controls {
        position: absolute;
        right: 20px;
        top: 20px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    
    .control-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .control-btn {
        padding: 8px 12px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        color: #ffffff;
        font-size: 12px;
        transition: all 0.2s ease;
        white-space: nowrap;
    }
    
    .control-btn:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .comparison-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
    }
    
    #drawingCanvas {
        display: none;
        border: 2px solid #4a9eff;
        border-radius: 12px;
    }
</style>

<div class="ai-portrait-interface">
    <div class="app-container">
        <!-- Left Sidebar - Reference Gallery -->
        <div class="reference-panel">
            <div class="reference-header">
                <h2 class="reference-title">Reference</h2>
                <button class="reload-btn" id="reloadImages" title="Reload Images">
                    <span class="reload-icon">🔄</span>
                </button>
            </div>
            <div class="reference-grid" id="referenceGrid">
                <!-- Images will be loaded dynamically -->
            </div>
            
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Header -->
            <div class="app-header">
                <h1 class="header-title">AI Generation</h1>
                <div class="header-controls">
                    <button class="icon-button">🔍</button>
                    <button class="icon-button">💾</button>
                    <button class="icon-button notification-badge">🛒</button>
                </div>
            </div>
            
            <!-- Before/After Comparison Area -->
            <div class="generation-area">
                <div class="before-after-comparison">
                    <div class="comparison-item before-item">
                        <div class="comparison-label">Before</div>
                        <div class="comparison-image" id="beforeImage">
                            <img src="/images/fighting-line-art.png" alt="Fighting line art" style="width:100%;height:100%;object-fit:cover;">
                            <canvas id="drawingCanvas" width="300" height="300" style="position: absolute; top: 0; left: 0; cursor: crosshair; z-index: 10; display: none; border-radius: 12px;"></canvas>
                        </div>
                    </div>
                    <div class="comparison-arrow">
                        <div class="arrow-large"></div>
                    </div>
                    <div class="comparison-item after-item">
                        <div class="comparison-label">After</div>
                        <div class="comparison-image" id="afterImage">
                            <video src="/images/Nzf983xJ3tjGM8FIECfL9_video.mp4" alt="Generated Fighting Scene" style="width:100%;height:100%;object-fit:cover;" autoplay loop muted>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Drawing and Controls -->
            <div class="drawing-controls">
                <div class="control-buttons">
                    <button class="control-btn" id="clearCanvas">🗑️ Clear</button>
                    <button class="control-btn" id="switchImages">⇄ Switch</button>
                    <button class="control-btn" id="toggleDraw">✏️ Draw</button>
                    <button class="control-btn" id="saveDrawing">💾 Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        let allImages = []; // Will be populated from JSON file

        // Function to load images into reference grid
        function loadImages() {
            const referenceGrid = document.getElementById('referenceGrid');
            referenceGrid.innerHTML = ''; // Clear existing images
            
            allImages.forEach((imageName, index) => {
                const referenceItem = document.createElement('div');
                referenceItem.className = 'reference-item';
                
                // Select first few items by default for demo
                if (index % 3 === 0) {
                    referenceItem.classList.add('selected');
                }
                
                // Create readable alt text from filename
                const altText = imageName
                    .replace(/\.(png|jpg|jpeg|gif)$/i, '')
                    .replace(/[-_]/g, ' ')
                    .replace(/\b\w/g, char => char.toUpperCase());
                
                referenceItem.innerHTML = `
                    <img src="/images/${imageName}" alt="${altText}">
                    <div class="checkmark">✓</div>
                `;
                
                referenceGrid.appendChild(referenceItem);
            });
            
            // Re-attach click event listeners
            document.querySelectorAll('.reference-item').forEach(item => {
                // Left click - update Before image
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu with relative path
                item.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // Get relative path from src
                        const src = img.src;
                        const relativePath = src.substring(src.indexOf('/images/'));
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
            });
        }
        
        // Function to fetch images list from JSON
        async function fetchImagesList(fromApi = false) {
            try {
                // If fromApi is true, fetch from API endpoint which also updates the JSON
                const url = fromApi ? '/api/images' : '/data/images_list.json';
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Failed to fetch images list');
                }
                const data = await response.json();
                allImages = data.images || [];
                loadImages();
            } catch (error) {
                console.error('Error fetching images:', error);
                // Fallback: try to load from static JSON if API fails
                if (fromApi) {
                    fetchImagesList(false);
                } else {
                    allImages = [];
                    loadImages();
                }
            }
        }
        
        // Initial load
        fetchImagesList();
        
        // Reload button functionality
        document.getElementById('reloadImages').addEventListener('click', async function() {
            const btn = this;
            btn.classList.add('loading');
            
            // Re-fetch images list from API (which updates the JSON file)
            try {
                await fetchImagesList(true); // true = use API endpoint
                btn.classList.remove('loading');
                
                // Show success feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '✅';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            } catch (error) {
                btn.classList.remove('loading');
                console.error('Error reloading images:', error);
                
                // Show error feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '❌';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            }
        });


        // Drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let drawingEnabled = false;
        let lastSavedDrawing = null;

        // Set drawing style
        ctx.strokeStyle = '#ff0000';
        ctx.lineWidth = 3;
        ctx.lineCap = 'round';

        // Toggle drawing mode
        document.getElementById('toggleDraw').addEventListener('click', function() {
            drawingEnabled = !drawingEnabled;
            canvas.style.display = drawingEnabled ? 'block' : 'none';
            this.textContent = drawingEnabled ? '🖊️ Drawing' : '✏️ Draw';
            this.style.background = drawingEnabled ? '#4a9eff' : '#3a3a3a';
        });

        // Clear canvas
        document.getElementById('clearCanvas').addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        // Switch images
        document.getElementById('switchImages').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const afterImg = document.querySelector('#afterImage img');
            const tempSrc = beforeImg.src;
            const tempAlt = beforeImg.alt;
            
            beforeImg.src = afterImg.src;
            beforeImg.alt = afterImg.alt;
            afterImg.src = tempSrc;
            afterImg.alt = tempAlt;
        });

        // Save drawing combined with background image
        document.getElementById('saveDrawing').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const canvas = document.getElementById('drawingCanvas');
            
            // Create a new canvas to combine image and drawing
            const combinedCanvas = document.createElement('canvas');
            const combinedCtx = combinedCanvas.getContext('2d');
            
            // Set canvas size to match the image display size
            combinedCanvas.width = 300;
            combinedCanvas.height = 300;
            
            // Create a new image to ensure it's loaded
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            img.onload = function() {
                // Draw the background image
                combinedCtx.drawImage(img, 0, 0, 300, 300);
                
                // Draw the drawing on top
                combinedCtx.drawImage(canvas, 0, 0);
                
                // Convert to base64 data URL
                const dataURL = combinedCanvas.toDataURL('image/png');
                const timestamp = Date.now();
                const filename = 'hand-drawn-' + timestamp + '.png';
                
                // Add to reference gallery immediately
                const referenceGrid = document.querySelector('.reference-grid');
                const newReferenceItem = document.createElement('div');
                newReferenceItem.className = 'reference-item selected';
                newReferenceItem.innerHTML = `
                    <img src="${dataURL}" alt="Hand Drawn">
                    <div class="checkmark">✓</div>
                `;
                
                // Add click functionality - same as other reference items
                // Left click - update Before image
                newReferenceItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu
                newReferenceItem.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // For saved drawings, use the filename
                        const relativePath = '/' + filename;
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
                
                referenceGrid.appendChild(newReferenceItem);
                
                // Store the last saved drawing for AI generation
                lastSavedDrawing = dataURL;
                
                // Also download the file
                combinedCanvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
                
                // Show success message
                const saveBtn = document.getElementById('saveDrawing');
                const originalText = saveBtn.textContent;
                saveBtn.textContent = '✅ Saved & Added!';
                saveBtn.style.background = '#4CAF50';
                setTimeout(() => {
                    saveBtn.textContent = originalText;
                    saveBtn.style.background = '#3a3a3a';
                }, 2000);
            };
            
            img.src = beforeImg.src;
        });


        // Drawing events
        canvas.addEventListener('mousedown', function(e) {
            if (!drawingEnabled) return;
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        });

        canvas.addEventListener('mousemove', function(e) {
            if (!drawingEnabled || !isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener('mouseup', function() {
            isDrawing = false;
        });

        canvas.addEventListener('mouseout', function() {
            isDrawing = false;
        });
    });
</script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="saas-storyboard" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ビデオビューアー</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storyboard_flow</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            overflow: hidden;
        }
        
        .storyboard-viewer {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: #2a2a2a;
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        
        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .export-btn, .settings-btn {
            padding: 8px 16px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .export-btn:hover, .settings-btn:hover {
            background: #5a5a5a;
            transform: translateY(-1px);
        }
        
        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* Timeline */
        .timeline {
            width: 250px;
            background: #2a2a2a;
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid #3a3a3a;
        }
        
        .timeline h3 {
            color: white;
            margin: 0 0 20px 0;
            font-size: 18px;
            font-weight: 600;
        }
        
        .timeline-item {
            background: #3a3a3a;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .timeline-item:hover {
            background: #4a4a4a;
            transform: translateX(5px);
        }
        
        .timeline-item.active {
            background: #0066cc;
            box-shadow: 0 4px 15px rgba(0, 102, 204, 0.3);
        }
        
        .timeline-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: #00aaff;
        }
        
        .scene-number {
            color: #aaa;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .timeline-item.active .scene-number {
            color: #cce6ff;
        }
        
        .scene-title {
            color: white;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .scene-duration {
            color: #999;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timeline-item.active .scene-duration {
            color: #cce6ff;
        }
        
        /* Viewer Area */
        .viewer-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #1a1a1a;
        }
        
        /* Video Container */
        .video-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
        }
        
        .video-wrapper {
            position: relative;
            width: 100%;
            max-width: 1200px;
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* Video Overlay Info */
        .video-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            backdrop-filter: blur(10px);
        }
        
        .current-scene {
            font-size: 14px;
            color: #00aaff;
            margin-bottom: 5px;
        }
        
        .scene-description {
            font-size: 16px;
            font-weight: 500;
        }
        
        /* Controls Bar */
        .controls-bar {
            background: #2a2a2a;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .play-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .control-btn {
            width: 40px;
            height: 40px;
            background: #4a4a4a;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }
        
        .control-btn:hover {
            background: #5a5a5a;
            transform: scale(1.1);
        }
        
        .control-btn.play-pause {
            width: 50px;
            height: 50px;
            background: #0066cc;
        }
        
        .control-btn.play-pause:hover {
            background: #0080ff;
        }
        
        /* Progress Bar */
        .progress-container {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .progress-bar {
            flex: 1;
            height: 6px;
            background: #3a3a3a;
            border-radius: 3px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        
        .progress-bar:hover {
            height: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: #0066cc;
            width: 0%;
            transition: width 0.1s linear;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .progress-bar:hover .progress-fill::after {
            opacity: 1;
        }
        
        .time-display {
            color: white;
            font-size: 14px;
            min-width: 100px;
            text-align: center;
        }
        
        /* Volume Control */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-icon {
            width: 30px;
            height: 30px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .volume-slider {
            width: 80px;
            height: 6px;
            background: #3a3a3a;
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }
        
        .volume-fill {
            height: 100%;
            background: #0066cc;
            width: 70%;
            border-radius: 3px;
        }
        
        /* Fullscreen Button */
        .fullscreen-btn {
            width: 35px;
            height: 35px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .fullscreen-btn:hover {
            background: #5a5a5a;
            transform: scale(1.1);
        }
        
        /* Scene Markers on Progress Bar */
        .scene-markers {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .scene-marker {
            position: absolute;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .timeline {
                width: 200px;
            }
            
            .video-container {
                padding: 20px;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .controls-bar {
                padding: 15px 20px;
            }
            
            .volume-control {
                display: none;
            }
        }
        
        /* Loading State */
        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 3px solid #3a3a3a;
            border-top-color: #0066cc;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }
        
        @keyframes spin {
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Tooltips */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            white-space: nowrap;
            z-index: 1000;
        }
        
        .tooltip.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="storyboard-viewer">
        <!-- Header -->
        <div class="header">
            <h1>Storyboard Viewer</h1>
            <div class="header-controls">
                <button class="export-btn">📥 Export</button>
                <button class="settings-btn">⚙️ Settings</button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Timeline -->
            <div class="timeline">
                <h3>Scenes</h3>
                <div class="timeline-item active">
                    <div class="scene-number">Scene 01</div>
                    <div class="scene-title">Opening Shot</div>
                    <div class="scene-duration">⏱️ 0:00 - 0:15</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 02</div>
                    <div class="scene-title">Character Introduction</div>
                    <div class="scene-duration">⏱️ 0:15 - 0:45</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 03</div>
                    <div class="scene-title">Action Sequence</div>
                    <div class="scene-duration">⏱️ 0:45 - 1:30</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 04</div>
                    <div class="scene-title">Dialogue Scene</div>
                    <div class="scene-duration">⏱️ 1:30 - 2:15</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 05</div>
                    <div class="scene-title">Climax</div>
                    <div class="scene-duration">⏱️ 2:15 - 3:00</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 06</div>
                    <div class="scene-title">Resolution</div>
                    <div class="scene-duration">⏱️ 3:00 - 3:30</div>
                </div>
            </div>
            
            <!-- Viewer Area -->
            <div class="viewer-area">
                <div class="video-container">
                    <div class="video-wrapper">
                        <video id="storyboardVideo" src="/images/karate-woman-man-v2.mp4"></video>
                        <div class="loading-spinner"></div>
                        <div class="video-overlay">
                            <div class="current-scene">Scene 01</div>
                            <div class="scene-description">Opening Shot</div>
                        </div>
                    </div>
                </div>
                
                <!-- Controls Bar -->
                <div class="controls-bar">
                    <div class="play-controls">
                        <button class="control-btn" id="prevBtn">⏮️</button>
                        <button class="control-btn play-pause" id="playPauseBtn">▶️</button>
                        <button class="control-btn" id="nextBtn">⏭️</button>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                            <div class="scene-markers">
                                <div class="scene-marker" style="left: 8.3%"></div>
                                <div class="scene-marker" style="left: 25%"></div>
                                <div class="scene-marker" style="left: 41.7%"></div>
                                <div class="scene-marker" style="left: 62.5%"></div>
                                <div class="scene-marker" style="left: 83.3%"></div>
                            </div>
                        </div>
                        <div class="time-display">
                            <span id="currentTime">0:00</span> / <span id="totalTime">3:30</span>
                        </div>
                    </div>
                    
                    <div class="volume-control">
                        <button class="volume-icon">🔊</button>
                        <div class="volume-slider">
                            <div class="volume-fill"></div>
                        </div>
                    </div>
                    
                    <button class="fullscreen-btn" id="fullscreenBtn">⛶</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Video element and controls
        const video = document.getElementById('storyboardVideo');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        
        // Scene data
        const scenes = [
            { id: 1, title: 'Opening Shot', start: 0, end: 15 },
            { id: 2, title: 'Character Introduction', start: 15, end: 45 },
            { id: 3, title: 'Action Sequence', start: 45, end: 90 },
            { id: 4, title: 'Dialogue Scene', start: 90, end: 135 },
            { id: 5, title: 'Climax', start: 135, end: 180 },
            { id: 6, title: 'Resolution', start: 180, end: 210 }
        ];
        
        let currentSceneIndex = 0;
        
        // Format time helper
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Update time display
        function updateTimeDisplay() {
            currentTimeEl.textContent = formatTime(video.currentTime);
            totalTimeEl.textContent = formatTime(video.duration || 210);
        }
        
        // Update progress bar
        function updateProgress() {
            const progress = (video.currentTime / video.duration) * 100;
            progressFill.style.width = progress + '%';
            updateTimeDisplay();
            updateActiveScene();
        }
        
        // Update active scene
        function updateActiveScene() {
            const currentTime = video.currentTime;
            let activeIndex = 0;
            
            for (let i = 0; i < scenes.length; i++) {
                if (currentTime >= scenes[i].start && currentTime < scenes[i].end) {
                    activeIndex = i;
                    break;
                }
            }
            
            if (activeIndex !== currentSceneIndex) {
                currentSceneIndex = activeIndex;
                updateSceneUI();
            }
        }
        
        // Update scene UI
        function updateSceneUI() {
            // Update timeline items
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                if (index === currentSceneIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Update overlay
            const currentScene = scenes[currentSceneIndex];
            document.querySelector('.current-scene').textContent = `Scene 0${currentScene.id}`;
            document.querySelector('.scene-description').textContent = currentScene.title;
        }
        
        // Play/Pause functionality
        playPauseBtn.addEventListener('click', () => {
            if (video.paused) {
                video.play();
                playPauseBtn.textContent = '⏸️';
            } else {
                video.pause();
                playPauseBtn.textContent = '▶️';
            }
        });
        
        // Previous scene
        prevBtn.addEventListener('click', () => {
            if (currentSceneIndex > 0) {
                currentSceneIndex--;
                video.currentTime = scenes[currentSceneIndex].start;
                updateSceneUI();
            }
        });
        
        // Next scene
        nextBtn.addEventListener('click', () => {
            if (currentSceneIndex < scenes.length - 1) {
                currentSceneIndex++;
                video.currentTime = scenes[currentSceneIndex].start;
                updateSceneUI();
            }
        });
        
        // Progress bar click
        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const pos = (e.clientX - rect.left) / rect.width;
            video.currentTime = pos * video.duration;
        });
        
        // Timeline item click
        document.querySelectorAll('.timeline-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                currentSceneIndex = index;
                video.currentTime = scenes[index].start;
                updateSceneUI();
            });
        });
        
        // Fullscreen
        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.querySelector('.storyboard-viewer').requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        });
        
        // Video events
        video.addEventListener('timeupdate', updateProgress);
        video.addEventListener('loadedmetadata', updateTimeDisplay);
        
        // Initialize
        updateSceneUI();
        updateTimeDisplay();
    </script>
</body>
</html>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="saas-storyboard-viewer" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ストーリーボードビューアー</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    :root {
      --page-bg: #fdfcf8;
      --paper-line: rgba(60, 100, 160, 0.08);
      --ring: #c3c3c3;
      --shadow: rgba(0,0,0,0.15);
      --seam: rgba(0,0,0,0.18);
      --scale: 0.5; /* 見開き時の縮小率（50%） */
      --header-h: 44px; /* 固定ヘッダー高さ */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      margin: 0;
      background: #2c2c2c;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", Arial, sans-serif;
      color: #222;
      padding: 0; /* 固定ヘッダー採用のため本文の上余白は不要 */
      overflow-x: hidden;
    }

    .header {
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 4px 12px;
      width: 100%;
      max-width: none;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      position: relative;
      z-index: 10;
    }

    /* 全体をヘッダー行 + コンテンツ行の2段グリッドで構成 */
    .storyboard-app {
      position: relative;
      display: grid;
      grid-template-rows: auto 1fr;
      height: 90vh;
      width: 100%;
      overflow: hidden;
      border-radius: 8px;
      background: #2c2c2c;
      max-width: 100%;
    }
    .views { position: relative; height: 100%; width: 100%; overflow-y: auto; overflow-x: hidden; }
    .title { font-size: 18px; font-weight: 700; color: #333; }
    .meta { color: #666; font-size: 12px; }
    .meta span + span { margin-left: 10px; }
    .links a { color: #0a6cff; text-decoration: none; font-size: 12px; }

    /* 見開き本体 */
    .spread {
      position: relative;
      width: 100%;
      max-width: none;
      margin: 0;
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    /* 見開きスケール用のラッパーと中身 */
    .view-spread { position: absolute; inset: 0; width: 100%; overflow: auto; }
    /* スケール調整 - コンテナに収まるサイズに */
    .spread-inner { transform: scale(0.5); transform-origin: top left; width: 200%; max-width: none; margin: 0; }

    /* 中央の綴じ目 */
    .spread::after {
      content: "";
      position: absolute;
      top: 20px; bottom: 20px; left: 50%; width: 2px;
      transform: translateX(-50%);
      background: linear-gradient(to bottom, transparent 0, var(--seam) 8%, var(--seam) 92%, transparent 100%);
    }

    /* ノート風のページ */
    .page {
      position: relative;
      background: var(--page-bg);
      border-radius: 0;
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04);
    }
    /* 罫線（横線） */
    .page::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        transparent 0 26px,
        var(--paper-line) 26px 27px
      );
      pointer-events: none;
    }
    /* 綴じリングの穴（内側余白側に表示） */
    .page::after {
      content: "";
      position: absolute;
      top: 22px; bottom: 22px;
      width: 14px;
      background:
        radial-gradient(circle 4px at 50% 16px, rgba(0,0,0,0.08) 0 70%, transparent 72%) repeat-y,
        radial-gradient(circle 3.5px at 50% 16px, var(--ring) 0 60%, transparent 62%) repeat-y;
      background-size: 14px 44px, 14px 44px;
      background-position: center top, center top;
      opacity: 0.9;
      pointer-events: none;
    }
    .page.left::after { left: 8px; }
    .page.right::after { right: 8px; }

    .page-inner { position: relative; padding: 0 8px 8px; }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      position: sticky; top: 0; z-index: 3;
      background: linear-gradient(var(--page-bg), var(--page-bg));
      padding: 4px 6px; /* 上の詰め */
      border-radius: 6px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    }
    .badge { background:#ffd84d; padding: 4px 10px; border-radius: 20px; font-weight: 700; font-size: 12px; }
    .scene { color:#555; font-weight:700; font-size: 12px; }

    /* 画像＋テキストの縦フロー（上下連結） */
    .stack { display: flex; flex-direction: column; gap: 0; }
    .row {
      display: grid;
      grid-template-columns: 56px 3fr 1.6fr 1.6fr 64px; /* CUT | PICTURE | text | script | TIME */
      align-items: stretch;
      background: var(--page-bg);
    }
    .row + .row { border-top: 1px solid rgba(0,0,0,0.06); }
    .cell { position: relative; background: transparent; }
    .cell + .cell { border-left: 2px solid rgba(0,0,0,0.12); }

    /* 列ヘッダー */
    .row.header { position: static; z-index: 1; background: linear-gradient(var(--page-bg), var(--page-bg)); }
    .row.header .cell { 
      font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .04em;
      color: #333; display: flex; align-items: center; justify-content: center;
      background: #eceff7; border-left-color: rgba(0,0,0,0.14);
      padding: 6px 4px;
    }

    /* 画像セル */
    .frame { position: relative; overflow: hidden; }
    /* どのアスペクト比でも全体が見えるように contain + 自然高さ */
    .img { width: 100%; height: auto; object-fit: contain; display: block; background: #fff; }
    /* オーバーレイ（CUT・TIME） */
    .overlay {
      position: absolute; left: 8px; top: 8px;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.2);
      border-radius: 4px; padding: 2px 8px;
      font-size: 12px; font-weight: 700; color: #111;
    }
    .time { position: absolute; right: 8px; bottom: 8px; background: rgba(0,0,0,0.65); color: #fff; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 4px; }

    /* 画像上のCUT/秒数は非表示（列側に表示するため） */
    .frame .overlay, .frame .time { display: none !important; }

    /* テキスト/スクリプト/時間セル */
    .text, .script { padding: 10px; font-size: 14px; line-height: 1.5; color: #222; white-space: pre-wrap; }
    .timecell { display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 14px; background: #fff; }

    /* 常に左右2カラム表示（小さい画面でも崩さない） */
    @media (max-width: 700px) {
      /* 700px 未満では綴じ目の演出だけ抑える */
      .spread::after { display: none; }
    }

    /* トグルボタン */
    .view-toggle { display: inline-flex; background: #f1f5f9; border-radius: 8px; padding: 4px; gap: 4px; }
    .toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 6px 10px; border-radius: 6px; font-weight: 700; font-size: 12px; cursor: pointer; }
    .toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 動画タグ */
    .vid { width: 100%; height: auto; object-fit: contain; display: none; background: #000; }

    /* メディアトグル */
    .media-toggle { display: inline-flex; gap: 4px; margin-left: 6px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .media-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .media-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }

    /* 画像モードトグル */
    .image-toggle { display: inline-flex; gap: 4px; margin-left: 8px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .img-toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .img-toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 縦ビューも固定配置でヘッダー直下から開始し、左右いっぱい */
    .view-vertical {
      position: static; /* フローに参加して .views を押し広げる */
      width: 100%; max-width: none; margin: 0;
      background: transparent;
      display: block;
    }
  </style>
  <!-- 画像は docs/pencil_drawings/scene1.png ... scene10.png を使用 -->
  <!-- 実写は docs/storyboard_images/scene1_realistic.jpg ... を参照 -->
  <div class="storyboard-app" data-mode="spread" data-image-mode="sketch" data-media-mode="image">
  <div class="header">
    <div>
      <div class="title">🎞️ 絵コンテ 見開きフロー（連結）</div>
      <div class="meta">
        <span>プロジェクト: サンプル</span>
        <span>日付: 2025-08-23</span>
        <span>カット: 10</span>
      </div>
    </div>
    <div class="view-toggle" role="group" aria-label="表示切り替え">
      <button class="toggle-btn" data-mode="vertical">上から下</button>
      <button class="toggle-btn active" data-mode="spread">見開き</button>
    </div>
  </div>

  <div class="views">
  <!-- 見開きビュー -->
  <div class="view-spread">
    <div class="spread spread-inner">
    <!-- 左ページ -->
    <section class="page left">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Left 1/1</div>
          <div class="scene">シーン: 左列（1-5）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕草。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 右ページ -->
    <section class="page right">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Right 1/1</div>
          <div class="scene">シーン: 右列（6-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>
        </div>
      </div>
    </section>
    </div>
  </div>

  <!-- 上から下ビュー（単ページ縦並び） -->
  <div class="view-vertical" style="display:none;">
    <section class="page left" style="margin: 0 0 24px 0;">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Vertical</div>
          <div class="scene">シーン: 連結ビュー（1-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <!-- CUT 001 → 010 を縦に通しで表示 -->
          <!-- 001 -->
          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 002 -->
          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 003 -->
          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 004 -->
          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕姿。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 005 -->
          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>

          <!-- 006 -->
          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <!-- 007 -->
          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 008 -->
          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 009 -->
          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 010 -->
          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>

        </div>
      </div>
    </section>
          </div> <!-- /views -->
    </div> <!-- /app -->

    <script>
      // トグル切り替え
      const buttons = document.querySelectorAll('.toggle-btn');
      buttons.forEach(btn => btn.addEventListener('click', () => {
        const mode = btn.dataset.mode;
        const app = document.querySelector('.storyboard-app');
        if (app) app.setAttribute('data-mode', mode);
      document.querySelector('.view-spread').style.display = (mode === 'spread') ? 'block' : 'none';
      document.querySelector('.view-vertical').style.display = (mode === 'spread') ? 'none' : 'block';
      buttons.forEach(b => b.classList.toggle('active', b === btn));
    }));

    // 画像モード（鉛筆/実写）切替
    const imgBtns = document.querySelectorAll('.img-toggle-btn');
    function applyImageMode(mode) {
      const app = document.querySelector('.storyboard-app');
      if (app) app.setAttribute('data-image-mode', mode);
      document.querySelectorAll('.frame img[data-sketch-src]').forEach(img => {
        const sketch = img.getAttribute('data-sketch-src');
        const live = img.getAttribute('data-live-src') || sketch;
        img.src = (mode === 'live') ? live : sketch;
      });
      imgBtns.forEach(b => b.classList.toggle('active', b.dataset.image === mode));
    }
    imgBtns.forEach(btn => btn.addEventListener('click', () => applyImageMode(btn.dataset.image)));
    // メディアモード切替（静止画/動画）
    const mediaBtns = document.querySelectorAll('.media-btn');
    function applyMediaMode(mode) {
      const app = document.querySelector('.storyboard-app');
      if (app) app.setAttribute('data-media-mode', mode);
      document.querySelectorAll('.frame').forEach(frame => {
        const img = frame.querySelector('img');
        const vid = frame.querySelector('video.vid');
        if (!img && !vid) return;
        if (mode === 'image') {
          if (vid) {
            try { vid.pause(); } catch (e) {}
            vid.removeAttribute('src');
            vid.load();
            vid.style.display = 'none';
          }
          if (img) img.style.display = 'block';
        } else {
          // video
          if (img) img.style.display = 'none';
          if (vid) {
            const src = vid.getAttribute('data-video-src');
            if (!src) { vid.style.display = 'none'; return; }
            // セットしてロード
            if (vid.getAttribute('src') !== src) {
              vid.setAttribute('src', src);
            }
            vid.load();
            vid.onloadedmetadata = () => {
              vid.style.display = 'block';
              const p = vid.play(); if (p && p.catch) p.catch(() => {});
            };
            vid.onerror = () => { vid.style.display = 'none'; };
          }
        }
      });
      mediaBtns.forEach(b => b.classList.toggle('active', b.dataset.media === mode));
    }
    mediaBtns.forEach(btn => btn.addEventListener('click', () => applyMediaMode(btn.dataset.media)));

    // 初期モード適用
    const app = document.querySelector('.storyboard-app');
    if (app) {
      applyImageMode(app.getAttribute('data-image-mode') || 'sketch');
      applyMediaMode(app.getAttribute('data-media-mode') || 'image');
    }

    // グリッドレイアウトに統一したため、上下位置の補正処理は不要
  </script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="saas-ai-portrait" data-cat="3" data-cat-name="メディアエディタ">
    <h2>AI Portrait Generator</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    .ai-portrait-interface {
        background: #1a1a1a;
        border-radius: 12px;
        padding: 0;
        margin: 20px 0;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    
    .app-container {
        display: flex;
        height: 600px;
        background: #1a1a1a;
        color: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    /* Left Sidebar - Reference Gallery */
    .reference-panel {
        width: 280px;
        background: #2d2d2d;
        padding: 20px;
        overflow-y: auto;
        border-right: 1px solid #3a3a3a;
    }
    
    .reference-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .reference-title {
        font-size: 22px;
        font-weight: bold;
        margin: 0;
        color: #ffffff;
    }
    
    .reload-btn {
        background: #3a3a3a;
        border: 1px solid #505050;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        transition: all 0.2s;
        color: #e0e0e0;
        font-size: 16px;
    }
    
    .reload-btn:hover {
        background: #4a4a4a;
        border-color: #606060;
    }
    
    .reload-btn:active {
        transform: scale(0.95);
    }
    
    .reload-btn.loading .reload-icon {
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Context menu styles */
    .context-menu {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        transition: opacity 0.2s;
    }
    
    .context-menu:hover {
        background: #3a3a3a !important;
    }
    
    .reference-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-bottom: 25px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .reference-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        background: #666;
    }
    
    .reference-item:hover {
        border-color: #4a9eff;
        transform: scale(1.02);
    }
    
    .reference-item.selected {
        border-color: #4a9eff;
        box-shadow: 0 0 15px rgba(74, 158, 255, 0.3);
    }
    
    .reference-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .reference-item .checkmark {
        position: absolute;
        bottom: 4px;
        right: 4px;
        width: 18px;
        height: 18px;
        background: #4a9eff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    
    .reference-item.selected .checkmark {
        opacity: 1;
    }
    
    
    /* Main Content Area */
    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: #1a1a1a;
        position: relative;
    }
    
    /* Header */
    .app-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: #2d2d2d;
        border-bottom: 1px solid #3a3a3a;
    }
    
    .header-title {
        font-size: 24px;
        font-weight: bold;
        color: #ffffff;
    }
    
    .header-controls {
        display: flex;
        gap: 12px;
        align-items: center;
    }
    
    .icon-button {
        width: 36px;
        height: 36px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        transition: all 0.2s ease;
    }
    
    .icon-button:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .notification-badge {
        position: relative;
    }
    
    .notification-badge::after {
        content: '1';
        position: absolute;
        top: -4px;
        right: -4px;
        width: 16px;
        height: 16px;
        background: #ff4757;
        border-radius: 50%;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }
    
    /* Before/After Comparison */
    .generation-area {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px;
    }
    
    .before-after-comparison {
        display: flex;
        align-items: center;
        gap: 40px;
    }
    
    
    .comparison-label {
        font-size: 18px;
        font-weight: bold;
        color: #ffffff;
        margin-bottom: 15px;
    }
    
    .comparison-image {
        width: 300px;
        height: 300px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .before-item .comparison-image {
        background: #f0f0f0;
    }
    
    .after-item .comparison-image {
        background: #333;
    }
    
    .placeholder-sketch {
        color: #666;
        font-size: 16px;
        text-align: center;
    }
    
    .placeholder-result {
        color: #999;
        font-size: 16px;
        text-align: center;
    }
    
    .comparison-arrow {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background: #4a4a4a;
        border-radius: 50%;
    }
    
    .arrow-large {
        width: 0;
        height: 0;
        border-left: 15px solid #ffffff;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    /* Drawing and Controls */
    .drawing-controls {
        position: absolute;
        right: 20px;
        top: 20px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    
    .control-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .control-btn {
        padding: 8px 12px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        color: #ffffff;
        font-size: 12px;
        transition: all 0.2s ease;
        white-space: nowrap;
    }
    
    .control-btn:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .comparison-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
    }
    
    #drawingCanvas {
        display: none;
        border: 2px solid #4a9eff;
        border-radius: 12px;
    }
</style>

<div class="ai-portrait-interface">
    <div class="app-container">
        <!-- Left Sidebar - Reference Gallery -->
        <div class="reference-panel">
            <div class="reference-header">
                <h2 class="reference-title">Reference</h2>
                <button class="reload-btn" id="reloadImages" title="Reload Images">
                    <span class="reload-icon">🔄</span>
                </button>
            </div>
            <div class="reference-grid" id="referenceGrid">
                <!-- Images will be loaded dynamically -->
            </div>
            
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Header -->
            <div class="app-header">
                <h1 class="header-title">AI Generation</h1>
                <div class="header-controls">
                    <button class="icon-button">🔍</button>
                    <button class="icon-button">💾</button>
                    <button class="icon-button notification-badge">🛒</button>
                </div>
            </div>
            
            <!-- Before/After Comparison Area -->
            <div class="generation-area">
                <div class="before-after-comparison">
                    <div class="comparison-item before-item">
                        <div class="comparison-label">Before</div>
                        <div class="comparison-image" id="beforeImage">
                            <img src="/images/fighting-line-art.png" alt="Fighting line art" style="width:100%;height:100%;object-fit:cover;">
                            <canvas id="drawingCanvas" width="300" height="300" style="position: absolute; top: 0; left: 0; cursor: crosshair; z-index: 10; display: none; border-radius: 12px;"></canvas>
                        </div>
                    </div>
                    <div class="comparison-arrow">
                        <div class="arrow-large"></div>
                    </div>
                    <div class="comparison-item after-item">
                        <div class="comparison-label">After</div>
                        <div class="comparison-image" id="afterImage">
                            <video src="/images/Nzf983xJ3tjGM8FIECfL9_video.mp4" alt="Generated Fighting Scene" style="width:100%;height:100%;object-fit:cover;" autoplay loop muted>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Drawing and Controls -->
            <div class="drawing-controls">
                <div class="control-buttons">
                    <button class="control-btn" id="clearCanvas">🗑️ Clear</button>
                    <button class="control-btn" id="switchImages">⇄ Switch</button>
                    <button class="control-btn" id="toggleDraw">✏️ Draw</button>
                    <button class="control-btn" id="saveDrawing">💾 Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        let allImages = []; // Will be populated from JSON file

        // Function to load images into reference grid
        function loadImages() {
            const referenceGrid = document.getElementById('referenceGrid');
            referenceGrid.innerHTML = ''; // Clear existing images
            
            allImages.forEach((imageName, index) => {
                const referenceItem = document.createElement('div');
                referenceItem.className = 'reference-item';
                
                // Select first few items by default for demo
                if (index % 3 === 0) {
                    referenceItem.classList.add('selected');
                }
                
                // Create readable alt text from filename
                const altText = imageName
                    .replace(/\.(png|jpg|jpeg|gif)$/i, '')
                    .replace(/[-_]/g, ' ')
                    .replace(/\b\w/g, char => char.toUpperCase());
                
                referenceItem.innerHTML = `
                    <img src="/images/${imageName}" alt="${altText}">
                    <div class="checkmark">✓</div>
                `;
                
                referenceGrid.appendChild(referenceItem);
            });
            
            // Re-attach click event listeners
            document.querySelectorAll('.reference-item').forEach(item => {
                // Left click - update Before image
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu with relative path
                item.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // Get relative path from src
                        const src = img.src;
                        const relativePath = src.substring(src.indexOf('/images/'));
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
            });
        }
        
        // Function to fetch images list from JSON
        async function fetchImagesList(fromApi = false) {
            try {
                // If fromApi is true, fetch from API endpoint which also updates the JSON
                const url = fromApi ? '/api/images' : '/data/images_list.json';
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Failed to fetch images list');
                }
                const data = await response.json();
                allImages = data.images || [];
                loadImages();
            } catch (error) {
                console.error('Error fetching images:', error);
                // Fallback: try to load from static JSON if API fails
                if (fromApi) {
                    fetchImagesList(false);
                } else {
                    allImages = [];
                    loadImages();
                }
            }
        }
        
        // Initial load
        fetchImagesList();
        
        // Reload button functionality
        document.getElementById('reloadImages').addEventListener('click', async function() {
            const btn = this;
            btn.classList.add('loading');
            
            // Re-fetch images list from API (which updates the JSON file)
            try {
                await fetchImagesList(true); // true = use API endpoint
                btn.classList.remove('loading');
                
                // Show success feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '✅';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            } catch (error) {
                btn.classList.remove('loading');
                console.error('Error reloading images:', error);
                
                // Show error feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '❌';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            }
        });


        // Drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let drawingEnabled = false;
        let lastSavedDrawing = null;

        // Set drawing style
        ctx.strokeStyle = '#ff0000';
        ctx.lineWidth = 3;
        ctx.lineCap = 'round';

        // Toggle drawing mode
        document.getElementById('toggleDraw').addEventListener('click', function() {
            drawingEnabled = !drawingEnabled;
            canvas.style.display = drawingEnabled ? 'block' : 'none';
            this.textContent = drawingEnabled ? '🖊️ Drawing' : '✏️ Draw';
            this.style.background = drawingEnabled ? '#4a9eff' : '#3a3a3a';
        });

        // Clear canvas
        document.getElementById('clearCanvas').addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        // Switch images
        document.getElementById('switchImages').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const afterImg = document.querySelector('#afterImage img');
            const tempSrc = beforeImg.src;
            const tempAlt = beforeImg.alt;
            
            beforeImg.src = afterImg.src;
            beforeImg.alt = afterImg.alt;
            afterImg.src = tempSrc;
            afterImg.alt = tempAlt;
        });

        // Save drawing combined with background image
        document.getElementById('saveDrawing').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const canvas = document.getElementById('drawingCanvas');
            
            // Create a new canvas to combine image and drawing
            const combinedCanvas = document.createElement('canvas');
            const combinedCtx = combinedCanvas.getContext('2d');
            
            // Set canvas size to match the image display size
            combinedCanvas.width = 300;
            combinedCanvas.height = 300;
            
            // Create a new image to ensure it's loaded
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            img.onload = function() {
                // Draw the background image
                combinedCtx.drawImage(img, 0, 0, 300, 300);
                
                // Draw the drawing on top
                combinedCtx.drawImage(canvas, 0, 0);
                
                // Convert to base64 data URL
                const dataURL = combinedCanvas.toDataURL('image/png');
                const timestamp = Date.now();
                const filename = 'hand-drawn-' + timestamp + '.png';
                
                // Add to reference gallery immediately
                const referenceGrid = document.querySelector('.reference-grid');
                const newReferenceItem = document.createElement('div');
                newReferenceItem.className = 'reference-item selected';
                newReferenceItem.innerHTML = `
                    <img src="${dataURL}" alt="Hand Drawn">
                    <div class="checkmark">✓</div>
                `;
                
                // Add click functionality - same as other reference items
                // Left click - update Before image
                newReferenceItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu
                newReferenceItem.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // For saved drawings, use the filename
                        const relativePath = '/' + filename;
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
                
                referenceGrid.appendChild(newReferenceItem);
                
                // Store the last saved drawing for AI generation
                lastSavedDrawing = dataURL;
                
                // Also download the file
                combinedCanvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
                
                // Show success message
                const saveBtn = document.getElementById('saveDrawing');
                const originalText = saveBtn.textContent;
                saveBtn.textContent = '✅ Saved & Added!';
                saveBtn.style.background = '#4CAF50';
                setTimeout(() => {
                    saveBtn.textContent = originalText;
                    saveBtn.style.background = '#3a3a3a';
                }, 2000);
            };
            
            img.src = beforeImg.src;
        });


        // Drawing events
        canvas.addEventListener('mousedown', function(e) {
            if (!drawingEnabled) return;
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        });

        canvas.addEventListener('mousemove', function(e) {
            if (!drawingEnabled || !isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener('mouseup', function() {
            isDrawing = false;
        });

        canvas.addEventListener('mouseout', function() {
            isDrawing = false;
        });
    });
</script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="biz-finance" data-cat="6" data-cat-name="事業構築">
    <h2>財務ダッシュボード</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        
<style>
  .finance-container {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
  }
  
  .finance-header {
    margin-bottom: 24px;
  }
  
  .finance-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  
  .finance-subtitle {
    color: var(--text-weak);
    font-size: 0.95rem;
  }
  
  /* メトリクスセクション削除 */
  
  
  /* チャートセクション */
  .chart-section {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
  }
  
  .chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
  }
  
  .chart-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text);
  }
  
  .chart-controls {
    display: flex;
    gap: 8px;
  }
  
  .chart-btn {
    padding: 6px 12px;
    background: var(--button-bg);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-weak);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .chart-btn:hover {
    border-color: var(--link);
    color: var(--link);
  }
  
  .chart-btn.active {
    background: var(--link);
    border-color: var(--link);
    color: white;
  }
  
  /* 棒グラフ */
  .bar-chart {
    height: 300px;
    position: relative;
    padding: 20px 0;
  }
  
  .bar-chart-grid {
    position: absolute;
    top: 20px;
    left: 20px;
    right: 20px;
    bottom: 40px;
    border-left: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
  }
  
  .bar-chart-bars {
    position: absolute;
    bottom: 40px;
    left: 20px;
    right: 20px;
    height: calc(100% - 60px);
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    gap: 10px;
  }
  
  .bar-group {
    display: flex;
    gap: 8px;
    align-items: flex-end;
    flex: 1;
    max-width: 120px;
    position: relative;
    height: 100%;
  }
  
  .bar {
    flex: 1;
    min-width: 20px;
    border-radius: 6px 6px 0 0;
    transition: all 0.3s ease;
    position: relative;
    cursor: pointer;
    min-height: 10px;
  }
  
  .bar:hover {
    filter: brightness(1.2);
  }
  
  
  .bar.new {
    background: #10b981 !important;
  }
  
  .bar.recurring {
    background: #60a5fa !important;
  }
  
  .bar.churn {
    background: #ef4444 !important;
  }
  
  .chart-labels {
    position: absolute;
    bottom: -30px;
    left: 20px;
    right: 20px;
    display: flex;
    justify-content: space-around;
    color: var(--text-weak);
    font-size: 0.85rem;
  }
  
  .chart-legend {
    display: flex;
    gap: 24px;
    margin-top: 40px;
    justify-content: center;
  }
  
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: var(--text-weak);
  }
  
  .legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
  }
  
  /* テーブルセクション削除 */
  
</style>

<div class="finance-container">
  <div class="finance-header">
    <h1 class="finance-title">財務ダッシュボード</h1>
    <p class="finance-subtitle">グラフ表示</p>
  </div>
  
  <!-- グラフ -->
  <div class="chart-section">
    <div class="chart-header">
      <h2 class="chart-title">成長トレンド</h2>
      <div class="chart-controls">
        <button class="chart-btn active">月次</button>
        <button class="chart-btn">四半期</button>
        <button class="chart-btn">年次</button>
      </div>
    </div>
    
    <div class="bar-chart">
      <div class="bar-chart-grid"></div>
      <div class="bar-chart-bars" id="mrrChart">
        <div class="bar-group">
          <div class="bar new" style="height: 15%;"></div>
          <div class="bar recurring" style="height: 60%;"></div>
          <div class="bar churn" style="height: 3%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 18%;"></div>
          <div class="bar recurring" style="height: 62%;"></div>
          <div class="bar churn" style="height: 2%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 22%;"></div>
          <div class="bar recurring" style="height: 65%;"></div>
          <div class="bar churn" style="height: 4%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 28%;"></div>
          <div class="bar recurring" style="height: 68%;"></div>
          <div class="bar churn" style="height: 5%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 32%;"></div>
          <div class="bar recurring" style="height: 70%;"></div>
          <div class="bar churn" style="height: 4%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 35%;"></div>
          <div class="bar recurring" style="height: 73%;"></div>
          <div class="bar churn" style="height: 3%;"></div>
        </div>
      </div>
      <div class="chart-labels">
        <span>1月</span>
        <span>2月</span>
        <span>3月</span>
        <span>4月</span>
        <span>5月</span>
        <span>6月</span>
      </div>
    </div>
    
    <div class="chart-legend">
      <div class="legend-item">
        <div class="legend-color" style="background: #10b981;"></div>
        <span>新規</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #60a5fa;"></div>
        <span>継続</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #ef4444;"></div>
        <span>解約</span>
      </div>
    </div>
  </div>
</div>

<script>
  // チャートボタンの切り替え
  document.querySelectorAll('.chart-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
    });
  });
  
  // バーアニメーション（デバッグ用に簡略化）
  setTimeout(() => {
    const section = document.getElementById('biz-finance');
    if (!section) return;
    
    section.querySelectorAll('.bar').forEach((bar, index) => {
      const height = bar.style.height;
      if (height) {
        bar.style.height = '0';
        setTimeout(() => {
          bar.style.transition = 'height 0.8s ease';
          bar.style.height = height;
        }, index * 100);
      }
    });
  }, 100);
</script>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="biz-strategy" data-cat="6" data-cat-name="事業構築">
    <h2>戦略</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <style>
  .biz-doc { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; }
  .biz-doc h3 { color: var(--link); margin-top: 16px; }
  .biz-list { color: var(--text-weak); line-height: 1.8; }
</style>
<div class="biz-doc">
  <h3>事業戦略の骨子</h3>
  <ul class="biz-list">
    <li>ターゲットセグメント / ペルソナ定義</li>
    <li>提供価値（JTBD）と優位性</li>
    <li>チャネル / 価格 / 収益モデル</li>
    <li>ロードマップ（0-1 / 1-10）</li>
  </ul>
</div>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="dynamic-media-gallery" data-cat="1" data-cat-name="ダッシュボード">
    <h2>Dynamic Media Gallery</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="background: #0f0f0f; border-radius: 12px; overflow: hidden; margin: 20px 0; min-height: 800px; position: relative;">
  <!-- ギャラリー埋め込み -->
  <iframe 
    src="/data/media-gallery/index.html" 
    style="width: 100%; height: 800px; border: none; display: block; position: absolute; top: 0; left: 0;"
    frameborder="0">
  </iframe>
</div>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="prompts-repo" data-cat="5" data-cat-name="従業員">
    <h2>従業員</h2>
    
      
      
      
        <div class="markdown-body" data-path="static/data/prompts/create-new-page.v2.md">
          <h1 id="新規ページ追加外部yaml基準">新規ページ追加（外部YAML基準）</h1>
<blockquote>
<p>目的: <code>data/saas/*.yaml</code> でページを定義し、テンプレート側が自動集約。<code>sections.yaml</code> に本文を重複定義しない。</p></blockquote>
<h2 id="入力テンプレート">入力テンプレート</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[page-id]: my-new-page
</span></span><span style="display:flex;"><span>[category]: 2
</span></span><span style="display:flex;"><span>[category_name]: 要件定義・開発
</span></span><span style="display:flex;"><span>[title]: 新規ページのタイトル
</span></span><span style="display:flex;"><span>[content]: （任意。空でも可）
</span></span><span style="display:flex;"><span>[custom_html]: （任意。必要時のみ）
</span></span><span style="display:flex;"><span>[needs_dashboard_card]: true|false（ダッシュボードにカードを出すか）
</span></span><span style="display:flex;"><span>[assets]: （任意。配置予定の静的ファイル一覧）
</span></span></code></pre></div><h2 id="出力編集すべきファイルtree">出力・編集すべきファイル（tree）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>    ├── data/
</span></span><span style="display:flex;"><span>    │   ├── saas/
</span></span><span style="display:flex;"><span>    │   │   └── &lt;page-id&gt;.yaml              # 必須: ページ本体定義
</span></span><span style="display:flex;"><span>    │   └── sections.yaml                   # 任意: ダッシュボードのカードを足す場合
</span></span><span style="display:flex;"><span>    ├── static/
</span></span><span style="display:flex;"><span>    │   ├── data/
</span></span><span style="display:flex;"><span>    │   │   └── pages/
</span></span><span style="display:flex;"><span>    │   │       └── &lt;page-id&gt;.md            # 任意: Markdown本文を外出ししたい場合
</span></span><span style="display:flex;"><span>    │   └── images/ ...                     # 任意: 画像などのアセット
</span></span><span style="display:flex;"><span>    ├── themes/kamui-docs/
</span></span><span style="display:flex;"><span>    │   └── layouts/index.html              # 既に対応済み（markdown_fileの読込）。通常は変更不要
</span></span><span style="display:flex;"><span>    └── content/pages/                      # 個別ページ化する場合のみ（現状は未使用: 擬似遷移）
</span></span></code></pre></div><h3 id="1-ページ定義-datasaaspage-idyaml必須">1) ページ定義 <code>data/saas/&lt;page-id&gt;.yaml</code>（必須）</h3>
<p>配列1要素で定義します（既存ページと同じ形式）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">my-new-page</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category: 2                # 章番号（例</span>: <span style="color:#ae81ff">2</span><span style="color:#ae81ff">=要件定義・開発, 3=メディアエディタ, 6=事業構築など）</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category_name</span>: <span style="color:#ae81ff">要件定義・開発</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">新規ページのタイトル</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>                <span style="color:#75715e"># そのままMarkdownとして描画可（必要に応じて）</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># どちらかを使う: content か custom_html か markdown_file</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># markdown_file を使う場合は static 配下の .md を参照</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 例) markdown_file: static/data/pages/my-new-page.md</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># markdown_file: static/data/pages/my-new-page.md</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># custom_html: |</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#   &lt;div class=&#34;my-new-page&#34;&gt;ここにHTMLを書く&lt;/div&gt;</span>
</span></span></code></pre></div><h3 id="2-ダッシュボードカードを追加任意">2) ダッシュボードカードを追加（任意）</h3>
<p>ダッシュボードにカードを出したい場合のみ <code>data/sections.yaml</code> のダッシュボードHTMLブロックにリンクを追加します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 例: ダッシュボードのカード群の中に追加 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#my-new-page&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-card&#34;</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;showSectionById(&#39;my-new-page&#39;); return false;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-title&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    新規ページのタイトル
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-arrow&#34;</span>&gt;→&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-description&#34;</span>&gt;ページの要約&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">a</span>&gt;
</span></span></code></pre></div><h3 id="3-外部markdown本文任意">3) 外部Markdown本文（任意）</h3>
<p>本文を別Markdownにしたい場合は、<code>static/data/pages/&lt;page-id&gt;.md</code> を作成し、YAMLに <code>markdown_file</code> を指定します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>requirement-docs/static/data/pages/
</span></span><span style="display:flex;"><span>└── my-new-page.md
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">my-new-page</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category_name</span>: <span style="color:#ae81ff">要件定義・開発</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">新規ページのタイトル</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">markdown_file</span>: <span style="color:#ae81ff">static/data/pages/my-new-page.md</span>
</span></span></code></pre></div><h3 id="4-静的アセット任意">4) 静的アセット（任意）</h3>
<p>画像・動画などは <code>requirement-docs/static/</code> 配下に置き、本文から <code>/images/...</code> のように参照します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>![<span style="color:#f92672">UIサンプル</span>](<span style="color:#a6e22e">/images/creative-tools-ui-1.png</span>)
</span></span></code></pre></div><h2 id="ビルド確認hugo">ビルド/確認（Hugo）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd requirement-docs
</span></span><span style="display:flex;"><span>hugo server -D -p <span style="color:#ae81ff">1313</span>   <span style="color:#75715e"># ローカル確認</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># → http://localhost:1313/#&lt;page-id&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hugo --gc                <span style="color:#75715e"># 本番ビルド</span>
</span></span></code></pre></div><h2 id="備考">備考</h2>
<ul>
<li><code>themes/kamui-docs/layouts/index.html</code> は <code>.Site.Data.sections</code> と <code>data/saas/*.yaml</code> を自動統合済み。通常は変更不要。</li>
<li><code>data/saas</code> 下の <code>&lt;page-id&gt;.yaml</code> は <code>.Site.Data.saas[&quot;&lt;page-id&gt;&quot;]</code> で参照されます。</li>
</ul>
<h2 id="チェックリスト必要箇所の更新">チェックリスト（必要箇所の更新）</h2>
<ul>
<li><input disabled="" type="checkbox"> <code>data/saas/&lt;page-id&gt;.yaml</code> を作成し、<code>id/category/category_name/title</code> を設定</li>
<li><input disabled="" type="checkbox"> 本文は <code>content</code> または <code>markdown_file</code>（<code>static/data/pages/&lt;page-id&gt;.md</code>）で供給</li>
<li><input disabled="" type="checkbox"> ダッシュボードにカードを出すなら <code>data/sections.yaml</code> のカード群へ <code>&lt;a href=&quot;#&lt;page-id&gt;&quot;&gt;</code> を追加</li>
<li><input disabled="" type="checkbox"> 画像等のアセットがあれば <code>static/images/</code> 等に配置し、本文から相対パスで参照</li>
<li><input disabled="" type="checkbox"> <code>hugo server -D</code> でローカル確認、<code>#&lt;page-id&gt;</code> のハッシュ直リンクで表示を検証</li>
</ul>

        </div>
      
      
        
          <div class="markdown-body" data-path="static/data/prompts/media-assets-guidelines.md">
            <h1 id="画像動画アセットの置き場所と参照ルール">画像/動画アセットの置き場所と参照ルール</h1>
<p>このドキュメントは、ドキュメント内で利用する画像・動画・補助データの配置場所と参照方法をまとめたものです。</p>
<h2 id="配置場所基本">配置場所（基本）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>└── static/
</span></span><span style="display:flex;"><span>    ├── images/                 # 画像（PNG/JPG/GIF/SVG/WebP）
</span></span><span style="display:flex;"><span>    ├── videos/                 # 動画（MP4/WEBM など）※必要に応じて作成
</span></span><span style="display:flex;"><span>    └── data/                   # JSON/CSV/追加のMarkdownなど
</span></span></code></pre></div><ul>
<li>ブラウザからの参照パスは <code>/images/...</code>, <code>/videos/...</code>, <code>/data/...</code> になります。</li>
<li>例: <code>![UI](/images/creative-tools-ui-1.png)</code>, <code>&lt;video src=&quot;/videos/demo.mp4&quot; controls&gt;</code></li>
</ul>
<h2 id="ファイル命名とサブフォルダ">ファイル命名とサブフォルダ</h2>
<ul>
<li>名前は用途が分かる英語スネーク/ケバブ推奨（例: <code>ui_dashboard_v1.png</code>, <code>storyboard_page-01.png</code>）。</li>
<li>分類のためにサブフォルダを使ってもOK（例: <code>images/ui/</code>, <code>images/storyboard/</code>）。</li>
</ul>
<h2 id="uiビューのギャラリー連携">UIビューのギャラリー連携</h2>
<ul>
<li><code>ui-views</code> ページでは <code>/data/images_list.json</code> を読み込み、画像ギャラリーに反映します。</li>
<li>リストは <code>requirement-docs/static/data/images_list.json</code> から配信されます。</li>
<li>ローカルで簡単に更新したい場合は、<code>requirement-docs/server.js</code> を起動して <code>/api/images</code> を叩くと <code>images/</code> フォルダの一覧から JSON を再生成します。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 別シェルで起動</span>
</span></span><span style="display:flex;"><span>node requirement-docs/server.js
</span></span><span style="display:flex;"><span><span style="color:#75715e"># JSONを再生成（images配下をスキャン）</span>
</span></span><span style="display:flex;"><span>curl http://localhost:3001/api/images
</span></span></code></pre></div><h2 id="markdown-からの参照例">Markdown からの参照例</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>![<span style="color:#f92672">UIプレビュー</span>](<span style="color:#a6e22e">/images/whiteboard_saas_ui_1_full.png</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">video</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/videos/feature-intro.mp4&#34;</span> <span style="color:#a6e22e">controls</span> <span style="color:#a6e22e">muted</span> <span style="color:#a6e22e">playsinline</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;960&#34;</span>&gt;&lt;/<span style="color:#f92672">video</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#f92672">JSONサンプル</span>](<span style="color:#a6e22e">/data/kamui-doc-menus.json</span>)
</span></span></code></pre></div><h2 id="よくあるハマりどころ">よくあるハマりどころ</h2>
<ul>
<li>画像が表示されない → 先頭スラッシュ付きの絶対パス <code>/images/...</code> を使う。</li>
<li>変更が反映されない → ブラウザをハードリロード（キャッシュ無効） or <code>hugo server</code> を再起動。</li>
<li>画像一覧が古い → <code>/api/images</code> を叩いて <code>images_list.json</code> を更新。</li>
</ul>
<h2 id="推奨運用">推奨運用</h2>
<ul>
<li>大きな動画はGitに入れず、必要なら外部ストレージか軽量版（低ビットレート）を配置。</li>
<li>参照が増えるアセットはサブフォルダで整理し、命名にバージョンを含める（<code>v1</code>, <code>v2</code>）。</li>
</ul>
          </div>
        
          <div class="markdown-body" data-path="static/data/prompts/requirements-docs-agent.md">
            <h1 id="要件定義執筆担当kamui-os--kamui-code">要件定義執筆担当（KAMUI OS / KAMUI CODE）</h1>
<blockquote>
<p>役割: 本リポジトリの要件定義書（KAMUI CODE / KAMUI OS）を編集・追加・導線調整する担当。ディレクトリ構成と表示ロジックを理解し、最短手順で改修を行う。</p></blockquote>
<h2 id="ディレクトリ構成要点">ディレクトリ構成（要点）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>data/
</span></span><span style="display:flex;"><span>  sections.yaml                        # ダッシュボードHTML + 遷移関数（showRequirements 等）
</span></span><span style="display:flex;"><span>  saas/
</span></span><span style="display:flex;"><span>    requirements-document.yaml         # 2-1 要件定義書（KAMUI CODE）
</span></span><span style="display:flex;"><span>    requirements-kamui-os.yaml         # KAMUI OS 要件定義書
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>themes/kamui-docs/
</span></span><span style="display:flex;"><span>  layouts/
</span></span><span style="display:flex;"><span>    index.html                         # セクション合成と「カード→本文」切替
</span></span><span style="display:flex;"><span>    partials/requirements-document.html# 要件定義書の共通テンプレート
</span></span><span style="display:flex;"><span>  static/
</span></span><span style="display:flex;"><span>    js/main.js                         # 目次生成（2-1配下に 2-1-1/2-1-2 を追加）
</span></span><span style="display:flex;"><span>    css/main.css                       # 共通スタイル
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>static/
</span></span><span style="display:flex;"><span>  images/                              # カード画像等（requirements_doc_card.png ほか）
</span></span><span style="display:flex;"><span>  data/prompts/                        # 本ページのプロンプトMarkdown置き場
</span></span></code></pre></div><h2 id="主要ルール">主要ルール</h2>
<ul>
<li>要件書データは <code>data/saas/*.yaml</code> に1要素の配列で定義（<code>id</code>, <code>title</code>, <code>tabs</code>, <code>functional_requirements</code> 等）。</li>
<li>描画は <code>partials/requirements-document.html</code>（同一テンプレで複数ドキュメント対応）。</li>
<li><code>index.html</code> は該当セクションを「カード→本文」の二段表示にする（DOM id: <code>requirementsDocCard-&lt;sectionId&gt;</code>, <code>requirementsDocBody-&lt;sectionId&gt;</code>）。</li>
<li>TOCは <code>main.js</code> が生成し、2-1の子としてサブ項目を追加。クリックで本文を自動展開。</li>
<li>新しい「要件定義書（requirements-&hellip;）」は原則「2-1. 要件定義書」の配下サブ項目として登録し、トップレベルには出さない（重複防止）。</li>
<li>2-1 セクションの初期ビューは「カード一覧」を必ず表示する。新規要件書を追加した場合は、2-1 のカード一覧にもリンクカードを追加する（計4件以上になってもOK）。</li>
</ul>
<h2 id="よく使う改修">よく使う改修</h2>
<ul>
<li>KAMUI OS 要件書を編集: <code>data/saas/requirements-kamui-os.yaml</code></li>
<li>KAMUI CODE 要件書を編集: <code>data/saas/requirements-document.yaml</code></li>
<li>2-1 内のカード表示を調整: <code>themes/kamui-docs/layouts/index.html</code>（requirements-document ブロック）</li>
<li>TOCの並び/子項目: <code>themes/kamui-docs/static/js/main.js</code>（buildToc の特別処理）</li>
</ul>
<h2 id="手順テンプレート新しい要件書を追加">手順テンプレート（新しい要件書を追加）</h2>
<ol>
<li><code>data/saas/requirements-&lt;slug&gt;.yaml</code> を作成（既存YAMLをコピーし <code>id</code>, <code>title</code>, <code>tabs</code> を調整）</li>
<li>画像は <code>static/images/</code> に配置し、YAMLの <code>image:</code> にパスを設定</li>
<li>2-1 のカード一覧にリンクカードを追加（<code>themes/kamui-docs/layouts/index.html</code> の requirements-document ブロック）</li>
<li>必要に応じて TOC の子項目に追加（<code>main.js</code> のサブ項目配列に <code>&lt;slug&gt;</code> を追記）</li>
<li><code>hugo server -D</code> で <code>#requirements-&lt;slug&gt;</code> を確認</li>
</ol>
<h2 id="受け入れ基準">受け入れ基準</h2>
<ul>
<li>2-1 の下に新規要件書のタイトルが <code>2-1-N</code> として表示され、クリックで本文が直接開く</li>
<li>直リンク <code>#requirements-&lt;slug&gt;</code> で「カード→本文」構造が機能し、本文に到達できる</li>
<li>ダッシュボードのカード導線（必要な場合）が正しく遷移（<code>showRequirements('&lt;slug&gt;')</code>）</li>
</ul>
<h2 id="トラブルシュート">トラブルシュート</h2>
<ul>
<li>YAML文法エラー → バッククォートやコロンを含む場合は値をダブルクォートで囲む</li>
<li>目次の重複 → <code>main.js</code> の並べ替え時に重複除外済み。新規子追加時はIDの重複に注意</li>
<li>直リンクで本文が開かない → <code>requirementsDocCard-&lt;sectionId&gt;</code> と <code>requirementsDocBody-&lt;sectionId&gt;</code> のID整合を確認</li>
</ul>
<h2 id="依頼テンプレート本件の要望">依頼テンプレート（本件の要望）</h2>
<ul>
<li>
<ol>
<li>KAMUI OS の npm パッケージ化に関する要件定義書を作成してください。</li>
</ol>
<ul>
<li><code>id: requirements-kamui-os-npm</code>、カテゴリは「要件定義・開発」</li>
<li>目的/対象/機能要件（CLI, テンプレ同期, 型定義, プラグイン）/非機能/構成表/Mermaid/利用例コードを含むこと</li>
</ul>
</li>
<li>
<ol start="2">
<li>SNS マーケティングのためのダッシュボード要件定義書を作成してください。</li>
</ol>
<ul>
<li><code>id: requirements-sns-marketing</code>、カテゴリは「SNS・マーケティング」</li>
<li>既存の運用方針を、KPIダッシュボード/投稿カレンダー/レポート出力に落とし込むこと</li>
<li>チャネル（X, IG, YT, TikTok, LinkedIn）と取り込み方式（API/CSV/手動）を明記</li>
</ul>
</li>
<li>
<ol start="3">
<li>ネコカフェの要件定義書を新規作成してください（いつも通り）。</li>
</ol>
<ul>
<li><code>id: requirements-neko-cafe</code>、カテゴリは「要件定義・開発」</li>
<li>想定: 地域密着の猫カフェサービス。予約/在籍猫プロフィール/グッズEC/SNS連携/店舗運営を含む。</li>
<li>含める要素: 概要カード、ユーザーペルソナ（来店客/スタッフ/店長）、機能要件（予約/在庫/決済/通知/レポート等）、非機能（稼働/保守/セキュリティ）、UIフロー（Mermaid）、実装計画（ガント）</li>
<li>配置ルール: 2-1 の配下サブ項目として登録し（2-1-N）、2-1 のカード一覧にもカードを追加すること（画像は <code>/images/requirements_doc_card.png</code> で可）。</li>
</ul>
</li>
</ul>
          </div>
        
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <style>
  .prompt-md { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
  .prompt-md pre, .prompt-md code { background: var(--code-bg); border: 1px solid var(--code-border); }
  /* カード切替UI */
  .prompt-cards-wrap { margin-bottom: 16px; }
  .prompt-viewer { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
  .card-grid .card.active { border-color: var(--link); box-shadow: 0 0 0 1px color-mix(in srgb, var(--link) 30%, transparent); }
  .card .card-desc { color: var(--text-weak); font-size: .9rem; margin-top: 4px; }
  /* ダークテーマで読めるよう強制カラー */
  .prompt-cards-wrap .card { background: var(--card); color: var(--text); border: 1px solid var(--border); }
  .prompt-cards-wrap .card-title { color: var(--text); font-weight: 800; }
  .prompt-cards-wrap .card:hover { border-color: var(--link); }
  .prompt-cards-wrap .card-img, .prompt-cards-wrap .card-video { width: 100%; height: auto; display: block; margin-top: 8px; border-radius: 8px; background: var(--media-bg); border: 1px solid var(--border); }
  .prompt-cards-wrap .card-name { position: absolute; right: 10px; bottom: 10px; padding: 4px 8px; border-radius: 999px; font-size: 12px; font-weight: 700; background: rgba(17, 24, 39, .7); color: #e5e7eb; border: 1px solid rgba(148, 163, 184, .4); }
  .prompt-cards-wrap .card { position: relative; }
</style>
<div class="prompt-cards-wrap">
  <style>
    .team-dash { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap: 12px; margin-bottom: 14px; }
    .task-card { background: var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; }
    .task-card h4 { margin: 0 0 8px; font-size: 0.98rem; }
    .task { display:flex; align-items:center; gap:8px; padding:6px 8px; border-radius:8px; margin:4px 0; background: var(--sidebar-bg); border: 1px solid var(--border); }
    .task .status { width:18px; height:18px; display:inline-flex; align-items:center; justify-content:center; border-radius:4px; border:1px solid var(--border); font-size:12px; }
    .task.done .status { background:#10b98133; border-color:#10b98166; color:#10b981; }
    .task.doing .status { background:#f59e0b22; border-color:#f59e0b66; color:#f59e0b; }
    .task.todo .status { background:transparent; color:var(--text-weak); }
    .task .name { flex:1; color:var(--text); }
    .task small { color:var(--text-weak); }
  </style>
<div class="card-grid" id="promptCardGrid"></div>
  <div class="team-dash" id="teamDash"></div>
</div>
<div class="prompt-viewer" id="promptDocViewer"></div>
<script>
  (function(){
    const sec = document.getElementById('prompts-repo');
    const grid = sec.querySelector('#promptCardGrid');
    const teamDash = sec.querySelector('#teamDash');
    const viewer = sec.querySelector('#promptDocViewer');
    if (!grid || !viewer) return;
    // 簡易チームダッシュボード（カード3つの下に表示）
    if (teamDash) {
      const team = [
        { name: 'エミリー', role: '要件定義執筆', tasks: [
          { title: 'ネコカフェ要件書 章立て', status: 'done' },
          { title: 'KAMUI OS NPM 要件書 追記', status: 'doing' },
          { title: 'SNSダッシュボード KPI表', status: 'todo' }
        ]},
        { name: 'タクミ', role: 'テンプレ/JS', tasks: [
          { title: 'TOC 折りたたみ実装', status: 'done' },
          { title: 'カード4枚化', status: 'done' },
          { title: '直リンク時の初期化', status: 'doing' }
        ]},
        { name: 'ミナ', role: 'アセット/動画', tasks: [
          { title: 'エージェント動画差替', status: 'done' },
          { title: 'SNSカード素材', status: 'todo' },
          { title: 'OG画像更新', status: 'todo' }
        ]}
      ];
      const icon = (s)=> s==='done'?'✅':(s==='doing'?'🟧':'⬜️');
      team.forEach(member => {
        const box = document.createElement('div');
        box.className = 'task-card';
        box.innerHTML = `<h4>${member.name} <small style="color:var(--text-weak);">${member.role}</small></h4>`;
        member.tasks.forEach(t => {
          const row = document.createElement('div');
          row.className = `task ${t.status}`;
          row.innerHTML = `<span class="status">${icon(t.status)}</span><div class="name">${t.title}</div>`;
          box.appendChild(row);
        });
        teamDash.appendChild(box);
      });
    }
    const docs = Array.from(sec.querySelectorAll('.markdown-body'));
    if (!docs.length) return;
    let items = docs.map((el, i) => {
      const title = (el.querySelector('h1,h2')?.textContent || `ドキュメント ${i+1}`).trim();
      const id = `prompt-doc-${i}`;
      const path = el.getAttribute('data-path') || '';
      el.dataset.docId = id;
      return { id, title, path, el };
    });
    // 並び順: 拓海, ミナ, エミリー（エミリーを右端に）
    const order = ['create-new-page.v2.md','media-assets-guidelines.md','requirements-docs-agent.md'];
    items.sort((a,b)=>{
      const aIdx = order.findIndex(k => (a.path||'').endsWith(k));
      const bIdx = order.findIndex(k => (b.path||'').endsWith(k));
      return (aIdx<0?99:aIdx) - (bIdx<0?99:bIdx);
    });
    // ビューア初期化
    function showDoc(id){
      viewer.innerHTML = '';
      items.forEach(it => {
        const card = grid.querySelector(`[data-id="${it.id}"]`);
        card?.classList.toggle('active', it.id === id);
      });
      const target = items.find(it => it.id === id);
      if (target){ viewer.appendChild(target.el); target.el.style.display = 'block'; }
    }
    // カード生成
    items.forEach((it, idx) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.setAttribute('data-id', it.id);
      let img = '';
      if (/media-assets-guidelines\.md$/.test(it.path||'')) {
        img = '<video class="card-video" src="/images/agent-female-hero-video.mp4" autoplay loop muted playsinline></video>'+
              '<span class="card-name">ミナ</span>';
      }
      if (/create-new-page\.v2\.md$/.test(it.path||'')) {
        img = '<video class="card-video" src="/images/agent-male-hero-video.mp4" autoplay loop muted playsinline></video>'+
              '<span class="card-name">拓海</span>';
      }
      if (/requirements-docs-agent\.md$/.test(it.path||'')) {
        img = '<video class="card-video" src="/videos/agent_card_video_square.mp4" autoplay loop muted playsinline></video>'+
              '<span class="card-name">エミリー</span>';
      }
      card.innerHTML = `<div class="card-title">${it.title}</div>${img}`;
      card.addEventListener('click', () => showDoc(it.id));
      // 右クリックで相対パスをクリップボードへコピー
      card.addEventListener('contextmenu', async (e) => {
        e.preventDefault();
        const p = it.path || '';
        if (!p) return;
        try {
          await navigator.clipboard.writeText(p);
          const t = card.querySelector('.card-title');
          const org = t.textContent;
          t.textContent = '✅ パスをコピーしました';
          setTimeout(()=>{ t.textContent = org; }, 1200);
        } catch(err) {
          console.error('Copy failed', err);
        }
      });
      grid.appendChild(card);
      // いったん隠しておく（選択時にviewerへ移動）
      it.el.style.display = 'none';
    });
    // 先頭を表示
    showDoc(items[0].id);
  })();
</script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="requirements-document" data-cat="2" data-cat-name="要件定義・開発">
    <h2>要件定義書</h2>
    
      
      
      
      <div id="requirementsDocCard-requirements-document" class="dashboard-links" style="margin-top: 8px;">
        <a href="#requirements-document" class="saas-app-card" onclick="(function(){
          var card = document.getElementById('requirementsDocCard-requirements-document');
          var body = document.getElementById('requirementsDocBody-requirements-document');
          if(card && body){ card.style.display='none'; body.style.display='block'; window.scrollTo(0,0); }
        })(); return false;">
          
            <img src="/images/kamui-gradient-soft-2.png" alt="要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          
          <div class="saas-app-title">
            要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          
          <div class="saas-app-description">KAMUI CODE プラットフォームの包括的な要件定義書です。システム要件、デザイン要件、技術仕様、開発計画を網羅しています。</div>
          
          <div class="saas-app-features">
            • 概要・ユーザー分析<br>
            • 機能要件・非機能要件<br>
            • アーキテクチャ・実装・運用
          </div>
        </a>

        
        <a href="#requirements-kamui-os" class="saas-app-card" onclick="(function(){
          if (window.showRequirements) {
            window.showRequirements('kamui-os');
            setTimeout(function(){
              var c = document.getElementById('requirementsDocCard-requirements-kamui-os');
              var b = document.getElementById('requirementsDocBody-requirements-kamui-os');
              if (c && b) { c.style.display='none'; b.style.display='block'; window.scrollTo(0,0); }
            }, 0);
          }
        })(); return false;">
          <img src="/images/requirements_doc_card.png" alt="KAMUI OS 要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          <div class="saas-app-title">
            KAMUI OS 要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          <div class="saas-app-description">KAMUI OS 本体の要件定義書</div>
          <div class="saas-app-features">
            • プラットフォーム概要<br>
            • コア機能・非機能要件<br>
            • 技術スタック・運用
          </div>
        </a>

        <a href="#requirements-kamui-os-npm" class="saas-app-card" onclick="(function(){
          if (window.showRequirements) {
            window.showRequirements('kamui-os-npm');
            setTimeout(function(){
              var c = document.getElementById('requirementsDocCard-requirements-kamui-os-npm');
              var b = document.getElementById('requirementsDocBody-requirements-kamui-os-npm');
              if (c && b) { c.style.display='none'; b.style.display='block'; window.scrollTo(0,0); }
            }, 0);
          }
        })(); return false;">
          <img src="/images/requirements_doc_card.png" alt="KAMUI OS NPM 要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          <div class="saas-app-title">
            KAMUI OS NPM 要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          <div class="saas-app-description">KAMUI OS の npm パッケージ化に関する要件定義書</div>
          <div class="saas-app-features">
            • CLI/テンプレート同期<br>
            • 型定義/プラグイン<br>
            • 配布/互換性
          </div>
        </a>

        <a href="#requirements-sns-marketing" class="saas-app-card" onclick="(function(){
          if (window.showRequirements) {
            window.showRequirements('sns-marketing');
            setTimeout(function(){
              var c = document.getElementById('requirementsDocCard-requirements-sns-marketing');
              var b = document.getElementById('requirementsDocBody-requirements-sns-marketing');
              if (c && b) { c.style.display='none'; b.style.display='block'; window.scrollTo(0,0); }
            }, 0);
          }
        })(); return false;">
          <img src="/images/sns_marketing_card.png" alt="SNSマーケティング ダッシュボード要件" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          <div class="saas-app-title">
            SNSマーケティング ダッシュボード要件
            <span class="saas-app-arrow">→</span>
          </div>
          <div class="saas-app-description">SNS運用のKPI/投稿カレンダー/レポート要件</div>
          <div class="saas-app-features">
            • KPIダッシュボード<br>
            • 投稿カレンダー<br>
            • 連携/API/CSV
          </div>
        </a>

        <a href="#requirements-neko-cafe" class="saas-app-card" onclick="(function(){
          if (window.showRequirements) {
            window.showRequirements('neko-cafe');
            setTimeout(function(){
              var c = document.getElementById('requirementsDocCard-requirements-neko-cafe');
              var b = document.getElementById('requirementsDocBody-requirements-neko-cafe');
              if (c && b) { c.style.display='none'; b.style.display='block'; window.scrollTo(0,0); }
            }, 0);
          }
        })(); return false;">
          <img src="/images/requirements_doc_card.png" alt="ネコカフェ 要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          <div class="saas-app-title">
            ネコカフェ 要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          <div class="saas-app-description">地域密着の猫カフェサービスの要件定義書</div>
          <div class="saas-app-features">
            • 予約/在籍猫プロフィール<br>
            • グッズEC/通知/レポート<br>
            • SNS連携/店舗運営
          </div>
        </a>
        
      </div>

      <div id="requirementsDocBody-requirements-document" style="display:none;">
        <style>
   
  .req-doc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 24px;
    align-items: start;
  }
  .req-toc {
    position: sticky;
    top: 80px;
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
  }
  .req-toc-title {
    font-size: 0.95rem;
    font-weight: 700;
    margin: 6px 8px 10px;
    color: var(--text);
  }
  .req-toc a {
    display: block;
    padding: 8px 10px;
    border-radius: 8px;
    color: var(--text-weak);
    text-decoration: none;
    transition: background 0.2s ease, color 0.2s ease;
    font-size: 0.92rem;
  }
  .req-toc a:hover { background: var(--card); color: var(--text); }
  .req-toc a.active { background: var(--card-strong); color: var(--text); font-weight: 600; }

  .req-content { min-width: 0; }
  .req-section { scroll-margin-top: 72px; margin-bottom: 28px; }
  .req-section h3 { font-size: 1.15rem; margin: 8px 0 14px; }
  .meta-inline {
    display: inline-flex; gap: 12px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-weak);
    background: var(--sidebar-bg); border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; margin: 8px 0 12px;
  }
  .cards-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .card h4 { margin: 0 0 8px; font-size: 1rem; }
  .muted { color: var(--text-weak); }
   
  .req-doc .card, .req-doc .card * { color: var(--text) !important; }
  .req-doc .card a { color: var(--link) !important; }
  .req-doc a.card { text-decoration: none; display: block; cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease; }
  .req-doc a.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
  .table th { background: var(--sidebar-bg); color: var(--text); }
  .table td { color: var(--text); }
  .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

  .persona { display: grid; grid-template-columns: 48px 1fr; gap: 10px; align-items: start; }
  .persona .emoji { font-size: 28px; line-height: 1; }
  .persona h5 { margin: 0; font-size: 1rem; }
  .persona small { color: var(--text-weak); }
  .persona ul { margin: 6px 0 0; padding-left: 18px; }
</style>

<div class="req-doc" id="reqDoc">
  <nav class="req-toc" id="reqToc">
    <div class="req-toc-title">目次（要件定義書）</div>
      <a href="#req-overview" data-target="req-overview">概要</a>
      <a href="#req-users" data-target="req-users">ユーザー分析</a>
      <a href="#req-requirements" data-target="req-requirements">要件定義</a>
      <a href="#req-architecture" data-target="req-architecture">アーキテクチャ</a>
      <a href="#req-implementation" data-target="req-implementation">実装</a>
      <a href="#req-operations" data-target="req-operations">運用</a>
  </nav>

  <div class="req-content">
    
    <section class="req-section" id="req-overview">
      <h3>概要</h3>
      
      <div class="meta-inline">
        <span>版: 2.0</span>
        <span>日付: 2025年9月</span>
        <span>状態: レビュー中</span>
      </div>
      
      
      <div class="section-image">
        <img src="/images/kamui-gradient-soft-2.png" alt="要件定義書">
      </div>
      
      
      <div class="cards-3">
        
          <div class="card">
            <h4>📋 プロジェクト概要</h4>
            <div>KAMUI CODEは、MCP（Model Context Protocol）に準拠した統合型AIプラットフォームです。
クリエイティブ、開発、ビジネスの3領域を横断し、あらゆるデジタルコンテンツ制作を支援します。</div>
          </div>
        
          <div class="card">
            <h4>🎯 対象領域</h4>
            <div><ul>
<li><strong>クリエイティブ</strong>: 画像・動画・音楽生成</li>
<li><strong>開発</strong>: コード生成・分析・デバッグ</li>
<li><strong>ビジネス</strong>: 翻訳・要約・レポート作成</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>⚡ 主要機能</h4>
            <div><ul>
<li>MCPプロトコル準拠の統合API</li>
<li>30種類以上のAIモデル対応</li>
<li>リアルタイムプレビュー</li>
<li>統合ダッシュボード</li>
</ul>
</div>
          </div>
        
      </div>
      

      
      
      
        
          
          <div class="card" style="margin-top:12px;">KAMUI CODEは、Model Context Protocol (MCP) に準拠した統合型AIプラットフォームです。
クリエイティブ、開発、ビジネスの3領域を横断し、あらゆるデジタルコンテンツ制作を支援します。</div>
          
        
          
        
          
        
      
    </section>

    
    <section class="req-section" id="req-users">
      <h3>ユーザー分析</h3>
      
      <div class="grid-2">
        
        <div class="card persona">
          <div class="emoji">👨‍💻</div>
          <div>
            <h5>開発者タロウ <small>(28歳 / フロントエンドエンジニア)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>開発効率の向上</li><li>コード品質の改善</li><li>最新技術の習得</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>繰り返し作業が多い</li><li>ドキュメント作成が面倒</li><li>レビュー待ち時間が長い</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>AIによるコード補完</li><li>自動テスト生成</li><li>ドキュメント自動化</li></ul>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card persona">
          <div class="emoji">👩‍🎨</div>
          <div>
            <h5>デザイナー花子 <small>(32歳 / UIデザイナー)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>クリエイティブな表現</li><li>制作時間の短縮</li><li>クライアント満足度向上</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>アイデア出しに時間がかかる</li><li>素材探しが大変</li><li>バリエーション作成が面倒</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>AI画像生成</li><li>スタイル変換</li><li>素材ライブラリ</li></ul>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card persona">
          <div class="emoji">👨‍💼</div>
          <div>
            <h5>PMサトシ <small>(35歳 / プロジェクトマネージャー)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>プロジェクト成功</li><li>チーム生産性向上</li><li>納期厳守</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>要件定義が曖昧</li><li>進捗管理が複雑</li><li>コミュニケーションコスト</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>要件定義書自動生成</li><li>プロジェクト分析</li><li>レポート作成支援</li></ul>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      
      
      <div class="card" style="margin-top: 14px;">
        <h4 style="margin:0 0 6px;">カスタマージャーニーマップ</h4>
        <div class="muted">ユーザーがKAMUI CODEを利用する際の典型的なジャーニー</div>
      </div>
      
      
      <div style="margin-top: 12px;">
<div class="journey-map-container" style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 20px 0;">
<style>
    .journey-map {
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }
    .journey-phases {
      display: flex;
      margin-bottom: 15px;
      position: relative;
    }
    .phase {
      flex: 1;
      text-align: center;
      padding: 12px 30px 12px 20px;
      font-weight: bold;
      font-size: 14px;
      color: white;
      position: relative;
      margin-right: -20px;
      clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 50%, calc(100% - 20px) 100%, 0 100%, 20px 50%);
    }
    .phase:first-child {
      padding-left: 30px;
      clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 50%, calc(100% - 20px) 100%, 0 100%);
    }
    .phase:last-child {
      margin-right: 0;
      padding-right: 30px;
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%, 20px 50%);
    }
    .phase.awareness { background: #8B5CF6; }
    .phase.consideration { background: #3B82F6; }
    .phase.adoption { background: #10B981; }
    .journey-row {
    display: flex;
      align-items: stretch;
      margin-bottom: 10px;
    }
    .journey-label {
      width: 80px;
      padding: 10px 8px;
      font-weight: bold;
      font-size: 12px;
      background: #f1f3f5;
      border-radius: 6px 0 0 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .journey-content {
      flex: 1;
      display: flex;
      gap: 5px;
      padding: 5px;
    }
    .journey-cell {
      flex: 1;
      background: white;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 10px;
      text-align: center;
      position: relative;
      font-size: 11px;
    }
    .journey-cell.awareness { border-color: #DDD6FE; background: #FAF5FF; }
    .journey-cell.consideration { border-color: #DBEAFE; background: #F0F9FF; }
    .journey-cell.adoption { border-color: #D1FAE5; background: #F0FDF4; }
    
    /* ダークモード対応 */
    [data-theme="dark"] .journey-map-container {
      background: #1f2937;
      color: #e5e7eb;
    }
    [data-theme="dark"] .journey-map {
      background: #111827;
    }
    [data-theme="dark"] .journey-label {
      background: #1f2937;
      color: #d1d5db;
    }
    [data-theme="dark"] .journey-cell {
      background: #1f2937;
      border-color: #4b5563;
      color: #e5e7eb;
    }
    [data-theme="dark"] .canvas-container {
      background: #1f2937;
      color: #e5e7eb;
    }
    [data-theme="dark"] .canvas-container > div > div {
      background: #111827 !important;
      border-color: #4b5563 !important;
    }
    [data-theme="dark"] .canvas-container h3,
    [data-theme="dark"] .canvas-container h4 {
      color: #e5e7eb;
  }
</style>

  <h3>ユーザージャーニーマップ</h3>
  <div class="journey-map">
    <!-- フェーズ -->
    <div class="journey-phases">
      <div class="phase awareness">認知・興味</div>
      <div class="phase consideration">検討・評価</div>
      <div class="phase adoption">導入・活用</div>
    </div>
    
    <!-- 行動 -->
    <div class="journey-row">
      <div class="journey-label">行動</div>
      <div class="journey-content">
        <div class="journey-cell awareness">
          <div style="font-size: 24px; margin-bottom: 5px;">🔍</div>
          <div>KAMUI CODEを発見</div>
        </div>
        <div class="journey-cell awareness">
          <div style="font-size: 24px; margin-bottom: 5px;">📖</div>
          <div>機能を確認</div>
        </div>
        <div class="journey-cell consideration">
          <div style="font-size: 24px; margin-bottom: 5px;">⚖️</div>
          <div>他ツールと比較</div>
        </div>
        <div class="journey-cell consideration">
          <div style="font-size: 24px; margin-bottom: 5px;">🧪</div>
          <div>無料試用</div>
        </div>
        <div class="journey-cell adoption">
          <div style="font-size: 24px; margin-bottom: 5px;">💳</div>
          <div>有料プラン購入</div>
        </div>
      </div>
    </div>
    
    <!-- タッチポイント -->
    <div class="journey-row">
      <div class="journey-label">タッチ<br>ポイント</div>
      <div class="journey-content">
        <div class="journey-cell awareness">検索・SNS</div>
        <div class="journey-cell awareness">公式サイト</div>
        <div class="journey-cell consideration">比較サイト</div>
        <div class="journey-cell consideration">管理画面</div>
        <div class="journey-cell adoption">決済画面</div>
      </div>
  </div>
  
    <!-- 思考 -->
    <div class="journey-row">
      <div class="journey-label">思考</div>
      <div class="journey-content">
        <div class="journey-cell awareness">統合型ツールを探している</div>
        <div class="journey-cell awareness">3領域対応が魅力的</div>
        <div class="journey-cell consideration">他社より機能が豊富</div>
        <div class="journey-cell consideration">使いやすそう</div>
        <div class="journey-cell adoption">業務効率が上がりそう</div>
      </div>
  </div>
  
    <!-- 感情 -->
    <div class="journey-row">
      <div class="journey-label">感情</div>
      <div class="journey-content">
        <div class="journey-cell awareness">😐 好奇心</div>
        <div class="journey-cell awareness">😊 期待感</div>
        <div class="journey-cell consideration">🤔 慎重</div>
        <div class="journey-cell consideration">😄 満足</div>
        <div class="journey-cell adoption">🎉 確信</div>
      </div>
  </div>
  </div>
</div>


</div>
      

      
      <div style="margin-top: 14px;"><style>
  .voices-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }
  .voice-card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .voice-head { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
  .voice-avatar { width: 36px; height: 36px; border-radius: 50%; background: var(--media-bg); border: 1px solid var(--border); overflow: hidden; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--text-weak); }
  .voice-name { font-weight: 600; }
  .voice-role { color: var(--text-weak); font-size: 0.85rem; }
  .voice-body { color: var(--text); font-size: 0.95rem; line-height: 1.6; }
  .voice-rating { color: #f59e0b; font-size: 0.92rem; margin-top: 6px; }
</style>

<div>
  <h3 style="margin: 8px 0 10px;">ユーザーの声</h3>
  
  <div class="voices-grid">
    
    <div class="voice-card">
      <div class="voice-head">
        <div class="voice-avatar">
          佐
        </div>
        <div>
          <div class="voice-name">佐藤 健</div>
          <div class="voice-role">プロダクトマネージャー ・ SaaSスタートアップ</div>
        </div>
      </div>
      <div class="voice-body">KAMUI CODE の統合APIと要件定義書テンプレートで、初期フェーズの立ち上げが圧倒的に早くなりました。チーム内の合意形成もスムーズです。
</div>
      
        
        <div class="voice-rating">
          ★★★★★
        </div>
      
    </div>
    
    <div class="voice-card">
      <div class="voice-head">
        <div class="voice-avatar">
          山
        </div>
        <div>
          <div class="voice-name">山本 花</div>
          <div class="voice-role">フロントエンドエンジニア ・ 受託開発</div>
        </div>
      </div>
      <div class="voice-body">UIフローとデザイン仕様が明確にまとまっているので、実装の迷いが減りました。Mermaidやガントの埋め込みも便利です。
</div>
      
        
        <div class="voice-rating">
          ★★★★☆
        </div>
      
    </div>
    
    <div class="voice-card">
      <div class="voice-head">
        <div class="voice-avatar">
          李
        </div>
        <div>
          <div class="voice-name">李 俊</div>
          <div class="voice-role">機械学習エンジニア ・ 研究開発部門</div>
        </div>
      </div>
      <div class="voice-body">画像・動画生成の要件と運用面の整理が一箇所で完結します。モデル比較やAPIエンドポイントの表も実務で役立っています。
</div>
      
        
        <div class="voice-rating">
          ★★★★★
        </div>
      
    </div>
    
  </div>
</div>
</div>
      

      
    </section>

    
    <section class="req-section" id="req-requirements">
      <h3>要件定義</h3>
      
      <h4>機能要件</h4>
      <table class="table">
        <thead><tr><th>ID</th><th>名称</th><th>説明</th><th>優先度</th></tr></thead>
        <tbody>
        
          <tr><td>FR-001</td><td>テキスト→画像生成 (T2I)</td><td>プロンプトから高品質な画像を生成（Flux, SDXL, Dalle-3対応）</td><td>必須</td></tr>
        
          <tr><td>FR-002</td><td>画像→画像変換 (I2I)</td><td>既存画像の編集・スタイル変換・高解像度化機能</td><td>必須</td></tr>
        
          <tr><td>FR-003</td><td>テキスト→動画生成 (T2V)</td><td>プロンプトから動画を生成（GenVideo, HaiperAI対応）</td><td>必須</td></tr>
        
          <tr><td>FR-004</td><td>MCPサーバー統合</td><td>クリエイティブ/開発/ビジネス領域の統合API管理</td><td>必須</td></tr>
        
          <tr><td>FR-005</td><td>要件定義書生成</td><td>プロジェクト要件の自動生成・管理機能</td><td>推奨</td></tr>
        
          <tr><td>FR-006</td><td>ストーリーボード作成</td><td>ビジュアルストーリーテリング支援機能</td><td>推奨</td></tr>
        
        </tbody>
      </table>
      

      
      <h4 style="margin-top:14px;">非機能要件</h4>
      <div class="grid-2">
        
        <div class="card">
          <h4 style="margin:0 0 6px;">パフォーマンス</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>画像生成は5秒以内</li><li>UI操作のレスポンスは100ms以内</li><li>同時接続1000ユーザー対応</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">可用性</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>99.9%以上のアップタイム</li><li>計画メンテナンス月1回以内</li><li>障害復旧時間1時間以内</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">セキュリティ</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>HTTPS通信必須</li><li>Bearer Token認証</li><li>定期的なセキュリティ監査</li></ul>
        </div>
        
      </div>
      

      
        
          
        
          
          
          <div style="margin-top:14px;">
            <table class="table">
              <thead><tr><th>要件ID</th><th>カテゴリ</th><th>説明</th><th>優先度</th></tr></thead>
              <tbody>
              
                <tr><td>REQ-001</td><td>機能要件</td><td>MCPプロトコル準拠の通信</td><td>必須</td></tr>
              
                <tr><td>REQ-002</td><td>非機能要件</td><td>レスポンスタイム3秒以内</td><td>必須</td></tr>
              
                <tr><td>REQ-003</td><td>セキュリティ</td><td>Bearer Token認証</td><td>必須</td></tr>
              
                <tr><td>REQ-004</td><td>可用性</td><td>99.5%以上のアップタイム</td><td>推奨</td></tr>
              
              </tbody>
            </table>
          </div>
          
          
        
          
        
      
    </section>

    
    <section class="req-section" id="req-architecture">
      <h3>アーキテクチャ</h3>
      
      <div style="margin-top: 12px;">

  <div class="flow-wrapper" id="uiFlow">
  <div class="flow-controls">
    <strong>UI遷移図</strong>
    <div class="spacer"></div>
    <button class="view-btn" id="flowZoomOut">-</button>
    <button class="view-btn" id="flowZoomReset">100%</button>
    <button class="view-btn" id="flowZoomIn">+</button>
  </div>
  <div class="flow-viewport" id="flowViewport">
    <div class="flow-inner" id="flowInner" style="width: 1600px; height: 900px;">
      <svg class="flow-svg" id="flowSvg" width="1600" height="900"></svg>
      <div class="nodes-layer" id="flowNodes"></div>
    </div>
  </div>
</div>



</div>
      
      
      <div class="grid-2">
        <div class="card">
          <h4>フロントエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>React <small>(18.x)</small> — UIフレームワーク</li><li>TypeScript <small>(5.x)</small> — 型安全な開発</li><li>Tailwind CSS <small>(3.x)</small> — スタイリング</li>
          </ul>
        </div>
        <div class="card">
          <h4>バックエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Node.js <small>(20.x)</small> — サーバーランタイム</li><li>FastAPI <small>(0.x)</small> — API開発</li>
          </ul>
        </div>
        <div class="card">
          <h4>AI/ML</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Stable Diffusion <small>(XL)</small> — 画像生成</li><li>GPT-4 <small>(Latest)</small> — テキスト生成</li>
          </ul>
        </div>
      </div>
      

      
      <div style="margin-top: 16px;"><h3>カラーパレット</h3>
<div class="color-palette">
  
  <div class="color-group">
    <h4>ダークテーマ</h4>
    <div class="color-swatches">
      
      <div class="color-swatch" style="background-color: #1a1a1a; color: #ffffff;">
        <div class="color-label">背景</div>
        <div class="color-code">#1a1a1a</div>
      </div>
      
      <div class="color-swatch" style="background-color: #ffffff; color: #ffffff;">
        <div class="color-label">テキスト</div>
        <div class="color-code">#ffffff</div>
      </div>
      
      <div class="color-swatch" style="background-color: #2a2a2a; color: #ffffff;">
        <div class="color-label">ボーダー</div>
        <div class="color-code">#2a2a2a</div>
      </div>
      
      <div class="color-swatch" style="background-color: #4a9eff; color: #ffffff;">
        <div class="color-label">リンク</div>
        <div class="color-code">#4a9eff</div>
      </div>
      
    </div>
  </div>
  
  <div class="color-group">
    <h4>ライトテーマ</h4>
    <div class="color-swatches">
      
      <div class="color-swatch light" style="background-color: #f7f7f8; color: #1a1a1a;">
        <div class="color-label">背景</div>
        <div class="color-code">#f7f7f8</div>
      </div>
      
      <div class="color-swatch light" style="background-color: #1a1a1a; color: #1a1a1a;">
        <div class="color-label">テキスト</div>
        <div class="color-code">#1a1a1a</div>
      </div>
      
      <div class="color-swatch light" style="background-color: #e4e4e7; color: #1a1a1a;">
        <div class="color-label">ボーダー</div>
        <div class="color-code">#e4e4e7</div>
      </div>
      
      <div class="color-swatch light" style="background-color: #2563eb; color: #1a1a1a;">
        <div class="color-label">リンク</div>
        <div class="color-code">#2563eb</div>
      </div>
      
    </div>
  </div>
  
</div>

<h3>カテゴリー別カラー</h3>
<div class="category-colors">
  
  <div class="category-card creative">
    <div class="category-gradient" style="background: ZgotmplZ;">
      <h4>クリエイティブ</h4>
      <p>画像・動画・音楽生成</p>
    </div>
    <div class="category-specs">
      <span class="gradient-spec">グラデーション指定:</span>
      <div class="color-values">
        
        <span class="color-val">#8B5CF6</span>
        
        <span class="color-val">#EC4899</span>
        
        <span class="color-val">#FB923C</span>
        
      </div>
    </div>
  </div>
  
  <div class="category-card development">
    <div class="category-gradient" style="background: ZgotmplZ;">
      <h4>開発</h4>
      <p>コード生成・分析・デバッグ</p>
    </div>
    <div class="category-specs">
      <span class="gradient-spec">グラデーション指定:</span>
      <div class="color-values">
        
        <span class="color-val">#3B82F6</span>
        
        <span class="color-val">#06B6D4</span>
        
        <span class="color-val">#10B981</span>
        
      </div>
    </div>
  </div>
  
  <div class="category-card business">
    <div class="category-gradient" style="background: ZgotmplZ;">
      <h4>ビジネス</h4>
      <p>翻訳・要約・レポート</p>
    </div>
    <div class="category-specs">
      <span class="gradient-spec">グラデーション指定:</span>
      <div class="color-values">
        
        <span class="color-val">#10B981</span>
        
        <span class="color-val">#14B8A6</span>
        
        <span class="color-val">#06B6D4</span>
        
      </div>
    </div>
  </div>
  
</div>

<h3>タイポグラフィー</h3>
<div class="typography-samples">
  
  <div class="typo-item">
    <span class="typo-label">メインタイトル</span>
    <div class="typo-sample" style="ZgotmplZ">KAMUI CODE ドキュメント</div>
    <span class="typo-spec">font-size: 1.6rem; font-weight: 700;</span>
  </div>
  
  <div class="typo-item">
    <span class="typo-label">セクションヘッダー</span>
    <div class="typo-sample" style="ZgotmplZ">1. 概要</div>
    <span class="typo-spec">font-size: 1.1rem; font-weight: 600;</span>
  </div>
  
  <div class="typo-item">
    <span class="typo-label">本文</span>
    <div class="typo-sample" style="ZgotmplZ">KAMUI CODE は、MCP（Model Context Protocol）に準拠した複数のサーバー群を統合的に提供します。</div>
    <span class="typo-spec">font-size: 0.95rem; line-height: 1.7;</span>
  </div>
  
  <div class="typo-item">
    <span class="typo-label">コード</span>
    <div class="typo-sample" style="ZgotmplZ">const result = await api.generate({ prompt: &#39;hello&#39; });</div>
    <span class="typo-spec">font-family: ui-monospace, monospace; font-size: 0.85rem;</span>
  </div>
  
</div>

<h3>レイアウト構成</h3>
<div class="layout-specs">
  <h4>基本レイアウト</h4>
  <ul>
    
    <li>map[サイドバー幅:280px]</li>
    
    <li>map[メインコンテンツパディング:24px]</li>
    
    <li>map[カード間隔:18px]</li>
    
    <li>map[ボーダーラジウス:8px～16px]</li>
    
  </ul>
</div>

<h3>インタラクション</h3>
<div class="interaction-specs">
  <h4>アニメーション設定</h4>
  <ul>
    
    <li>map[ホバーエフェクト:背景色変化、translateY(-2px)]</li>
    
    <li>map[トランジション:all 0.2s ease]</li>
    
    <li>map[スクロールビヘイビア:smooth]</li>
    
    <li>map[モーダル背景:rgba(0,0,0,0.6)]</li>
    
  </ul>
</div>

<h3>レスポンシブ対応</h3>
<div class="responsive-specs">
  <h4>ブレークポイント</h4>
  <ul>
    
    <li>map[ブレークポイント:768px]</li>
    
    <li>map[モバイルサイドバー:スライド式]</li>
    
    <li>map[グリッド調整:3列 → 2列 → 1列]</li>
    
    <li>map[タッチ対応:タップ操作最適化]</li>
    
  </ul>
</div>
</div>
      

      
      <div style="margin-top: 12px;"><div class="mermaid-wrapper">
  <div class="mermaid">
    graph TD
  A[KAMUI CODE Platform] --&gt; B[Creative Category]
  A --&gt; C[Development Category]
  A --&gt; D[Business Category]
  
  B --&gt; B1[Text→Image&lt;br/&gt;T2I]
  B --&gt; B2[Image→Image&lt;br/&gt;I2I]
  B --&gt; B3[Text→Video&lt;br/&gt;T2V]
  B --&gt; B4[Video→Video&lt;br/&gt;V2V]
  
  C --&gt; C1[Code Generation]
  C --&gt; C2[Code Analysis]
  C --&gt; C3[Debugging]
  C --&gt; C4[Documentation]
  
  D --&gt; D1[Translation]
  D --&gt; D2[Summarization]
  D --&gt; D3[Report Generation]
  D --&gt; D4[Requirement Docs]
  
  style A fill:#8B5CF6,stroke:#fff,stroke-width:2px,color:#fff
  style B fill:#EC4899,stroke:#fff,stroke-width:2px,color:#fff
  style C fill:#3B82F6,stroke:#fff,stroke-width:2px,color:#fff
  style D fill:#10B981,stroke:#fff,stroke-width:2px,color:#fff

  </div>
</div>
</div>
      
      
        
          <div class="mermaid-wrapper">
  <div class="mermaid">
graph TB
    subgraph &#34;クライアント層&#34;
        C1[MCPクライアント]
        C2[HTTPクライアント]
        C3[SDK/ライブラリ]
    end
    
    subgraph &#34;ゲートウェイ層&#34;
        GW[&#34;KAMUI CODE ゲートウェイ&lt;br/&gt;({BASE_URL})&#34;]
    end
    
    subgraph &#34;サービスルーター&#34;
        RT[&#34;カテゴリ別ルーティング&lt;br/&gt;(t2i, i2i, t2v 等)&#34;]
    end
    
    subgraph &#34;プロバイダーサービス&#34;
        direction TB
        P1[FAL.ai サービス]
        P2[Google サービス]
        P3[MiniMax サービス]
        P4[Runway サービス]
        P5[ByteDance サービス]
    end
    
    subgraph &#34;モデルエンドポイント&#34;
        M1[Imagen4 Ultra]
        M2[Flux モデル群]
        M3[Veo3]
        M4[Hailuo-02]
        M5[Dreamina v3.1]
    end
    
    C1 --&gt; GW
    C2 --&gt; GW
    C3 --&gt; GW
    GW --&gt; RT
    RT --&gt; P1
    RT --&gt; P2
    RT --&gt; P3
    RT --&gt; P4
    RT --&gt; P5
    P1 --&gt; M1
    P1 --&gt; M2
    P2 --&gt; M3
    P3 --&gt; M4
    P5 --&gt; M5
    
    style RT fill:#2d2d2d,stroke:#4a4a4a,stroke-width:1px

  </div>
  
  <div class="mermaid-caption">図: KAMUI CODE システムアーキテクチャ</div>
  
</div>

        
          <div class="mermaid-wrapper">
  <div class="mermaid">
sequenceDiagram
    participant User as ユーザー
    participant Client as MCPクライアント
    participant Gateway as KAMUIゲートウェイ
    participant Provider as プロバイダーAPI
    participant Model as AIモデル
    
    User-&gt;&gt;Client: 生成リクエスト
    Client-&gt;&gt;Client: mcp/config.json読み込み
    Client-&gt;&gt;Gateway: POST /t2i/fal/imagen4/ultra
    Note over Gateway: 認証 &amp; ルーティング
    Gateway-&gt;&gt;Provider: FAL APIへ転送
    Provider-&gt;&gt;Model: Imagen4 Ultra実行
    Model--&gt;&gt;Provider: 生成画像
    Provider--&gt;&gt;Gateway: 結果返却
    Gateway--&gt;&gt;Client: URLレスポンス
    Client--&gt;&gt;User: 結果表示

  </div>
  
  <div class="mermaid-caption">図: API呼び出しシーケンス</div>
  
</div>

        
          <div class="mermaid-wrapper">
  <div class="mermaid">
flowchart LR
    subgraph &#34;開発&#34;
        A[ローカル開発] --&gt; B[Git コミット]
        B --&gt; C[GitHub へプッシュ]
    end
    
    subgraph &#34;CI/CD パイプライン&#34;
        C --&gt; D[GitHub Actions]
        D --&gt; E{テスト成功?}
        E --&gt;|はい| F[静的ファイルビルド]
        E --&gt;|いいえ| G[問題修正]
        G --&gt; B
    end
    
    subgraph &#34;デプロイ&#34;
        F --&gt; H[GitHub Pages]
        F --&gt; I[Cloudflare Pages]
        H --&gt; J[&#34;docs.{BASE_URL}&#34;]
        I --&gt; K[&#34;{BASE_URL}&#34;]
    end
    
    subgraph &#34;CDN/配信&#34;
        J --&gt; L[グローバル CDN]
        K --&gt; L
        L --&gt; M[エンドユーザー]
    end
    
    style E fill:#f9f,stroke:#333,stroke-width:2px

  </div>
  
  <div class="mermaid-caption">図: デプロイメントフロー</div>
  
</div>

        
          <div class="mermaid-wrapper">
  <div class="mermaid">
flowchart LR
    subgraph &#34;監視&#34;
        M1[ヘルスチェック] --&gt; M2{ステータスOK?}
        M2 --&gt;|はい| M3[メトリクス記録]
        M2 --&gt;|いいえ| M4[チームへ通知]
    end
    
    subgraph &#34;インシデント対応&#34;
        M4 --&gt; I1[問題診断]
        I1 --&gt; I2{緊急度?}
        I2 --&gt;|高| I3[即座に修正]
        I2 --&gt;|低| I4[修正予定]
        I3 --&gt; I5[ホットフィックスデプロイ]
        I4 --&gt; I6[定期メンテナンス]
    end
    
    subgraph &#34;メンテナンス&#34;
        I6 --&gt; U1[サービス更新]
        U1 --&gt; U2[変更テスト]
        U2 --&gt; U3[ステージングデプロイ]
        U3 --&gt; U4{テスト成功?}
        U4 --&gt;|はい| U5[本番デプロイ]
        U4 --&gt;|いいえ| U6[ロールバック]
        U6 --&gt; U2
    end
    
    style I2 fill:#ff9,stroke:#333,stroke-width:2px

  </div>
  
  <div class="mermaid-caption">図: 運用フロー</div>
  
</div>

        
      
    </section>

    
    <section class="req-section" id="req-implementation">
      <h3>実装</h3>
      
      <div class="card">



<pre class="code" data-lang="json"><code>{
  &#34;mcpServers&#34;: {
    &#34;kamui-creative&#34;: {
      &#34;command&#34;: &#34;npx&#34;,
      &#34;args&#34;: [&#34;@kamui/mcp-creative&#34;],
      &#34;env&#34;: {
        &#34;API_KEY&#34;: &#34;YOUR_CREATIVE_API_KEY&#34;
      }
    },
    &#34;kamui-dev&#34;: {
      &#34;command&#34;: &#34;npx&#34;,
      &#34;args&#34;: [&#34;@kamui/mcp-dev&#34;],
      &#34;env&#34;: {
        &#34;API_KEY&#34;: &#34;YOUR_DEV_API_KEY&#34;
      }
    },
    &#34;kamui-business&#34;: {
      &#34;command&#34;: &#34;npx&#34;,
      &#34;args&#34;: [&#34;@kamui/mcp-business&#34;],
      &#34;env&#34;: {
        &#34;API_KEY&#34;: &#34;YOUR_BUSINESS_API_KEY&#34;
      }
    }
  }
}
</code></pre>
</div>
      
      
      
      <div style="margin-top: 12px;"><div class="gantt-wrapper">
  <div class="mermaid" style="width: 1600px !important; min-width: 1600px !important; height: 500px !important;">
gantt
  title KAMUI CODE 開発スケジュール
  dateFormat YYYY-MM-DD
  section フェーズ1
  要件定義 :done, req, 2025-01-01, 14d
  基本設計 :done, design, after req, 21d
  詳細設計 :active, detail, after design, 14d
  section フェーズ2
  MCPサーバー実装 :impl1, after detail, 30d
  フロントエンド実装 :impl2, after detail, 45d
  統合テスト :test, after impl1, 21d
  section フェーズ3
  性能調整 :perf, after test, 14d
  デプロイ準備 :deploy, after perf, 7d
  本番リリース :milestone, after deploy, 0d

  </div>
  <div class="mermaid-caption">図: 要件定義書</div>
</div>
</div>
      
      
      <div style="margin-top: 12px;"><div id="apiEndpointsTableMessage" class="doc-meta"></div>
<div style="overflow:auto; max-height: 420px; border: 1px solid var(--border); border-radius: 8px;">
  <table class="menu-table" id="apiEndpointsTable">
    <thead>
      <tr>
        
        <th>カテゴリ</th>
        
        <th>エンドポイント</th>
        
        <th>説明</th>
        
        <th>メソッド</th>
        
        <th>認証</th>
        
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script type="application/json" id="api-endpointsInline"></script>
</div>
      
      
      <div style="margin-top: 12px;"><div class="card-grid" id="clientSampleCards">
  
  <div class="card pastel" data-sample-id="client-javascript">
    <div class="card-title">JavaScript/TypeScript実装例</div>
    <div class="endpoint-box"><div class="endpoint">サーバー定義数: -</div></div>
    <div style="display:flex;gap:8px;margin-top:8px;">
      <button class="view-btn" data-open-client="client-javascript">サンプルを見る</button>
      <button class="view-btn" data-copy-client="client-javascript">コピー</button>
    </div>
  </div>
  <script type="application/json" id="client-javascript"></script>
  
  <div class="card pastel" data-sample-id="client-python">
    <div class="card-title">Python実装例</div>
    <div class="endpoint-box"><div class="endpoint">サーバー定義数: -</div></div>
    <div style="display:flex;gap:8px;margin-top:8px;">
      <button class="view-btn" data-open-client="client-python">サンプルを見る</button>
      <button class="view-btn" data-copy-client="client-python">コピー</button>
    </div>
  </div>
  <script type="application/json" id="client-python"></script>
  
  <div class="card pastel" data-sample-id="client-claude">
    <div class="card-title">Claude Desktop実装例</div>
    <div class="endpoint-box"><div class="endpoint">サーバー定義数: -</div></div>
    <div style="display:flex;gap:8px;margin-top:8px;">
      <button class="view-btn" data-open-client="client-claude">サンプルを見る</button>
      <button class="view-btn" data-copy-client="client-claude">コピー</button>
    </div>
  </div>
  <script type="application/json" id="client-claude"></script>
  
  <div class="card pastel" data-sample-id="client-cursor">
    <div class="card-title">Cursor IDE実装例</div>
    <div class="endpoint-box"><div class="endpoint">サーバー定義数: -</div></div>
    <div style="display:flex;gap:8px;margin-top:8px;">
      <button class="view-btn" data-open-client="client-cursor">サンプルを見る</button>
      <button class="view-btn" data-copy-client="client-cursor">コピー</button>
    </div>
  </div>
  <script type="application/json" id="client-cursor"></script>
  
</div>
</div>
      
    </section>

    
    <section class="req-section" id="req-operations">
      <h3>運用</h3>
      
      <div class="card"><h2 id="6-api仕様">6. API仕様</h2>
<h3 id="エンドポイント構造">エンドポイント構造</h3>
<pre tabindex="0"><code>https://{BASE_URL}/{category}/{vendor}/{model}/{mode}
</code></pre><h3 id="カテゴリ別エンドポイント例">カテゴリ別エンドポイント例</h3>
<ul>
<li><strong>画像生成</strong>: <code>{BASE_URL}/t2i/fal/flux/ultra</code></li>
<li><strong>動画生成</strong>: <code>{BASE_URL}/t2v/fal/haiper/standard</code></li>
<li><strong>コード生成</strong>: <code>{BASE_URL}/code/github/copilot/completion</code></li>
<li><strong>要件定義</strong>: <code>{BASE_URL}/requirement/kamui/generator</code></li>
</ul>
<h2 id="7-セキュリティ要件">7. セキュリティ要件</h2>
<ul>
<li><strong>認証方式</strong>: Bearer Token (JWT)</li>
<li><strong>通信暗号化</strong>: TLS 1.3以上</li>
<li><strong>APIレート制限</strong>: 100リクエスト/分 (ユーザー単位)</li>
<li><strong>データ保護</strong>: 個人情報のハッシュ化、定期的な監査ログ</li>
</ul>
<h2 id="8-受入基準">8. 受入基準</h2>
<ul>
<li><strong>基本エンドポイント</strong>: 全カテゴリの基本エンドポイントが動作すること</li>
<li><strong>認証機能</strong>: Bearer Tokenまたは同等の認証が有効であること</li>
<li><strong>ドキュメント</strong>: 本HTMLがGitHub Pagesで正常表示されること</li>
<li><strong>レスポンスタイム</strong>: 95%パーセンタイルが3秒以内</li>
<li><strong>エラーハンドリング</strong>: 適切なエラーメッセージが返されること</li>
</ul>
<h2 id="9-運用保守">9. 運用・保守</h2>
<ul>
<li><strong>監視</strong>: エンドポイントのヘルスチェック、レスポンスタイム計測</li>
<li><strong>ログ管理</strong>: APIリクエストログ、エラーログの集約・分析</li>
<li><strong>インシデント対応</strong>: 障害時の通知フロー、復旧手順</li>
<li><strong>メンテナンスウィンドウ</strong>: 定期的なサービス更新時間の設定</li>
</ul>
<h2 id="10-付録">10. 付録</h2>
<h3 id="model-context-protocol-mcp-仕様書">Model Context Protocol (MCP) 仕様書</h3>
<p>KAMUI CODEが準拠している<a href="https://modelcontextprotocol.io/specification/2025-06-18">Model Context Protocol (MCP) の公式仕様書</a>では、以下の内容が定義されています：</p>
<ul>
<li><strong>基本プロトコル</strong>: JSON-RPC 2.0メッセージフォーマット、ステートフルな接続、サーバー・クライアント間の機能ネゴシエーション</li>
<li><strong>サーバー機能</strong>:
<ul>
<li>Resources（コンテキストとデータ）</li>
<li>Prompts（テンプレート化されたメッセージとワークフロー）</li>
<li>Tools（AIモデルが実行する関数）</li>
</ul>
</li>
<li><strong>クライアント機能</strong>:
<ul>
<li>Sampling（サーバー主導の従業員動作）</li>
<li>Roots（URI/ファイルシステム境界の問い合わせ）</li>
<li>Elicitation（ユーザーからの追加情報リクエスト）</li>
</ul>
</li>
<li><strong>セキュリティ原則</strong>: ユーザーの同意と制御、データプライバシー、ツールの安全性、LLMサンプリング制御</li>
</ul>
<p>詳細は<a href="https://modelcontextprotocol.io/specification/2025-06-18">MCP公式仕様書</a>をご参照ください。</p>
</div>
      
      
      <div style="margin-top: 12px;">
<div class="view-options" style="margin: 8px 0 12px 0;">
  <span class="theme-label">種別:</span>
  <button class="view-btn" id="btnMcpPlaylist" aria-pressed="true">MCPプレイリスト</button>
  <button class="view-btn" id="btnMcpCatalog">MCPカタログ</button>
  <span class="spacer"></span>
  <span class="theme-label">カテゴリ:</span>
  <button class="view-btn" id="btnCatCreative">クリエイティブ</button>
  <button class="view-btn" id="btnCatDevelopment">開発</button>
  <button class="view-btn" id="btnCatBusiness">ビジネス</button>
</div>
<div id="mcpMessage" class="doc-meta"></div>
<div style="overflow:auto; max-height: 480px; border: 1px solid var(--border); border-radius: 8px;">
  <table class="menu-table" id="mcpTable">
    <thead></thead>
    <tbody></tbody>
  </table>
</div>

<script type="application/json" id="mcpPlaylistsInline"></script>
<script type="application/json" id="mcpCatalogInline"></script>
</div>
      
    </section>
  </div>
</div>

<script>
  (function(){
    const nav = document.getElementById('reqToc');
    if (!nav) return;
    const links = Array.from(nav.querySelectorAll('a[data-target]'));
    function setActive(id){
      links.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
    }
    
    links.forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const id = a.getAttribute('data-target');
        const el = document.getElementById(id);
        if (el) { el.scrollIntoView({ behavior: 'smooth', block: 'start' }); setActive(id); }
      });
    });
    
    const obs = new IntersectionObserver(entries => {
      const visible = entries.filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top);
      if (visible[0]) setActive(visible[0].target.id);
    }, { rootMargin: '-25% 0px -65% 0px', threshold: [0, 0.1, 0.5, 1] });
    ['req-overview','req-users','req-requirements','req-architecture','req-implementation','req-operations'].forEach(id => {
      const el = document.getElementById(id); if (el) obs.observe(el);
    });
  })();
</script>

      </div>
    
  </section>
  
  <section class="doc-section" id="requirements-kamui-os" data-cat="2" data-cat-name="要件定義・開発">
    <h2>KAMUI OS 要件定義書</h2>
    
      
      
      
      <div id="requirementsDocCard-requirements-kamui-os" class="dashboard-links" style="margin-top: 8px;">
        <a href="#requirements-kamui-os" class="saas-app-card" onclick="(function(){
          var card = document.getElementById('requirementsDocCard-requirements-kamui-os');
          var body = document.getElementById('requirementsDocBody-requirements-kamui-os');
          if(card && body){ card.style.display='none'; body.style.display='block'; window.scrollTo(0,0); }
        })(); return false;">
          
            <img src="/images/kamui-gradient-soft-1.png" alt="KAMUI OS 要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          
          <div class="saas-app-title">
            KAMUI OS 要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          
          <div class="saas-app-description">KAMUI OS 本体の要件定義書。ドキュメントサイト、ダッシュボード、動的ギャラリー、
要件ドキュメント描画エンジンを含むプロジェクトの全体像を定義します。</div>
          
          <div class="saas-app-features">
            • 概要・ユーザー分析<br>
            • 機能要件・非機能要件<br>
            • アーキテクチャ・実装・運用
          </div>
        </a>

        
      </div>

      <div id="requirementsDocBody-requirements-kamui-os" style="display:none;">
        <style>
   
  .req-doc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 24px;
    align-items: start;
  }
  .req-toc {
    position: sticky;
    top: 80px;
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
  }
  .req-toc-title {
    font-size: 0.95rem;
    font-weight: 700;
    margin: 6px 8px 10px;
    color: var(--text);
  }
  .req-toc a {
    display: block;
    padding: 8px 10px;
    border-radius: 8px;
    color: var(--text-weak);
    text-decoration: none;
    transition: background 0.2s ease, color 0.2s ease;
    font-size: 0.92rem;
  }
  .req-toc a:hover { background: var(--card); color: var(--text); }
  .req-toc a.active { background: var(--card-strong); color: var(--text); font-weight: 600; }

  .req-content { min-width: 0; }
  .req-section { scroll-margin-top: 72px; margin-bottom: 28px; }
  .req-section h3 { font-size: 1.15rem; margin: 8px 0 14px; }
  .meta-inline {
    display: inline-flex; gap: 12px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-weak);
    background: var(--sidebar-bg); border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; margin: 8px 0 12px;
  }
  .cards-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .card h4 { margin: 0 0 8px; font-size: 1rem; }
  .muted { color: var(--text-weak); }
   
  .req-doc .card, .req-doc .card * { color: var(--text) !important; }
  .req-doc .card a { color: var(--link) !important; }
  .req-doc a.card { text-decoration: none; display: block; cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease; }
  .req-doc a.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
  .table th { background: var(--sidebar-bg); color: var(--text); }
  .table td { color: var(--text); }
  .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

  .persona { display: grid; grid-template-columns: 48px 1fr; gap: 10px; align-items: start; }
  .persona .emoji { font-size: 28px; line-height: 1; }
  .persona h5 { margin: 0; font-size: 1rem; }
  .persona small { color: var(--text-weak); }
  .persona ul { margin: 6px 0 0; padding-left: 18px; }
</style>

<div class="req-doc" id="reqDoc">
  <nav class="req-toc" id="reqToc">
    <div class="req-toc-title">目次（要件定義書）</div>
      <a href="#req-overview" data-target="req-overview">概要</a>
      <a href="#req-requirements" data-target="req-requirements">要件定義</a>
      <a href="#req-architecture" data-target="req-architecture">アーキテクチャ</a>
      <a href="#req-implementation" data-target="req-implementation">実装</a>
      <a href="#req-operations" data-target="req-operations">運用</a>
  </nav>

  <div class="req-content">
    
    <section class="req-section" id="req-overview">
      <h3>概要</h3>
      
      <div class="meta-inline">
        <span>版: 1.0</span>
        <span>日付: 2025年9月</span>
        <span>状態: 草案</span>
      </div>
      
      
      <div class="section-image">
        <img src="/images/kamui-gradient-soft-1.png" alt="KAMUI OS 要件定義書">
      </div>
      
      
      <div class="cards-3">
        
          <div class="card">
            <h4>📦 プロジェクト概要</h4>
            <div>Hugo ベースのドキュメントサイトとカスタムテーマ「kamui-docs」により、
データ駆動でセクションを合成。要件定義書は YAML + 部分テンプレートで描画します。</div>
          </div>
        
          <div class="card">
            <h4>🎯 対象範囲</h4>
            <div><ul>
<li>静的サイト生成と配信</li>
<li>ダッシュボード/カード UI</li>
<li>動的メディアギャラリー</li>
<li>要件定義書レンダラー</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>✅ 成果物</h4>
            <div><ul>
<li>章立てドキュメントサイト</li>
<li>UI/要件の統合ビュー</li>
<li>MCP 連携の下地</li>
</ul>
</div>
          </div>
        
      </div>
      

      
      
      
        
          
        
      
    </section>

    
    <section class="req-section" id="req-users">
      <h3>ユーザー分析</h3>
      
      
      

      

      
    </section>

    
    <section class="req-section" id="req-requirements">
      <h3>要件定義</h3>
      
      <h4>機能要件</h4>
      <table class="table">
        <thead><tr><th>ID</th><th>名称</th><th>説明</th><th>優先度</th></tr></thead>
        <tbody>
        
          <tr><td>FR-OS-001</td><td>データ駆動レンダリング</td><td>`data/` 以下の YAML を集約してセクションを自動描画</td><td>必須</td></tr>
        
          <tr><td>FR-OS-002</td><td>要件定義書テンプレート</td><td>再利用可能な要件定義書パーシャルで複数ドキュメントに対応</td><td>必須</td></tr>
        
          <tr><td>FR-OS-003</td><td>ダッシュボードカード</td><td>主要機能へのカードリンクと状態遷移の統一</td><td>必須</td></tr>
        
          <tr><td>FR-OS-004</td><td>動的メディアギャラリー</td><td>Node サーバーによるスキャンとフロント表示</td><td>推奨</td></tr>
        
        </tbody>
      </table>
      

      
      <h4 style="margin-top:14px;">非機能要件</h4>
      <div class="grid-2">
        
        <div class="card">
          <h4 style="margin:0 0 6px;">パフォーマンス</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>初回描画は1秒以内（ローカル）</li><li>画像遅延読み込みで体感速度を最適化</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">可用性</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>ビルドは再現可能（固定データで決定論）</li><li>セクションの追加はノーコード（YAML 追加のみ）</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">セキュリティ</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>静的配信を基本とし攻撃面を最小化</li></ul>
        </div>
        
      </div>
      

      
        
          
          
          <div style="margin-top:14px;">
            <table class="table">
              <thead><tr><th>要件ID</th><th>カテゴリ</th><th>説明</th><th>優先度</th></tr></thead>
              <tbody>
              
                <tr><td>REQ-OS-001</td><td>機能要件</td><td>YAMLベースで複数要件書を描画</td><td>必須</td></tr>
              
                <tr><td>REQ-OS-002</td><td>機能要件</td><td>ダッシュボードカードからの遷移統一</td><td>必須</td></tr>
              
                <tr><td>REQ-OS-003</td><td>非機能要件</td><td>ビルドの再現性と表示速度</td><td>必須</td></tr>
              
                <tr><td>REQ-OS-004</td><td>運用</td><td>簡易な追加/削除が可能な構造</td><td>必須</td></tr>
              
              </tbody>
            </table>
          </div>
          
          
        
      
    </section>

    
    <section class="req-section" id="req-architecture">
      <h3>アーキテクチャ</h3>
      
      
      <div class="grid-2">
        <div class="card">
          <h4>フロントエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Hugo <small>(0.125&#43;)</small> — 静的サイト生成</li><li>Vanilla JS/CSS <small>(—)</small> — 目次/遷移/モーダル等</li>
          </ul>
        </div>
        <div class="card">
          <h4>バックエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Node.js <small>(20.x)</small> — 動的メディアギャラリー API</li>
          </ul>
        </div>
        <div class="card">
          <h4>AI/ML</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>— <small>(—)</small> — —</li>
          </ul>
        </div>
      </div>
      

      

      
      
    </section>

    
    <section class="req-section" id="req-implementation">
      <h3>実装</h3>
      
      
      
      
      
    </section>

    
    <section class="req-section" id="req-operations">
      <h3>運用</h3>
      
      
    </section>
  </div>
</div>

<script>
  (function(){
    const nav = document.getElementById('reqToc');
    if (!nav) return;
    const links = Array.from(nav.querySelectorAll('a[data-target]'));
    function setActive(id){
      links.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
    }
    
    links.forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const id = a.getAttribute('data-target');
        const el = document.getElementById(id);
        if (el) { el.scrollIntoView({ behavior: 'smooth', block: 'start' }); setActive(id); }
      });
    });
    
    const obs = new IntersectionObserver(entries => {
      const visible = entries.filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top);
      if (visible[0]) setActive(visible[0].target.id);
    }, { rootMargin: '-25% 0px -65% 0px', threshold: [0, 0.1, 0.5, 1] });
    ['req-overview','req-users','req-requirements','req-architecture','req-implementation','req-operations'].forEach(id => {
      const el = document.getElementById(id); if (el) obs.observe(el);
    });
  })();
</script>

      </div>
    
  </section>
  
  <section class="doc-section" id="requirements-kamui-os-npm" data-cat="2" data-cat-name="要件定義・開発">
    <h2>KAMUI OS NPM パッケージ要件定義書</h2>
    
      
      
      
      <div id="requirementsDocCard-requirements-kamui-os-npm" class="dashboard-links" style="margin-top: 8px;">
        <a href="#requirements-kamui-os-npm" class="saas-app-card" onclick="(function(){
          var card = document.getElementById('requirementsDocCard-requirements-kamui-os-npm');
          var body = document.getElementById('requirementsDocBody-requirements-kamui-os-npm');
          if(card && body){ card.style.display='none'; body.style.display='block'; window.scrollTo(0,0); }
        })(); return false;">
          
            <img src="/images/kamui-gradient-soft-2.png" alt="KAMUI OS NPM パッケージ要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          
          <div class="saas-app-title">
            KAMUI OS NPM パッケージ要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          
          <div class="saas-app-description">KAMUI OS を npm パッケージとして配布し、プロジェクトへの導入・拡張・更新を容易にします。
CLI・テンプレート・ランタイム（テーマ/JS）をまとめて提供し、最小コマンドで環境を構築できることを目指します。</div>
          
          <div class="saas-app-features">
            • 概要・ユーザー分析<br>
            • 機能要件・非機能要件<br>
            • アーキテクチャ・実装・運用
          </div>
        </a>

        
      </div>

      <div id="requirementsDocBody-requirements-kamui-os-npm" style="display:none;">
        <style>
   
  .req-doc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 24px;
    align-items: start;
  }
  .req-toc {
    position: sticky;
    top: 80px;
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
  }
  .req-toc-title {
    font-size: 0.95rem;
    font-weight: 700;
    margin: 6px 8px 10px;
    color: var(--text);
  }
  .req-toc a {
    display: block;
    padding: 8px 10px;
    border-radius: 8px;
    color: var(--text-weak);
    text-decoration: none;
    transition: background 0.2s ease, color 0.2s ease;
    font-size: 0.92rem;
  }
  .req-toc a:hover { background: var(--card); color: var(--text); }
  .req-toc a.active { background: var(--card-strong); color: var(--text); font-weight: 600; }

  .req-content { min-width: 0; }
  .req-section { scroll-margin-top: 72px; margin-bottom: 28px; }
  .req-section h3 { font-size: 1.15rem; margin: 8px 0 14px; }
  .meta-inline {
    display: inline-flex; gap: 12px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-weak);
    background: var(--sidebar-bg); border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; margin: 8px 0 12px;
  }
  .cards-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .card h4 { margin: 0 0 8px; font-size: 1rem; }
  .muted { color: var(--text-weak); }
   
  .req-doc .card, .req-doc .card * { color: var(--text) !important; }
  .req-doc .card a { color: var(--link) !important; }
  .req-doc a.card { text-decoration: none; display: block; cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease; }
  .req-doc a.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
  .table th { background: var(--sidebar-bg); color: var(--text); }
  .table td { color: var(--text); }
  .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

  .persona { display: grid; grid-template-columns: 48px 1fr; gap: 10px; align-items: start; }
  .persona .emoji { font-size: 28px; line-height: 1; }
  .persona h5 { margin: 0; font-size: 1rem; }
  .persona small { color: var(--text-weak); }
  .persona ul { margin: 6px 0 0; padding-left: 18px; }
</style>

<div class="req-doc" id="reqDoc">
  <nav class="req-toc" id="reqToc">
    <div class="req-toc-title">目次（要件定義書）</div>
      <a href="#req-overview" data-target="req-overview">概要</a>
      <a href="#req-requirements" data-target="req-requirements">要件定義</a>
      <a href="#req-architecture" data-target="req-architecture">アーキテクチャ</a>
      <a href="#req-implementation" data-target="req-implementation">実装</a>
      <a href="#req-operations" data-target="req-operations">運用</a>
  </nav>

  <div class="req-content">
    
    <section class="req-section" id="req-overview">
      <h3>概要</h3>
      
      <div class="meta-inline">
        <span>版: 0.1.0</span>
        <span>日付: 2025-09</span>
        <span>状態: 草案</span>
      </div>
      
      
      <div class="section-image">
        <img src="/images/kamui-gradient-soft-2.png" alt="KAMUI OS NPM パッケージ要件定義書">
      </div>
      
      
      <div class="cards-3">
        
          <div class="card">
            <h4>🎯 目的</h4>
            <div><ul>
<li>インストール1行で KAMUI OS を導入</li>
<li>設定/データ/YAML からサイトを構築</li>
<li>テーマとJSをパッケージで配布し再利用性を向上</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>👥 対象</h4>
            <div><ul>
<li>ドキュメントサイトを素早く立ち上げたいチーム</li>
<li>要件定義書テンプレを使い回したいプロジェクト</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>✅ 成果物</h4>
            <div><ul>
<li>npm パッケージ <code>@kamui/os</code></li>
<li>CLI <code>kamui</code>（init/build/serve）</li>
<li>TypeScript 型と API ドキュメント</li>
</ul>
</div>
          </div>
        
      </div>
      

      
      
      
        
          
        
      
    </section>

    
    <section class="req-section" id="req-users">
      <h3>ユーザー分析</h3>
      
      
      

      

      
    </section>

    
    <section class="req-section" id="req-requirements">
      <h3>要件定義</h3>
      
      <h4>機能要件</h4>
      <table class="table">
        <thead><tr><th>ID</th><th>名称</th><th>説明</th><th>優先度</th></tr></thead>
        <tbody>
        
          <tr><td>NPM-001</td><td>CLI 初期化</td><td>`kamui init` で雛形作成（config, data/saas, static, themes設定）</td><td>必須</td></tr>
        
          <tr><td>NPM-002</td><td>ビルド/サーブ</td><td>`kamui build` / `kamui serve -p 1313` を提供（Hugo 起動をラップ）</td><td>必須</td></tr>
        
          <tr><td>NPM-003</td><td>テンプレート同期</td><td>テーマ/partials/JS/CSS をパッケージから同期（差分上書き/上書き禁止の選択）</td><td>必須</td></tr>
        
          <tr><td>NPM-004</td><td>型定義</td><td>data/saas/*.yaml の型（Zod/TypeScript）を提供</td><td>必須</td></tr>
        
          <tr><td>NPM-005</td><td>プラグイン</td><td>カード/TOC/ダッシュボードの拡張ポイント（フック）</td><td>推奨</td></tr>
        
        </tbody>
      </table>
      

      
      <h4 style="margin-top:14px;">非機能要件</h4>
      <div class="grid-2">
        
        <div class="card">
          <h4 style="margin:0 0 6px;">パフォーマンス</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>初回 init は10秒以内、serve の起動は3秒以内</li><li>テーマ同期は差分のみ（上書き対象を表示）</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">配布/互換性</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>Node.js 20.x 以上、macOS/Linux/Windows</li><li>セマンティックバージョニング（SemVer）</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">セキュリティ</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>依存ライブラリの定期スキャン</li><li>生成物に秘密情報を含めない</li></ul>
        </div>
        
      </div>
      

      
        
          
          
          <div style="margin-top:14px;">
            <table class="table">
              <thead><tr><th>コンポーネント</th><th>内容</th><th>備考</th></tr></thead>
              <tbody>
              
                <tr><td>templates</td><td>themes/kamui-docs の同期対象</td><td>部分上書き可</td></tr>
              
                <tr><td>scripts</td><td>build/serve/init ラッパー</td><td>Hugo を内部起動</td></tr>
              
                <tr><td>types</td><td>data/saas 用 TypeScript 型</td><td>Zod で検証</td></tr>
              
                <tr><td>examples</td><td>最小スターター</td><td>CI 用の検証にも使用</td></tr>
              
              </tbody>
            </table>
          </div>
          
          
        
      
    </section>

    
    <section class="req-section" id="req-architecture">
      <h3>アーキテクチャ</h3>
      
      
      <div class="grid-2">
        <div class="card">
          <h4>フロントエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Hugo <small>(0.148&#43;)</small> — 静的サイト生成</li>
          </ul>
        </div>
        <div class="card">
          <h4>バックエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Node.js <small>(20.x)</small> — CLI/同期ユーティリティ</li><li>TypeScript <small>(5.x)</small> — 型・開発体験</li>
          </ul>
        </div>
        <div class="card">
          <h4>AI/ML</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>— <small>(—)</small> — —</li>
          </ul>
        </div>
      </div>
      

      

      
      <div style="margin-top: 12px;"><div class="mermaid-wrapper">
  <div class="mermaid">
    flowchart LR
  A[kamui init] --&gt; B[雛形生成]
  B --&gt; C[編集]
  C --&gt; D[kamui serve]
  C --&gt; E[kamui build]
  subgraph pkg[@kamui/os]
    T[templates]
    S[scripts]
    Y[types]
  end
  pkg --&gt; A
  pkg --&gt; D
  pkg --&gt; E

  </div>
</div>
</div>
      
      
    </section>

    
    <section class="req-section" id="req-implementation">
      <h3>実装</h3>
      
      <div class="card">



<pre class="code" data-lang="bash"><code># インストール
npm i -D @kamui/os
# 初期化
npx kamui init my-docs &amp;&amp; cd my-docs
# 起動
npx kamui serve -p 1313
</code></pre>
</div>
      
      
      
      
      
    </section>

    
    <section class="req-section" id="req-operations">
      <h3>運用</h3>
      
      
    </section>
  </div>
</div>

<script>
  (function(){
    const nav = document.getElementById('reqToc');
    if (!nav) return;
    const links = Array.from(nav.querySelectorAll('a[data-target]'));
    function setActive(id){
      links.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
    }
    
    links.forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const id = a.getAttribute('data-target');
        const el = document.getElementById(id);
        if (el) { el.scrollIntoView({ behavior: 'smooth', block: 'start' }); setActive(id); }
      });
    });
    
    const obs = new IntersectionObserver(entries => {
      const visible = entries.filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top);
      if (visible[0]) setActive(visible[0].target.id);
    }, { rootMargin: '-25% 0px -65% 0px', threshold: [0, 0.1, 0.5, 1] });
    ['req-overview','req-users','req-requirements','req-architecture','req-implementation','req-operations'].forEach(id => {
      const el = document.getElementById(id); if (el) obs.observe(el);
    });
  })();
</script>

      </div>
    
  </section>
  
  <section class="doc-section" id="requirements-neko-cafe" data-cat="2" data-cat-name="要件定義・開発">
    <h2>ネコカフェ 要件定義書</h2>
    
      
      
      
      <div id="requirementsDocCard-requirements-neko-cafe" class="dashboard-links" style="margin-top: 8px;">
        <a href="#requirements-neko-cafe" class="saas-app-card" onclick="(function(){
          var card = document.getElementById('requirementsDocCard-requirements-neko-cafe');
          var body = document.getElementById('requirementsDocBody-requirements-neko-cafe');
          if(card && body){ card.style.display='none'; body.style.display='block'; window.scrollTo(0,0); }
        })(); return false;">
          
            <img src="/images/requirements_doc_card.png" alt="ネコカフェ 要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          
          <div class="saas-app-title">
            ネコカフェ 要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          
          <div class="saas-app-description">地域密着の「ネコカフェ」サービスの要件定義書です。来店予約、在籍猫のプロフィール、
店内メニュー、グッズEC、SNS連携、店舗運営（勤怠/在庫/日報）までを対象にします。</div>
          
          <div class="saas-app-features">
            • 概要・ユーザー分析<br>
            • 機能要件・非機能要件<br>
            • アーキテクチャ・実装・運用
          </div>
        </a>

        
      </div>

      <div id="requirementsDocBody-requirements-neko-cafe" style="display:none;">
        <style>
   
  .req-doc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 24px;
    align-items: start;
  }
  .req-toc {
    position: sticky;
    top: 80px;
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
  }
  .req-toc-title {
    font-size: 0.95rem;
    font-weight: 700;
    margin: 6px 8px 10px;
    color: var(--text);
  }
  .req-toc a {
    display: block;
    padding: 8px 10px;
    border-radius: 8px;
    color: var(--text-weak);
    text-decoration: none;
    transition: background 0.2s ease, color 0.2s ease;
    font-size: 0.92rem;
  }
  .req-toc a:hover { background: var(--card); color: var(--text); }
  .req-toc a.active { background: var(--card-strong); color: var(--text); font-weight: 600; }

  .req-content { min-width: 0; }
  .req-section { scroll-margin-top: 72px; margin-bottom: 28px; }
  .req-section h3 { font-size: 1.15rem; margin: 8px 0 14px; }
  .meta-inline {
    display: inline-flex; gap: 12px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-weak);
    background: var(--sidebar-bg); border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; margin: 8px 0 12px;
  }
  .cards-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .card h4 { margin: 0 0 8px; font-size: 1rem; }
  .muted { color: var(--text-weak); }
   
  .req-doc .card, .req-doc .card * { color: var(--text) !important; }
  .req-doc .card a { color: var(--link) !important; }
  .req-doc a.card { text-decoration: none; display: block; cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease; }
  .req-doc a.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
  .table th { background: var(--sidebar-bg); color: var(--text); }
  .table td { color: var(--text); }
  .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

  .persona { display: grid; grid-template-columns: 48px 1fr; gap: 10px; align-items: start; }
  .persona .emoji { font-size: 28px; line-height: 1; }
  .persona h5 { margin: 0; font-size: 1rem; }
  .persona small { color: var(--text-weak); }
  .persona ul { margin: 6px 0 0; padding-left: 18px; }
</style>

<div class="req-doc" id="reqDoc">
  <nav class="req-toc" id="reqToc">
    <div class="req-toc-title">目次（要件定義書）</div>
      <a href="#req-overview" data-target="req-overview">概要</a>
      <a href="#req-users" data-target="req-users">ユーザー分析</a>
      <a href="#req-requirements" data-target="req-requirements">要件定義</a>
      <a href="#req-architecture" data-target="req-architecture">アーキテクチャ</a>
      <a href="#req-implementation" data-target="req-implementation">実装</a>
      <a href="#req-operations" data-target="req-operations">運用</a>
  </nav>

  <div class="req-content">
    
    <section class="req-section" id="req-overview">
      <h3>概要</h3>
      
      <div class="meta-inline">
        <span>版: 1.0</span>
        <span>日付: 2025年9月</span>
        <span>状態: 草案</span>
      </div>
      
      
      <div class="section-image">
        <img src="/images/requirements_doc_card.png" alt="ネコカフェ 要件定義書">
      </div>
      
      
      <div class="cards-3">
        
          <div class="card">
            <h4>🎯 目的</h4>
            <div><ul>
<li>来店体験とオンライン体験（予約/EC/SNS）を統合</li>
<li>在籍猫の健康・紹介情報を正確に管理</li>
<li>スタッフの運用負荷を下げ、可視化を強化</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>📦 対象範囲</h4>
            <div><ul>
<li>予約/チェックイン、在籍猫プロフィール</li>
<li>メニュー/決済、グッズEC</li>
<li>SNS連携、店舗運営（勤怠/在庫/日報）</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>✅ 成果物</h4>
            <div><ul>
<li>要件定義書/画面一覧/運用フロー</li>
<li>KPI・レポート項目の定義</li>
</ul>
</div>
          </div>
        
      </div>
      

      
      
      
        
          
        
      
    </section>

    
    <section class="req-section" id="req-users">
      <h3>ユーザー分析</h3>
      
      <div class="grid-2">
        
        <div class="card persona">
          <div class="emoji">🧑🏻‍🦰</div>
          <div>
            <h5>みなみ <small>(26歳 / 来店客（動物好き/写真好き）)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>癒やしの時間</li><li>推し猫の写真</li><li>予約の取りやすさ</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>混雑時の待ち時間</li><li>猫の体調による会えないリスク</li><li>決済の手間</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>事前予約/混雑状況表示</li><li>推し猫フォロー</li><li>キャッシュレス</li></ul>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card persona">
          <div class="emoji">🧑🏻‍💼</div>
          <div>
            <h5>アキラ <small>(21歳 / 学生アルバイト（スタッフ）)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>シフトの見える化</li><li>業務の簡素化</li><li>猫の健康管理</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>紙ベース連絡</li><li>在庫ロス</li><li>日報が面倒</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>モバイル日報</li><li>チェックリスト</li><li>在庫アラート</li></ul>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card persona">
          <div class="emoji">👩🏻‍💼</div>
          <div>
            <h5>店長 <small>(35歳 / 店長（運営/採用/会計）)</small></h5>
            <div class="grid-2">
              <div>
                <strong>目標</strong>
                <ul><li>稼働最大化</li><li>安全運営</li><li>再来店の増加</li></ul>
              </div>
              <div>
                <strong>課題</strong>
                <ul><li>来店/ECの分断</li><li>猫の体調把握</li><li>人手依存</li></ul>
              </div>
              <div>
                <strong>ニーズ</strong>
                <ul><li>統合ダッシュボード</li><li>猫カルテ</li><li>集客施策の可視化</li></ul>
              </div>
            </div>
          </div>
        </div>
        
      </div>
      
      
      

      

      
    </section>

    
    <section class="req-section" id="req-requirements">
      <h3>要件定義</h3>
      
      <h4>機能要件</h4>
      <table class="table">
        <thead><tr><th>ID</th><th>名称</th><th>説明</th><th>優先度</th></tr></thead>
        <tbody>
        
          <tr><td>NC-001</td><td>予約/チェックイン</td><td>日時/人数/推し猫の選択、QRチェックイン、混雑状況の可視化</td><td>必須</td></tr>
        
          <tr><td>NC-002</td><td>在籍猫プロフィール</td><td>名前/性格/相性/健康情報、フォロー/里親募集（任意）</td><td>必須</td></tr>
        
          <tr><td>NC-003</td><td>メニュー/決済</td><td>店内メニュー、POS連携、キャッシュレス決済</td><td>必須</td></tr>
        
          <tr><td>NC-004</td><td>グッズEC</td><td>推し猫グッズのEC、在庫/配送管理、クーポン</td><td>推奨</td></tr>
        
          <tr><td>NC-005</td><td>SNS連携</td><td>X/IG連携、投稿テンプレ、来店写真の共有（同意管理）</td><td>推奨</td></tr>
        
          <tr><td>NC-006</td><td>店舗運用</td><td>シフト/勤怠、日報、在庫、衛生/安全チェックリスト</td><td>必須</td></tr>
        
          <tr><td>NC-007</td><td>レポート/KPI</td><td>来店数/客単価/再来店率/EC売上/予約充足率の可視化</td><td>必須</td></tr>
        
        </tbody>
      </table>
      

      
      <h4 style="margin-top:14px;">非機能要件</h4>
      <div class="grid-2">
        
        <div class="card">
          <h4 style="margin:0 0 6px;">可用性</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>店舗営業時間内の可用性 99.9%</li><li>障害時のオフライン運用手順</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">セキュリティ</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>個人情報/同意の管理、写真公開ポリシー</li><li>権限管理（客/スタッフ/店長）</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">パフォーマンス</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>予約画面は1秒以内、チェックインは3秒以内</li><li>画像は遅延読み込み/最適化</li></ul>
        </div>
        
      </div>
      

      
        
          
          
          <div style="margin-top:14px;">
            <table class="table">
              <thead><tr><th>要件ID</th><th>カテゴリ</th><th>説明</th><th>優先度</th></tr></thead>
              <tbody>
              
                <tr><td>NC-001</td><td>機能</td><td>来店予約/チェックイン</td><td>必須</td></tr>
              
                <tr><td>NC-002</td><td>機能</td><td>在籍猫プロフィール/カルテ</td><td>必須</td></tr>
              
                <tr><td>NC-003</td><td>機能</td><td>メニュー/決済</td><td>必須</td></tr>
              
                <tr><td>NC-004</td><td>機能</td><td>グッズEC</td><td>推奨</td></tr>
              
                <tr><td>NC-005</td><td>機能</td><td>SNS連携/同意管理</td><td>推奨</td></tr>
              
                <tr><td>NC-006</td><td>運用</td><td>シフト/日報/在庫/衛生</td><td>必須</td></tr>
              
                <tr><td>NC-007</td><td>分析</td><td>KPI/レポート</td><td>必須</td></tr>
              
              </tbody>
            </table>
          </div>
          
          
        
      
    </section>

    
    <section class="req-section" id="req-architecture">
      <h3>アーキテクチャ</h3>
      
      
      <div class="grid-2">
        <div class="card">
          <h4>フロントエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Hugo/VanillaJS  — 予約/紹介サイト/ダッシュボード</li><li>TypeScript  — 型管理/運用スクリプト</li>
          </ul>
        </div>
        <div class="card">
          <h4>バックエンド</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>Node.js  — API/在庫・予約管理（将来）</li>
          </ul>
        </div>
        <div class="card">
          <h4>AI/ML</h4>
          <ul class="muted" style="margin:8px 0 0; padding-left:18px;">
            <li>—  — —</li>
          </ul>
        </div>
      </div>
      

      

      
      <div style="margin-top: 12px;"><div class="mermaid-wrapper">
  <div class="mermaid">
    flowchart LR
  U[来店客] --&gt; R[予約]
  R --&gt; C[チェックイン]
  C --&gt; M[メニュー/決済]
  C --&gt; P[在籍猫プロフィール]
  M --&gt; E[グッズEC]
  P --&gt; S[SNS共有]
  C --&gt; D[日報/在庫/衛生チェック]
  D --&gt; K[KPIダッシュボード]

  </div>
</div>
</div>
      
      
    </section>

    
    <section class="req-section" id="req-implementation">
      <h3>実装</h3>
      
      
      
      <div style="margin-top: 12px;"><div class="gantt-wrapper">
  <div class="mermaid" style="width: 1600px !important; min-width: 1600px !important; height: 500px !important;">
gantt
  title ネコカフェ 開発計画
  dateFormat  YYYY-MM-DD
  section 準備
  要件定義 :done, req, 2025-09-01, 7d
  設計       :active, des, 2025-09-08, 7d
  section 実装
  予約/チェックイン   :dev1, 2025-09-15, 10d
  プロフィール       :dev2, 2025-09-25, 7d
  決済/メニュー      :dev3, 2025-10-02, 7d
  ダッシュボード    :dev4, 2025-10-09, 10d

  </div>
  <div class="mermaid-caption">図: ネコカフェ 要件定義書</div>
</div>
</div>
      
      
      
    </section>

    
    <section class="req-section" id="req-operations">
      <h3>運用</h3>
      
      
    </section>
  </div>
</div>

<script>
  (function(){
    const nav = document.getElementById('reqToc');
    if (!nav) return;
    const links = Array.from(nav.querySelectorAll('a[data-target]'));
    function setActive(id){
      links.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
    }
    
    links.forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const id = a.getAttribute('data-target');
        const el = document.getElementById(id);
        if (el) { el.scrollIntoView({ behavior: 'smooth', block: 'start' }); setActive(id); }
      });
    });
    
    const obs = new IntersectionObserver(entries => {
      const visible = entries.filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top);
      if (visible[0]) setActive(visible[0].target.id);
    }, { rootMargin: '-25% 0px -65% 0px', threshold: [0, 0.1, 0.5, 1] });
    ['req-overview','req-users','req-requirements','req-architecture','req-implementation','req-operations'].forEach(id => {
      const el = document.getElementById(id); if (el) obs.observe(el);
    });
  })();
</script>

      </div>
    
  </section>
  
  <section class="doc-section" id="requirements-sns-marketing" data-cat="7" data-cat-name="SNS・マーケティング">
    <h2>SNSマーケティング ダッシュボード要件定義書</h2>
    
      
      
      
      <div id="requirementsDocCard-requirements-sns-marketing" class="dashboard-links" style="margin-top: 8px;">
        <a href="#requirements-sns-marketing" class="saas-app-card" onclick="(function(){
          var card = document.getElementById('requirementsDocCard-requirements-sns-marketing');
          var body = document.getElementById('requirementsDocBody-requirements-sns-marketing');
          if(card && body){ card.style.display='none'; body.style.display='block'; window.scrollTo(0,0); }
        })(); return false;">
          
            <img src="/images/sns_marketing_card.png" alt="SNSマーケティング ダッシュボード要件定義書" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 12px;">
          
          <div class="saas-app-title">
            SNSマーケティング ダッシュボード要件定義書
            <span class="saas-app-arrow">→</span>
          </div>
          
          <div class="saas-app-description">各SNSチャネルの運用・計測・レポートを1画面で把握するためのダッシュボードの要件を定義します。
既存ページの運用メモを土台に、KPIとワークフローに直結するUI/データ設計へ落とし込みます。</div>
          
          <div class="saas-app-features">
            • 概要・ユーザー分析<br>
            • 機能要件・非機能要件<br>
            • アーキテクチャ・実装・運用
          </div>
        </a>

        
      </div>

      <div id="requirementsDocBody-requirements-sns-marketing" style="display:none;">
        <style>
   
  .req-doc {
    display: grid;
    grid-template-columns: 260px 1fr;
    gap: 24px;
    align-items: start;
  }
  .req-toc {
    position: sticky;
    top: 80px;
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 12px;
  }
  .req-toc-title {
    font-size: 0.95rem;
    font-weight: 700;
    margin: 6px 8px 10px;
    color: var(--text);
  }
  .req-toc a {
    display: block;
    padding: 8px 10px;
    border-radius: 8px;
    color: var(--text-weak);
    text-decoration: none;
    transition: background 0.2s ease, color 0.2s ease;
    font-size: 0.92rem;
  }
  .req-toc a:hover { background: var(--card); color: var(--text); }
  .req-toc a.active { background: var(--card-strong); color: var(--text); font-weight: 600; }

  .req-content { min-width: 0; }
  .req-section { scroll-margin-top: 72px; margin-bottom: 28px; }
  .req-section h3 { font-size: 1.15rem; margin: 8px 0 14px; }
  .meta-inline {
    display: inline-flex; gap: 12px; flex-wrap: wrap; font-size: 0.85rem; color: var(--text-weak);
    background: var(--sidebar-bg); border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; margin: 8px 0 12px;
  }
  .cards-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .card h4 { margin: 0 0 8px; font-size: 1rem; }
  .muted { color: var(--text-weak); }
   
  .req-doc .card, .req-doc .card * { color: var(--text) !important; }
  .req-doc .card a { color: var(--link) !important; }
  .req-doc a.card { text-decoration: none; display: block; cursor: pointer; transition: transform 0.15s ease, box-shadow 0.15s ease; }
  .req-doc a.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
  .table { width: 100%; border-collapse: collapse; }
  .table th, .table td { border: 1px solid var(--border); padding: 8px 10px; text-align: left; }
  .table th { background: var(--sidebar-bg); color: var(--text); }
  .table td { color: var(--text); }
  .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }

  .persona { display: grid; grid-template-columns: 48px 1fr; gap: 10px; align-items: start; }
  .persona .emoji { font-size: 28px; line-height: 1; }
  .persona h5 { margin: 0; font-size: 1rem; }
  .persona small { color: var(--text-weak); }
  .persona ul { margin: 6px 0 0; padding-left: 18px; }
</style>

<div class="req-doc" id="reqDoc">
  <nav class="req-toc" id="reqToc">
    <div class="req-toc-title">目次（要件定義書）</div>
      <a href="#req-overview" data-target="req-overview">概要</a>
      <a href="#req-requirements" data-target="req-requirements">要件定義</a>
      <a href="#req-architecture" data-target="req-architecture">アーキテクチャ</a>
      <a href="#req-implementation" data-target="req-implementation">実装</a>
      <a href="#req-operations" data-target="req-operations">運用</a>
  </nav>

  <div class="req-content">
    
    <section class="req-section" id="req-overview">
      <h3>概要</h3>
      
      <div class="meta-inline">
        <span>版: 1.0</span>
        <span>日付: 2025-09</span>
        <span>状態: 草案</span>
      </div>
      
      
      <div class="section-image">
        <img src="/images/sns_marketing_card.png" alt="SNSマーケティング ダッシュボード要件定義書">
      </div>
      
      
      <div class="cards-3">
        
          <div class="card">
            <h4>🎯 目的</h4>
            <div><ul>
<li>主要KPI（到達・保存/共有・LP流入・CV）を単一ダッシュボードで可視化</li>
<li>投稿計画と実績を同一画面で管理（カレンダー/ボード）</li>
<li>マルチチャネル（X/IG/YT/TikTok/LinkedIn）に対応</li>
</ul>
</div>
          </div>
        
          <div class="card">
            <h4>👥 対象ユーザー</h4>
            <div><ul>
<li>マーケ責任者（週次レビュー）</li>
<li>オペレーター（投稿運用/下書き管理）</li>
<li>分析担当（KPIトレンド/仮説検証）</li>
</ul>
</div>
          </div>
        
      </div>
      

      
      
      
        
          
        
      
    </section>

    
    <section class="req-section" id="req-users">
      <h3>ユーザー分析</h3>
      
      
      

      

      
    </section>

    
    <section class="req-section" id="req-requirements">
      <h3>要件定義</h3>
      
      <h4>機能要件</h4>
      <table class="table">
        <thead><tr><th>ID</th><th>名称</th><th>説明</th><th>優先度</th></tr></thead>
        <tbody>
        
          <tr><td>SNS-001</td><td>チャネル連携</td><td>X/IG/YT/TikTok/LinkedIn のメトリクス取り込み（API/CSV/手動）</td><td>必須</td></tr>
        
          <tr><td>SNS-002</td><td>KPIダッシュボード</td><td>到達・エンゲージ・リンククリック・LP流入・CV の指標を可視化（期間比較）</td><td>必須</td></tr>
        
          <tr><td>SNS-003</td><td>投稿カレンダー</td><td>予定/下書き/公開/リサイクルの状態管理とテンプレート化</td><td>必須</td></tr>
        
          <tr><td>SNS-004</td><td>コンテンツ資産管理</td><td>画像/動画のバージョンとUTMを紐付け、二次利用を支援</td><td>推奨</td></tr>
        
          <tr><td>SNS-005</td><td>レポート出力</td><td>週次/月次のPDF/スライド出力、注記/考察を含む</td><td>推奨</td></tr>
        
        </tbody>
      </table>
      

      
      <h4 style="margin-top:14px;">非機能要件</h4>
      <div class="grid-2">
        
        <div class="card">
          <h4 style="margin:0 0 6px;">データ鮮度</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>API 取得は日次、CSV/手動は即時反映</li><li>欠損時は前回値/注記で補完</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">セキュリティ</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>アクセストークンは安全に保管（.env/Secret Manager）</li><li>権限は閲覧/編集/管理の3階層</li></ul>
        </div>
        
        <div class="card">
          <h4 style="margin:0 0 6px;">可用性</h4>
          <ul class="muted" style="margin: 8px 0 0; padding-left: 18px;"><li>主要画面は3秒以内に描画</li><li>APIレート制限を考慮したバックオフ</li></ul>
        </div>
        
      </div>
      

      
        
          
          
          <div style="margin-top:14px;">
            <table class="table">
              <thead><tr><th>ビュー</th><th>指標</th><th>活用例</th></tr></thead>
              <tbody>
              
                <tr><td>サマリー</td><td>到達/保存/シェア/LP流入/CV</td><td>経営レビュー用</td></tr>
              
                <tr><td>チャネル別</td><td>インプレッション/ER/クリック</td><td>施策別の伸びを確認</td></tr>
              
                <tr><td>コンテンツ別</td><td>保存/シェア/視聴完了</td><td>良質コンテンツを特定</td></tr>
              
                <tr><td>カレンダー</td><td>予定/公開/担当/タグ</td><td>運用管理/抜け漏れ防止</td></tr>
              
              </tbody>
            </table>
          </div>
          
          
        
      
    </section>

    
    <section class="req-section" id="req-architecture">
      <h3>アーキテクチャ</h3>
      
      

      

      
      <div style="margin-top: 12px;"><div class="mermaid-wrapper">
  <div class="mermaid">
    flowchart LR
  A[Ingestion\nAPI/CSV/手動] --&gt; B[データストア]
  B --&gt; C[KPI集計]
  C --&gt; D[Dashboard UI]
  D --&gt; E[レポート出力]
  D --&gt; F[投稿カレンダー]

  </div>
</div>
</div>
      
      
    </section>

    
    <section class="req-section" id="req-implementation">
      <h3>実装</h3>
      
      
      
      
      
    </section>

    
    <section class="req-section" id="req-operations">
      <h3>運用</h3>
      
      <div class="card"><ul>
<li>当面はCSV/手動入力から開始し、各チャネルAPI連携は段階導入。</li>
<li>既存の「SNS・マーケティング」ページの運用方針をダッシュボードUIの要件へ反映する。</li>
</ul>
</div>
      
      
    </section>
  </div>
</div>

<script>
  (function(){
    const nav = document.getElementById('reqToc');
    if (!nav) return;
    const links = Array.from(nav.querySelectorAll('a[data-target]'));
    function setActive(id){
      links.forEach(a => a.classList.toggle('active', a.getAttribute('data-target') === id));
    }
    
    links.forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const id = a.getAttribute('data-target');
        const el = document.getElementById(id);
        if (el) { el.scrollIntoView({ behavior: 'smooth', block: 'start' }); setActive(id); }
      });
    });
    
    const obs = new IntersectionObserver(entries => {
      const visible = entries.filter(e => e.isIntersecting)
        .sort((a,b) => a.boundingClientRect.top - b.boundingClientRect.top);
      if (visible[0]) setActive(visible[0].target.id);
    }, { rootMargin: '-25% 0px -65% 0px', threshold: [0, 0.1, 0.5, 1] });
    ['req-overview','req-users','req-requirements','req-architecture','req-implementation','req-operations'].forEach(id => {
      const el = document.getElementById(id); if (el) obs.observe(el);
    });
  })();
</script>

      </div>
    
  </section>
  
  <section class="doc-section" id="slide-generator" data-cat="4" data-cat-name="ビジネスツール">
    <h2>スライドエディタ</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <style>
  .slide-generator {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }
  .slide-header {
    border-bottom: 2px solid var(--border);
    padding-bottom: 16px;
    margin-bottom: 24px;
  }
  .slide-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  .slide-meta {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-weak);
  }
  .slide-viewer {
    background: #1a1a1a;
    border-radius: 12px;
    padding: 40px;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .slide-display {
    position: relative;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
    border-radius: 16px;
    width: 1200px;
    height: 675px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    overflow: hidden;
  }
  .slide-page {
    display: none;
    animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100%;
    height: 100%;
    padding: 60px;
    position: relative;
    color: #ffffff;
  }
  .slide-page.active {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }
  .slide-page h1 {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 50px;
    background: linear-gradient(90deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1.2;
    text-align: left;
    padding-bottom: 20px;
    border-bottom: 2px solid #334155;
  }
  .slide-page h2 {
    font-size: 1.4rem;
    color: #94a3b8;
    margin-bottom: 20px;
  }
  .slide-page h3 {
    font-size: 1.2rem;
    color: #60a5fa;
    margin-bottom: 15px;
  }
  @keyframes slideIn {
    from { 
      opacity: 0;
      transform: translateX(30px);
    }
    to { 
      opacity: 1;
      transform: translateX(0);
    }
  }
  .slide-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    align-items: start;
    margin-top: 20px;
    height: calc(100% - 120px);
    overflow: hidden;
  }
  .slide-content {
    color: #e2e8f0;
    font-size: 1rem;
    line-height: 1.6;
  }
  .slide-image {
    width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }
  .metric-card {
    background: linear-gradient(135deg, #1e293b, #334155);
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 15px;
  }
  .metric-value {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(90deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .feature-card {
    background: rgba(30, 41, 59, 0.5);
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 18px;
    backdrop-filter: blur(10px);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.2);
  }
  .slide-image-small {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  }
</style>

<div class="slide-generator">
  <div class="slide-header">
    <h2 class="slide-title">📊 スライドエディタ</h2>
    <div class="slide-meta">
      <span>バージョン: 1.0</span>
      <span>対応形式: PowerPoint, Google Slides</span>
    </div>
  </div>
  
  <div class="slide-controls">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <div style="color: var(--text-weak);">スライド: <span id="currentSlide">1</span> / <span id="totalSlides">6</span></div>
      <div style="display: flex; gap: 10px;">
        <button onclick="previousSlide()" style="padding: 8px 16px; background: var(--border); border: none; border-radius: 6px; color: var(--text); cursor: pointer;">← 前へ</button>
        <button onclick="nextSlide()" style="padding: 8px 16px; background: var(--link); border: none; border-radius: 6px; color: white; cursor: pointer;">次へ →</button>
        <button onclick="toggleFullscreen()" style="padding: 8px 16px; background: var(--border); border: none; border-radius: 6px; color: var(--text); cursor: pointer;">🔍 フルスクリーン</button>
      </div>
    </div>
  </div>
  
  <div class="slide-viewer" id="slideViewer">
    <div class="slide-display" id="slideDisplay">
      <!-- スライド1 -->
      <div class="slide-page active" id="slide-1">
        <div style="text-align: center;">
          <h1>HandwriteRef</h1>
          <h2>手書きスケッチからAI生成への革新的SaaSプラットフォーム</h2>
          <div style="margin: 60px auto; max-width: 500px;">
            <img src="/images/hand-sketch.png" alt="Hand sketch" class="slide-image">
          </div>
          <div style="margin-top: 60px;">
            <p style="font-size: 1.3rem; color: #94a3b8; margin-bottom: 10px;">シードラウンド 事業計画書</p>
            <p style="font-size: 1.1rem; color: #64748b;">2025年9月 | Kamui Development Team</p>
          </div>
        </div>
      </div>
      
      <!-- スライド2 -->
      <div class="slide-page" id="slide-2">
        <h1>市場機会</h1>
        <div class="slide-grid">
          <div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">グローバルAIコンテンツ市場</p>
              <div class="metric-value">$15.7B</div>
              <p style="color: #64748b; margin-top: 10px;">2025年 予測</p>
            </div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">年平均成長率 (CAGR)</p>
              <div class="metric-value">38.1%</div>
              <p style="color: #64748b; margin-top: 10px;">2025-2030</p>
            </div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">ターゲットユーザー数</p>
              <div class="metric-value">500M+</div>
              <p style="color: #64748b; margin-top: 10px;">クリエイター・教育関係者</p>
            </div>
          </div>
          <div>
            <img src="/images/whiteboard_saas_ui_1_full.png" class="slide-image" alt="Market Overview">
          </div>
        </div>
      </div>
      
      <!-- スライド3 -->
      <div class="slide-page" id="slide-3">
        <h1>ソリューション</h1>
        <div class="slide-grid">
          <div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">AI Portrait Generator</h3>
              <p class="slide-content" style="font-size: 0.95rem;">手書きスケッチを瞬時に高品質なデジタルアートに変換</p>
            </div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">ビデオコンテンツ生成</h3>
              <p class="slide-content" style="font-size: 0.95rem;">スケッチからアニメーション・動画を自動作成</p>
            </div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">教育コンテンツプラットフォーム</h3>
              <p class="slide-content" style="font-size: 0.95rem;">ホワイトボード・プレゼン資料の自動生成</p>
            </div>
            <div class="feature-card">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">コラボレーション機能</h3>
              <p class="slide-content" style="font-size: 0.95rem;">リアルタイム共同編集とフィードバック</p>
            </div>
          </div>
          <div style="display: flex; flex-direction: column; gap: 15px;">
            <img src="/images/portrait-reference-1.png" class="slide-image-small" alt="AI Generation Example" style="height: 200px;">
            <img src="/images/collaborative_whiteboard_saas_ui_3_full.png" class="slide-image-small" alt="Collaboration Platform" style="height: 200px;">
          </div>
        </div>
      </div>
      
      <!-- スライド4 -->
      <div class="slide-page" id="slide-4">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">🚀 主要機能とUI</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">🎨 AI Portrait Generator</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">手書きスケッチから高品質な画像を生成</p>
            <img src="/images/creative-tools-ui-1.png" alt="Creative Tools UI" style="width: 100%; border-radius: 6px;">
          </div>
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">📚 教育コンテンツ作成</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">動画・プレゼン資料の自動生成</p>
            <img src="/images/educational_blackboard_saas_ui_4_full.png" alt="Educational UI" style="width: 100%; border-radius: 6px;">
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">🎬 ビデオエディタ</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">リアルタイムプレビュー機能</p>
            <img src="/images/interactive_presentation_maker_ui_3_full.png" alt="Video Editor UI" style="width: 100%; border-radius: 6px;">
          </div>
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">👥 コラボレーション</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">チーム共同編集機能</p>
            <img src="/images/advanced_educational_platform_ui_5_full.png" alt="Collaboration UI" style="width: 100%; border-radius: 6px;">
          </div>
        </div>
      </div>
      
      <!-- スライド5 -->
      <div class="slide-page" id="slide-5">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">💰 収益モデル & ロードマップ</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">💳 収益構造</h3>
            <ul style="font-size: 1.2rem; line-height: 2; color: var(--text); margin-bottom: 30px;">
              <li>🆓 フリーミアム（基本機能無料）</li>
              <li>💎 プレミアム（$19/月）</li>
              <li>🏢 エンタープライズ（$99/月）</li>
              <li>🤝 API利用料（従量課金）</li>
            </ul>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">📈 成長予測</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text);">
              <li>Year 1: $50K ARR</li>
              <li>Year 2: $500K ARR</li>
              <li>Year 3: $2M ARR</li>
              <li>Break-even: Month 8</li>
            </ul>
          </div>
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">🗓️ 開発計画</h3>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <h4 style="color: #e74c3c; margin-bottom: 10px;">Q4 2025 - MVP</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">基本AI生成機能</p>
            </div>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <h4 style="color: #f39c12; margin-bottom: 10px;">Q1 2026 - Beta</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">動画編集・コラボ機能</p>
            </div>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
              <h4 style="color: #27ae60; margin-bottom: 10px;">Q2 2026 - Launch</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">本格サービス開始</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- スライド6 -->
      <div class="slide-page" id="slide-6">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">🎉 まとめ & Next Steps</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">✨ 競合優位性</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text); margin-bottom: 30px;">
              <li>🎨 手書きスケッチ特化AI</li>
              <li>⚡ 高速レンダリング技術</li>
              <li>🤝 直感的なUI/UX</li>
              <li>🔧 API-First設計</li>
              <li>📚 教育分野への特化</li>
            </ul>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">🚀 今後のアクション</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text);">
              <li>💰 投資ラウンド準備</li>
              <li>👥 チーム拡充</li>
              <li>🧪 ユーザーテスト実施</li>
              <li>🤝 戦略的パートナーシップ</li>
            </ul>
          </div>
          <div style="text-align: center;">
            <img src="/images/journey-discover.png" alt="User Journey" style="width: 100%; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <p style="font-size: 0.9rem; color: var(--text-weak); margin-bottom: 30px;">ユーザージャーニー概要</p>
            <div style="background: linear-gradient(135deg, var(--link), #9b59b6); padding: 30px; border-radius: 12px; color: white; text-align: center;">
              <h3 style="margin-bottom: 15px; font-size: 1.5rem;">🎯 投資目標</h3>
              <p style="font-size: 2rem; font-weight: bold; margin-bottom: 10px;">$500K</p>
              <p style="font-size: 1rem; opacity: 0.9;">シードラウンド</p>
              <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 15px;">18ヶ月の開発資金</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let currentSlideIndex = 1;
  const totalSlides = 6;
  
  function showSlide(index) {
    // すべてのスライドを非表示
    document.querySelectorAll('.slide-page').forEach(slide => {
      slide.classList.remove('active');
    });
    
    // 指定されたスライドを表示
    const targetSlide = document.getElementById('slide-' + index);
    if (targetSlide) {
      targetSlide.classList.add('active');
      document.getElementById('currentSlide').textContent = index;
    }
  }
  
  function nextSlide() {
    if (currentSlideIndex < totalSlides) {
      currentSlideIndex++;
      showSlide(currentSlideIndex);
    }
  }
  
  function previousSlide() {
    if (currentSlideIndex > 1) {
      currentSlideIndex--;
      showSlide(currentSlideIndex);
    }
  }
  
  function toggleFullscreen() {
    const viewer = document.getElementById('slideViewer');
    if (document.fullscreenElement) {
      document.exitFullscreen();
    } else {
      viewer.requestFullscreen();
    }
  }
  
  // キーボードナビゲーション
  document.addEventListener('keydown', function(event) {
    if (event.target.closest('.slide-generator')) {
      if (event.key === 'ArrowRight' || event.key === ' ') {
        event.preventDefault();
        nextSlide();
      } else if (event.key === 'ArrowLeft') {
        event.preventDefault();
        previousSlide();
      } else if (event.key === 'f' || event.key === 'F11') {
        event.preventDefault();
        toggleFullscreen();
      }
    }
  });
</script>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="sns-marketing" data-cat="7" data-cat-name="SNS・マーケティング">
    <h2>SNS・マーケティング</h2>
    
      
      
      
        <div class="markdown-body" data-path="static/data/pages/sns-marketing.md">
          <h1 id="snsマーケティング-概要">SNS・マーケティング 概要</h1>
<p>本ページは各SNSチャネルの運用方針、コンテンツ設計、KPI管理をまとめるための叩き台です。必要に応じて数値やテンプレートを追記してください。</p>
<h2 id="目的ゴール">目的・ゴール</h2>
<ul>
<li>認知拡大（ブランド検索の増加）</li>
<li>需要獲得（LP流入・CVの創出）</li>
<li>コミュニティ醸成（継続的な関係構築）</li>
</ul>
<h2 id="主要チャネルと役割">主要チャネルと役割</h2>
<table>
  <thead>
      <tr>
          <th>チャネル</th>
          <th>主目的</th>
          <th>コンテンツ例</th>
          <th>計測KPI</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>X(Twitter)</td>
          <td>認知/話題化</td>
          <td>スレッド、機能Tips、速報</td>
          <td>インプレッション、エンゲージ率、プロフィール遷移</td>
      </tr>
      <tr>
          <td>Instagram</td>
          <td>事例/世界観</td>
          <td>リール、カルーセル、ビジュアル事例</td>
          <td>リーチ、保存、プロフィール遷移</td>
      </tr>
      <tr>
          <td>YouTube</td>
          <td>教育/検討促進</td>
          <td>HowTo、ウェビナー、機能デモ</td>
          <td>再生時間、登録者、LP流入</td>
      </tr>
      <tr>
          <td>TikTok</td>
          <td>認知/フック</td>
          <td>ショート解説、ビフォー/アフター</td>
          <td>ループ率、シェア、フォロー</td>
      </tr>
      <tr>
          <td>LinkedIn</td>
          <td>B2B/採用</td>
          <td>実装ノウハウ、導入効果</td>
          <td>CTR、問い合わせ、採用応募</td>
      </tr>
  </tbody>
</table>
<h2 id="運用設計サンプル">運用設計（サンプル）</h2>
<ul>
<li>週次: X 3本 / IG 2本 / YT 1本（Shorts含む）</li>
<li>テーマ: プロダクトTips、顧客事例、開発の裏側、ロードマップ。</li>
<li>フロー: アイデア収集 → スクリプト/画像 → 校正 → 投稿 → 回収/二次利用。</li>
</ul>
<h2 id="kpiダッシュボード最小">KPIダッシュボード（最小）</h2>
<ul>
<li>投稿本数、到達人数、保存/シェア、LP流入、無料登録、CPA。</li>
</ul>
<h2 id="テンプレート例">テンプレート（例）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[テーマ]: ○○の時短術（機能紹介）
</span></span><span style="display:flex;"><span>[チャネル]: X / IG / YT
</span></span><span style="display:flex;"><span>[目的KPI]: 保存率 &gt;8%、LP流入 50/週
</span></span><span style="display:flex;"><span>[構成]:
</span></span><span style="display:flex;"><span>  1. ファーストビュー（痛みを代弁）
</span></span><span style="display:flex;"><span>  2. before→after（GIF/リール）
</span></span><span style="display:flex;"><span>  3. 3ステップの使い方
</span></span><span style="display:flex;"><span>  4. CTA（無料登録/資料請求）
</span></span><span style="display:flex;"><span>[素材]: /images/...
</span></span></code></pre></div><h2 id="直近タスク">直近タスク</h2>
<ul>
<li><input disabled="" type="checkbox"> CTA付きカルーセルの雛形を作る</li>
<li><input disabled="" type="checkbox"> 事例を月2本で量産（IG/Blog連携）</li>
<li><input disabled="" type="checkbox"> GAとSNSを連携しLP流入を計測</li>
</ul>
<blockquote>
<p>ここに各チャネルの運用ルールや投稿カレンダーを追記してください。</p></blockquote>

        </div>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← ダッシュボードに戻る
  </button>
</div>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="saas-storyboard-viewer" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ストーリーボードビューアー</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>絵コンテ 見開きフロー</title>
  <style>
    :root {
      --page-bg: #fdfcf8;
      --paper-line: rgba(60, 100, 160, 0.08);
      --ring: #c3c3c3;
      --shadow: rgba(0,0,0,0.15);
      --seam: rgba(0,0,0,0.18);
      --scale: 0.67; /* 見開き時の縮小率（67%） */
      --header-h: 44px; /* 固定ヘッダー高さ */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      margin: 0;
      background: #2c2c2c;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", Arial, sans-serif;
      color: #222;
      padding: 0; /* 固定ヘッダー採用のため本文の上余白は不要 */
      overflow-x: hidden;
    }

    .header {
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 4px 12px;
      width: 100%;
      max-width: none;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      position: relative;
      z-index: 1000;
    }

    /* 全体をヘッダー行 + コンテンツ行の2段グリッドで構成 */
    .app {
      position: relative;
      top: 0; left: 0; right: 0; bottom: 0;
      display: grid;
      grid-template-rows: auto 1fr;
      height: 100vh; width: 100%;
    }
    .views { position: relative; height: 100%; width: 100%; overflow-y: auto; overflow-x: auto; }
    .title { font-size: 18px; font-weight: 700; color: #333; }
    .meta { color: #666; font-size: 12px; }
    .meta span + span { margin-left: 10px; }
    .links a { color: #0a6cff; text-decoration: none; font-size: 12px; }

    /* 見開き本体 */
    .spread {
      position: relative;
      width: 100%;
      max-width: none;
      margin: 0;
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    /* 見開きスケール用のラッパーと中身 */
    .view-spread { position: absolute; inset: 0; width: 100%; overflow: hidden auto; }
    /* 0.67倍に縮小 → 149.254vw を縮小するとちょうど100vw相当になる */
    .spread-inner { transform: scale(var(--scale)); transform-origin: top left; width: 149.254%; max-width: none; margin: 0; }

    /* 中央の綴じ目 */
    .spread::after {
      content: "";
      position: absolute;
      top: 20px; bottom: 20px; left: 50%; width: 2px;
      transform: translateX(-50%);
      background: linear-gradient(to bottom, transparent 0, var(--seam) 8%, var(--seam) 92%, transparent 100%);
    }

    /* ノート風のページ */
    .page {
      position: relative;
      background: var(--page-bg);
      border-radius: 0;
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04);
    }
    /* 罫線（横線） */
    .page::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        transparent 0 26px,
        var(--paper-line) 26px 27px
      );
      pointer-events: none;
    }
    /* 綴じリングの穴（内側余白側に表示） */
    .page::after {
      content: "";
      position: absolute;
      top: 22px; bottom: 22px;
      width: 14px;
      background:
        radial-gradient(circle 4px at 50% 16px, rgba(0,0,0,0.08) 0 70%, transparent 72%) repeat-y,
        radial-gradient(circle 3.5px at 50% 16px, var(--ring) 0 60%, transparent 62%) repeat-y;
      background-size: 14px 44px, 14px 44px;
      background-position: center top, center top;
      opacity: 0.9;
      pointer-events: none;
    }
    .page.left::after { left: 8px; }
    .page.right::after { right: 8px; }

    .page-inner { position: relative; padding: 0 8px 8px; }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      position: sticky; top: 0; z-index: 3;
      background: linear-gradient(var(--page-bg), var(--page-bg));
      padding: 4px 6px; /* 上の詰め */
      border-radius: 6px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    }
    .badge { background:#ffd84d; padding: 4px 10px; border-radius: 20px; font-weight: 700; font-size: 12px; }
    .scene { color:#555; font-weight:700; font-size: 12px; }

    /* 画像＋テキストの縦フロー（上下連結） */
    .stack { display: flex; flex-direction: column; gap: 0; }
    .row {
      display: grid;
      grid-template-columns: 56px 3fr 1.6fr 1.6fr 64px; /* CUT | PICTURE | text | script | TIME */
      align-items: stretch;
      background: var(--page-bg);
    }
    .row + .row { border-top: 1px solid rgba(0,0,0,0.06); }
    .cell { position: relative; background: transparent; }
    .cell + .cell { border-left: 2px solid rgba(0,0,0,0.12); }

    /* 列ヘッダー */
    .row.header { position: static; z-index: 1; background: linear-gradient(var(--page-bg), var(--page-bg)); }
    .row.header .cell { 
      font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .04em;
      color: #333; display: flex; align-items: center; justify-content: center;
      background: #eceff7; border-left-color: rgba(0,0,0,0.14);
      padding: 6px 4px;
    }

    /* 画像セル */
    .frame { position: relative; overflow: hidden; }
    /* どのアスペクト比でも全体が見えるように contain + 自然高さ */
    .img { width: 100%; height: auto; object-fit: contain; display: block; background: #fff; }
    /* オーバーレイ（CUT・TIME） */
    .overlay {
      position: absolute; left: 8px; top: 8px;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.2);
      border-radius: 4px; padding: 2px 8px;
      font-size: 12px; font-weight: 700; color: #111;
    }
    .time { position: absolute; right: 8px; bottom: 8px; background: rgba(0,0,0,0.65); color: #fff; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 4px; }

    /* 画像上のCUT/秒数は非表示（列側に表示するため） */
    .frame .overlay, .frame .time { display: none !important; }

    /* テキスト/スクリプト/時間セル */
    .text, .script { padding: 10px; font-size: 12px; line-height: 1.5; color: #222; white-space: pre-wrap; }
    .timecell { display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 12px; background: #fff; }

    /* 常に左右2カラム表示（小さい画面でも崩さない） */
    @media (max-width: 700px) {
      /* 700px 未満では綴じ目の演出だけ抑える */
      .spread::after { display: none; }
    }

    /* トグルボタン */
    .view-toggle { display: inline-flex; background: #f1f5f9; border-radius: 8px; padding: 4px; gap: 4px; }
    .toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 6px 10px; border-radius: 6px; font-weight: 700; font-size: 12px; cursor: pointer; }
    .toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 動画タグ */
    .vid { width: 100%; height: auto; object-fit: contain; display: none; background: #000; }

    /* メディアトグル */
    .media-toggle { display: inline-flex; gap: 4px; margin-left: 6px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .media-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .media-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }

    /* 画像モードトグル */
    .image-toggle { display: inline-flex; gap: 4px; margin-left: 8px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .img-toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .img-toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 縦ビューも固定配置でヘッダー直下から開始し、左右いっぱい */
    .view-vertical {
      position: static; /* フローに参加して .views を押し広げる */
      width: 100%; max-width: none; margin: 0;
      background: transparent;
      display: block;
    }
  </style>
  <!-- 画像は docs/pencil_drawings/scene1.png ... scene10.png を使用 -->
  <!-- 実写は docs/storyboard_images/scene1_realistic.jpg ... を参照 -->
</head>
<body data-mode="spread" data-image-mode="sketch" data-media-mode="image">
  <div class="app">
  <div class="header">
    <div>
      <div class="title">🎞️ 絵コンテ 見開きフロー（連結）</div>
      <div class="meta">
        <span>プロジェクト: サンプル</span>
        <span>日付: 2025-08-23</span>
        <span>カット: 10</span>
      </div>
    </div>
    <div class="view-toggle" role="group" aria-label="表示切り替え">
      <button class="toggle-btn" data-mode="vertical">上から下</button>
      <button class="toggle-btn active" data-mode="spread">見開き</button>
    </div>
  </div>

  <div class="views">
  <!-- 見開きビュー -->
  <div class="view-spread">
    <div class="spread spread-inner">
    <!-- 左ページ -->
    <section class="page left">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Left 1/1</div>
          <div class="scene">シーン: 左列（1-5）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕草。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 右ページ -->
    <section class="page right">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Right 1/1</div>
          <div class="scene">シーン: 右列（6-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>
        </div>
      </div>
    </section>
    </div>
  </div>

  <!-- 上から下ビュー（単ページ縦並び） -->
  <div class="view-vertical" style="display:none;">
    <section class="page left" style="margin: 0 0 24px 0;">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Vertical</div>
          <div class="scene">シーン: 連結ビュー（1-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <!-- CUT 001 → 010 を縦に通しで表示 -->
          <!-- 001 -->
          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 002 -->
          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 003 -->
          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 004 -->
          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕姿。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 005 -->
          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>

          <!-- 006 -->
          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <!-- 007 -->
          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 008 -->
          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 009 -->
          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 010 -->
          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>

        </div>
      </div>
    </section>
  </div> <!-- /views -->
  </div> <!-- /app -->

  <script>
    // トグル切り替え
    const buttons = document.querySelectorAll('.toggle-btn');
    buttons.forEach(btn => btn.addEventListener('click', () => {
      const mode = btn.dataset.mode;
      document.body.setAttribute('data-mode', mode);
      document.querySelector('.view-spread').style.display = (mode === 'spread') ? 'block' : 'none';
      document.querySelector('.view-vertical').style.display = (mode === 'spread') ? 'none' : 'block';
      buttons.forEach(b => b.classList.toggle('active', b === btn));
    }));

    // 画像モード（鉛筆/実写）切替
    const imgBtns = document.querySelectorAll('.img-toggle-btn');
    function applyImageMode(mode) {
      document.body.setAttribute('data-image-mode', mode);
      document.querySelectorAll('.frame img[data-sketch-src]').forEach(img => {
        const sketch = img.getAttribute('data-sketch-src');
        const live = img.getAttribute('data-live-src') || sketch;
        img.src = (mode === 'live') ? live : sketch;
      });
      imgBtns.forEach(b => b.classList.toggle('active', b.dataset.image === mode));
    }
    imgBtns.forEach(btn => btn.addEventListener('click', () => applyImageMode(btn.dataset.image)));
    // メディアモード切替（静止画/動画）
    const mediaBtns = document.querySelectorAll('.media-btn');
    function applyMediaMode(mode) {
      document.body.setAttribute('data-media-mode', mode);
      document.querySelectorAll('.frame').forEach(frame => {
        const img = frame.querySelector('img');
        const vid = frame.querySelector('video.vid');
        if (!img && !vid) return;
        if (mode === 'image') {
          if (vid) {
            try { vid.pause(); } catch (e) {}
            vid.removeAttribute('src');
            vid.load();
            vid.style.display = 'none';
          }
          if (img) img.style.display = 'block';
        } else {
          // video
          if (img) img.style.display = 'none';
          if (vid) {
            const src = vid.getAttribute('data-video-src');
            if (!src) { vid.style.display = 'none'; return; }
            // セットしてロード
            if (vid.getAttribute('src') !== src) {
              vid.setAttribute('src', src);
            }
            vid.load();
            vid.onloadedmetadata = () => {
              vid.style.display = 'block';
              const p = vid.play(); if (p && p.catch) p.catch(() => {});
            };
            vid.onerror = () => { vid.style.display = 'none'; };
          }
        }
      });
      mediaBtns.forEach(b => b.classList.toggle('active', b.dataset.media === mode));
    }
    mediaBtns.forEach(btn => btn.addEventListener('click', () => applyMediaMode(btn.dataset.media)));

    // 初期モード適用
    applyImageMode(document.body.getAttribute('data-image-mode') || 'sketch');
    applyMediaMode(document.body.getAttribute('data-media-mode') || 'image');

    // グリッドレイアウトに統一したため、上下位置の補正処理は不要
  </script>
</body>
</html>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  
  <section class="doc-section" id="ui-views" data-cat="2" data-cat-name="要件定義・開発">
    <h2>UIビュー一覧</h2>
    
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <style>
  .ui-views-doc {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }
  .ui-views-header {
    border-bottom: 2px solid var(--border);
    padding-bottom: 16px;
    margin-bottom: 24px;
  }
  .ui-views-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  .ui-views-meta {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-weak);
  }
  .ui-view-section {
    margin-bottom: 32px;
  }
  .ui-view-section h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--link);
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
  }
  .ui-view-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 16px;
  }
  .ui-view-card {
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    transition: all 0.3s ease;
  }
  .ui-view-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    border-color: var(--link);
  }
  .ui-view-name {
    font-weight: 600;
    color: var(--link);
    margin-bottom: 8px;
  }
  .ui-view-description {
    font-size: 0.9rem;
    color: var(--text-weak);
    margin-bottom: 12px;
  }
  .ui-view-specs {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .ui-view-specs li {
    font-size: 0.85rem;
    color: var(--text-weak);
    padding: 4px 0;
    display: flex;
    align-items: flex-start;
  }
  .ui-view-specs li::before {
    content: "•";
    color: var(--link);
    margin-right: 8px;
    font-weight: 700;
  }
  .ui-view-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px;
  }
  .ui-view-table th,
  .ui-view-table td {
    border: 1px solid var(--border);
    padding: 10px;
    text-align: left;
  }
  .ui-view-table th {
    background: var(--sidebar-bg);
    font-weight: 600;
    color: var(--text);
  }
  .ui-view-table td {
    color: var(--text-weak);
  }
  .status-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
  }
  .status-complete {
    background: #22c55e20;
    color: #22c55e;
  }
  .status-progress {
    background: #3b82f620;
    color: #3b82f6;
  }
  .status-planned {
    background: #f5971520;
    color: #f59715;
  }
</style>

<div class="ui-views-doc">
  <div class="ui-views-header">
    <h2 class="ui-views-title">UIビュー一覧</h2>
    <div class="ui-views-meta">
      <span>バージョン: 1.0</span>
      <span>更新日: 2025年1月</span>
      <span>総画面数: 12</span>
    </div>
  </div>
  
  <!-- 参考デザイン画像（最上部ギャラリー） -->
  <div class="ui-view-section">
    <h3>参考デザイン画像（ギャラリー）</h3>
    <div class="media-grid" id="uiViewGallery"></div>
    <div style="margin-top:8px; color: var(--text-weak); font-size: 12px;">右クリックで相対パスをコピーできます。</div>
    <script>
      (async function(){
        const wrap = document.getElementById('uiViewGallery');
        if (!wrap) return;
        let list = [];
        try {
          const res = await fetch('/data/images_list.json', { cache: 'no-cache' });
          if (res.ok) {
            const j = await res.json();
            list = Array.isArray(j.images) ? j.images : [];
          }
        } catch (_) {}
        // UI関連のみ（ファイル名に `ui` を含むもの）
        let uiList = list.filter(name => /ui/i.test(name));
        if (!uiList.length) {
          // フォールバック（UI系ファイルの既知リスト）
          uiList = [
            'whiteboard_saas_ui_1_full.png',
            'advanced_whiteboard_saas_ui_5_full.png',
            'collaborative_whiteboard_saas_ui_3_full.png',
            'educational_blackboard_saas_ui_4_full.png',
            'interactive_presentation_maker_ui_3_full.png',
            'lecture_recording_interface_ui_4_full.png',
            'educational_video_dashboard_ui_2_full.png',
            'advanced_educational_platform_ui_5_full.png'
          ];
        }
        // すべて表示（UI画像のみ）
        uiList.forEach(name => {
          const path = `/images/${name}`;
          const card = document.createElement('div');
          card.className = 'media-item';
          card.setAttribute('data-path', path);
          card.innerHTML = `
            <img class="media-thumbnail" src="${path}" alt="${name}">
            <div class=\"media-info\">
              <div class=\"media-name\">${name}</div>
            </div>`;
          wrap.appendChild(card);
        });
      })();
    </script>
  </div>
  
  <div class="ui-view-section">
    <h3>1. ダッシュボード画面</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">メインダッシュボード</div>
        <div class="ui-view-description">アプリケーション全体の入り口となる画面</div>
        <ul class="ui-view-specs">
          <li>レスポンシブ対応</li>
          <li>ダークモード対応</li>
          <li>カード型UI</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>2. メディアエディタ画面</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">AI Portrait Generator</div>
        <div class="ui-view-description">手書きスケッチからAI画像を生成する画面</div>
        <ul class="ui-view-specs">
          <li>キャンバス描画機能</li>
          <li>リアルタイムプレビュー</li>
          <li>参照画像ギャラリー</li>
          <li>生成パラメータ設定</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">ビデオビューアー</div>
        <div class="ui-view-description">ストーリーボードとビデオコンテンツ管理画面</div>
        <ul class="ui-view-specs">
          <li>タイムライン表示</li>
          <li>シーンナビゲーション</li>
          <li>動画プレイヤー</li>
          <li>メタデータ編集</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">ストーリーボードビューアー</div>
        <div class="ui-view-description">絵コンテの見開き表示画面</div>
        <ul class="ui-view-specs">
          <li>見開き/縦スクロール切替</li>
          <li>鉛筆画/実写切替</li>
          <li>静止画/動画対応</li>
          <li>ページめくりアニメーション</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>3. 管理画面</h3>
    <table class="ui-view-table">
      <thead>
        <tr>
          <th style="width: 25%">画面名</th>
          <th style="width: 35%">機能概要</th>
          <th style="width: 25%">主要コンポーネント</th>
          <th style="width: 15%">ステータス</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>プロジェクト管理</td>
          <td>プロジェクトの作成・編集・削除</td>
          <td>テーブル、フォーム、モーダル</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
        <tr>
          <td>ユーザー管理</td>
          <td>ユーザーアカウントと権限管理</td>
          <td>ユーザーリスト、権限設定</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
        <tr>
          <td>アセット管理</td>
          <td>画像・動画ファイルの管理</td>
          <td>ファイルブラウザ、アップローダー</td>
          <td><span class="status-badge status-progress">開発中</span></td>
        </tr>
        <tr>
          <td>設定画面</td>
          <td>システム設定とカスタマイズ</td>
          <td>設定フォーム、プレビュー</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="ui-view-section">
    <h3>4. 共通コンポーネント</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">ナビゲーション</div>
        <div class="ui-view-description">サイドバーとヘッダーナビゲーション</div>
        <ul class="ui-view-specs">
          <li>折りたたみ可能なサイドメニュー</li>
          <li>パンくずリスト</li>
          <li>検索バー</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">モーダル・ダイアログ</div>
        <div class="ui-view-description">各種確認・入力ダイアログ</div>
        <ul class="ui-view-specs">
          <li>確認ダイアログ</li>
          <li>フォームモーダル</li>
          <li>画像プレビューモーダル</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">通知・アラート</div>
        <div class="ui-view-description">システム通知とエラー表示</div>
        <ul class="ui-view-specs">
          <li>トースト通知</li>
          <li>エラーメッセージ</li>
          <li>プログレスバー</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>5. デザインシステム</h3>
    <table class="ui-view-table">
      <thead>
        <tr>
          <th>要素</th>
          <th>仕様</th>
          <th>使用箇所</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>カラーパレット</td>
          <td>ダーク/ライトテーマ対応、CSS変数で管理</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>タイポグラフィ</td>
          <td>システムフォント優先、レスポンシブ対応</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>スペーシング</td>
          <td>8pxグリッドシステム</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>アニメーション</td>
          <td>CSS Transition、300ms標準</td>
          <td>ホバー効果、画面遷移</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    
  </section>
  

    </div>
  </div>
  
  
<div class="modal-backdrop" id="jsonModal">
  <div class="modal">
    <div class="modal-header">
      <span class="modal-title" id="jsonModalTitle">JSONプレビュー</span>
    </div>
    <div class="modal-body">
      <pre class="code" id="jsonContent"></pre>
    </div>
    <div class="modal-actions">
      <button class="view-btn" id="jsonCopyBtn">コピー</button>
      <button class="view-btn" id="jsonCloseBtn">閉じる</button>
    </div>
  </div>
</div>


<div class="modal-backdrop" id="imgModal">
  <div class="modal" style="max-width:90%; width:auto;">
    <div class="modal-header">
      <span class="modal-title" id="imgModalTitle">画像プレビュー</span>
    </div>
    <div class="modal-body" style="padding:0; background:var(--media-bg);">
      <img id="imgModalImage" src="" alt="" style="width:100%; height:auto; display:block;">
    </div>
    <div class="modal-actions">
      <button class="view-btn" id="imgCloseBtn">閉じる</button>
    </div>
  </div>
</div>

  <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
  
  <script>
    
    window.DOC_PAGES = [
      
      
        { id: "\"saas-applications-overview\"", title: "\"ダッシュボード\"", category:  1 , category_name: "\"ダッシュボード\"" },
      
        { id: "\"saas-ai-portrait\"", title: "\"AI Portrait Generator\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
        { id: "\"saas-storyboard\"", title: "\"ビデオビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
        { id: "\"saas-storyboard-viewer\"", title: "\"ストーリーボードビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
      
        
          
            { id: "\"saas-ai-portrait\"", title: "\"AI Portrait Generator\"", category:  3 , category_name: "\"メディアエディタ\"" },
          
        
          
            { id: "\"biz-finance\"", title: "\"財務ダッシュボード\"", category:  6 , category_name: "\"事業構築\"" },
          
        
          
            { id: "\"biz-strategy\"", title: "\"戦略\"", category:  6 , category_name: "\"事業構築\"" },
          
        
          
            { id: "\"dynamic-media-gallery\"", title: "\"Dynamic Media Gallery\"", category:  1 , category_name: "\"ダッシュボード\"" },
          
        
          
            { id: "\"prompts-repo\"", title: "\"従業員\"", category:  5 , category_name: "\"従業員\"" },
          
        
          
            { id: "\"requirements-document\"", title: "\"要件定義書\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
          
            { id: "\"requirements-kamui-os\"", title: "\"KAMUI OS 要件定義書\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
          
            { id: "\"requirements-kamui-os-npm\"", title: "\"KAMUI OS NPM パッケージ要件定義書\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
          
            { id: "\"requirements-neko-cafe\"", title: "\"ネコカフェ 要件定義書\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
          
            { id: "\"requirements-sns-marketing\"", title: "\"SNSマーケティング ダッシュボード要件定義書\"", category:  7 , category_name: "\"SNS・マーケティング\"" },
          
        
          
            { id: "\"slide-generator\"", title: "\"スライドエディタ\"", category:  4 , category_name: "\"ビジネスツール\"" },
          
        
          
            { id: "\"sns-marketing\"", title: "\"SNS・マーケティング\"", category:  7 , category_name: "\"SNS・マーケティング\"" },
          
        
          
            { id: "\"saas-storyboard-viewer\"", title: "\"ストーリーボードビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
          
        
          
            { id: "\"ui-views\"", title: "\"UIビュー一覧\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
      
    ];
  </script>
  
  <script src="/js/main.js"></script>
</body>
</html>
