<!DOCTYPE html>
<html lang="ja">
<head>
	<meta name="generator" content="Hugo 0.148.2"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=62545&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SaaS Applications</title>
  <meta name="description" content="">
  
  <link rel="stylesheet" href="/css/main.css">
  
  
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({ 
      startOnLoad: true,
      theme: 'dark',
      themeVariables: {
        darkMode: true,
        primaryColor: '#4a9eff',
        primaryTextColor: '#ffffff',
        primaryBorderColor: '#2a2a2a',
        lineColor: '#ffffff',
        textColor: '#ffffff',
        taskTextColor: '#ffffff',
        taskTextLightColor: '#ffffff',
        taskFillColor: '#4a9eff',
        taskBorderColor: '#93c5fd',
        activeTaskBorderColor: '#93c5fd',
        activeTaskColor: '#4a9eff',
        doneTaskColor: '#4a9eff',
        doneTaskBorderColor: '#93c5fd',
        critBorderColor: '#93c5fd',
        critColor: '#4a9eff',
        todayLineColor: '#93c5fd',
        gridColor: '#64748b',
        tertiaryColor: '#2d2d2d',
        sequenceNumberColor: '#ffffff',
        signalColor: '#ffffff',
        actorBorder: '#ffffff',
        actorTextColor: '#ffffff',
        noteTextColor: '#ffffff',
        noteBorderColor: '#cbd5e1',
        activationTextColor: '#ffffff',
        edgeLabelBackground: '#0f172a',
        secondaryColor: '#2d2d2d',
        background: '#1a1a1a',
        mainBkg: '#0f0f0f',
        secondBkg: '#1a1a1a',
        tertiaryColor: '#2d2d2d'
      },
      themeCSS: `
        /* Ensure Gantt bars use unified blue tone inside SVG */
        .gantt .task rect,
        .gantt .task .task-bar,
        .gantt .task-bar rect { fill: #4a9eff; stroke: #93c5fd; }
        .gantt .task.active rect,
        .gantt .task.done rect,
        .gantt .task.crit rect { fill: #4a9eff; stroke: #93c5fd; }
        .gantt .today { stroke: #93c5fd; stroke-width: 1.5px; }
        .gantt .label text, .gantt text, .gantt .title text { fill: #ffffff; }
      `,
      gantt: {
        numberSectionStyles: 6,
        leftPadding: 200,
        gridLineStartPadding: 400,
        fontSize: 13,
        sectionFontSize: 15,
        fontFamily: '"Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif',
        barHeight: 22,
        barGap: 6,
        topPadding: 50,
        rightPadding: 150
      }
    });
  </script>
</head>
<body>
  <div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <div class="sidebar-title">SaaS Applications</div>
    <div class="sidebar-subtitle" id="tocCount">目次</div>
  </div>

  <div class="folder-tree" id="folderTree">
    <div class="tree-item">
      <div class="tree-label selected" data-toggle="root">
        <span class="tree-toggle expanded">▼</span>
        <span class="tree-name">章構成</span>
        <span class="tree-count" id="sectionCount">--</span>
      </div>
      <div class="tree-children expanded" id="tocList">
        
      </div>
    </div>
  </div>

  <div class="sidebar-tags">
    <div class="tags-title">クイックリンク</div>
    <div class="tag-list">
      <span class="tag" data-jump="#ui-flow">UI遷移</span>
      <span class="tag" data-jump="#ui">UI/画面</span>
      <span class="tag" data-jump="#functional">機能</span>
      <span class="tag" data-jump="#nonfunctional">非機能</span>
      <span class="tag" data-jump="#packaging">パッケージ</span>
      <span class="tag" data-jump="#schedule">スケジュール</span>
    </div>
  </div>

  <div class="sidebar-footer">
    <div class="sidebar-tags">
      <div class="tags-title">テーマ</div>
      <div class="view-options">
        <button class="view-btn icon-btn active" id="themeDark">
          <span class="btn-icon">🌙</span>
          <span class="btn-label">ダーク</span>
        </button>
        <button class="view-btn icon-btn" id="themeLight">
          <span class="btn-icon">☀️</span>
          <span class="btn-label">ライト</span>
        </button>
      </div>
    </div>
  </div>
</div>

  
  <div class="main-content">
    <div class="header-bar">
  <button class="menu-btn icon-btn" id="toggleSidebar">
    <span class="btn-icon">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="6" x2="21" y2="6"/>
        <line x1="3" y1="12" x2="21" y2="12"/>
        <line x1="3" y1="18" x2="21" y2="18"/>
      </svg>
    </span>
  </button>
  
  <input type="text" class="search-bar" id="searchInput" placeholder="検索..." />
  
  <button id="backToDashboard" onclick="window.location.hash=''; location.reload();" style="margin-left: auto; padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← ダッシュボードに戻る
  </button>
  
</div>

    
    <div class="doc-container" id="docContainer">
      
  <div class="doc-meta"></div>
  
  
  
  
  
  
  
  
    
  
    
  
    
  
    
  
  
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
  

  
  <section class="doc-section" id="saas-applications-overview" data-cat="1" data-cat-name="ダッシュボード">
    <h2>ダッシュボード</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .dashboard-sections {
    margin-bottom: 40px;
  }
  .dashboard-section-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border);
  }
  .dashboard-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }
  
  .saas-app-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
    color: var(--text);
    display: block;
  }
  
  /* ライトモードで白背景 */
  [data-theme="light"] .saas-app-card {
    background: #ffffff;
    border: 1px solid #e5e7eb;
  }
  
  .saas-app-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    border-color: #4a9eff;
  }
  
  .saas-app-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 12px;
    color: #4a9eff;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .saas-app-description {
    font-size: 0.95rem;
    color: var(--text-weak);
    line-height: 1.6;
    margin-bottom: 12px;
  }
  
  .saas-app-features {
    font-size: 0.85rem;
    color: var(--text-weak);
    line-height: 1.8;
  }
  
  .saas-app-arrow {
    color: #4a9eff;
    font-size: 1.2rem;
    display: inline-block;
    margin-left: 8px;
    transition: transform 0.3s ease;
  }
  
  .saas-app-card:hover .saas-app-arrow {
    transform: translateX(4px);
  }
</style>

<!-- ダッシュボードセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">ダッシュボード</h2>
  <div class="dashboard-links">
    <a href="#" class="saas-app-card" onclick="window.location.hash=''; location.reload(); return false;">
      <div class="saas-app-title">
        メインダッシュボード
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        全体のダッシュボード - 各セクションへのエントリーポイント
      </div>
      <div class="saas-app-features">
        • 要件定義・開発<br>
        • メディアエディタ<br>
        • 事業構築・ビジネスツール
      </div>
    </a>
    
    <a href="#dynamic-media-gallery" class="saas-app-card" onclick="showSectionById('dynamic-media-gallery'); return false;">
      <div class="saas-app-title">
        Dynamic Media Gallery
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        メディアファイルを動的にスキャンして表示するギャラリー
      </div>
      <div class="saas-app-features">
        • ファイル自動スキャン<br>
        • グリッド/リスト表示<br>
        • ライトボックス対応
      </div>
    </a>
  </div>
</div>

<!-- 要件定義・開発セクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">要件定義・開発</h2>
  <div class="dashboard-links">
          <a href="#requirements-document" class="saas-app-card" onclick="showRequirements('document'); return false;">
    <div class="saas-app-title">
      要件定義書
      <span class="saas-app-arrow">→</span>
    </div>
    <div class="saas-app-description">
      メディアエディタプラットフォームの要件定義書
    </div>
    <div class="saas-app-features">
      • プロジェクト概要<br>
      • 機能要件・非機能要件<br>
      • 技術スタック・開発スケジュール
    </div>
  </a>
  
  <a href="#ui-views" class="saas-app-card" onclick="showRequirements('views'); return false;">
    <div class="saas-app-title">
      UIビュー一覧
      <span class="saas-app-arrow">→</span>
    </div>
    <div class="saas-app-description">
      システムのUI画面一覧と設計仕様
    </div>
    <div class="saas-app-features">
      • 画面構成図<br>
      • コンポーネント一覧<br>
      • デザインシステム
    </div>
  </a>
</div>
</div>

<!-- メディアエディタセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">メディアエディタ</h2>
  <div class="dashboard-links">
    <a href="#saas-ai-portrait" class="saas-app-card" onclick="showSaasApp('ai-portrait'); return false;">
      <div class="saas-app-title">
        1. AI Portrait Generator
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        手書きスケッチからAIで高品質な画像を生成するメディアエディタ
      </div>
      <div class="saas-app-features">
        • リアルタイムプレビュー<br>
        • 参照画像ギャラリー<br>
        • 描画ツール内蔵
      </div>
    </a>
    
    <a href="#saas-storyboard" class="saas-app-card" onclick="showSaasApp('storyboard'); return false;">
      <div class="saas-app-title">
        2. ビデオビューアー
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        ストーリーボードビューアーとビデオコンテンツ管理
      </div>
      <div class="saas-app-features">
        • タイムライン管理<br>
        • シーン別ナビゲーション<br>
        • ビデオプレイヤー統合
      </div>
    </a>
    
    <a href="#saas-storyboard-viewer" class="saas-app-card" onclick="showSaasApp('storyboard-viewer'); return false;">
      <div class="saas-app-title">
        3. ストーリーボードビューアー
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        絵コンテの見開きフローを美しく表示するビューアー
      </div>
      <div class="saas-app-features">
        • 見開き/縦スクロール切替<br>
        • 鉛筆画/実写切替<br>
        • 静止画/動画対応
      </div>
    </a>
  </div>
</div>

<!-- 事業構築セクション（章6） -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">事業構築</h2>
  <div class="dashboard-links">
    <a href="#biz-strategy" class="saas-app-card" onclick="showSectionById('biz-strategy'); return false;">
      <div class="saas-app-title">
        戦略
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">事業戦略の骨子と進め方</div>
      <div class="saas-app-features">• ターゲット/価値• チャネル・価格• ロードマップ</div>
    </a>
    <a href="#biz-finance" class="saas-app-card" onclick="showSectionById('biz-finance'); return false;">
      <div class="saas-app-title">
        財務
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">財務計画/KPI/投資計画の整理</div>
      <div class="saas-app-features">• MRR• チャーン• CAC/LTV</div>
    </a>
  </div>
</div>

<!-- ビジネスツールセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">ビジネスツール</h2>
  <div class="dashboard-links">
    <a href="#slide-generator" class="saas-app-card" onclick="showBusinessTool('slide-generator'); return false;">
      <div class="saas-app-title">
        スライドエディタ
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">
        プレゼンテーション用スライドを表示・編集するエディタ
      </div>
      <div class="saas-app-features">
        • スライド表示<br>
        • ページナビゲーション<br>
        • フルスクリーン対応
      </div>
    </a>
  </div>
</div>

<!-- プロンプト置き場セクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">プロンプト置き場</h2>
  <div class="dashboard-links">
    <a href="#prompts-repo" class="saas-app-card" onclick="showSectionById('prompts-repo'); return false;">
      <div class="saas-app-title">
        create-new-page.md
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">新しいページ作成用のプロンプト手順書</div>
      <div class="saas-app-features">• 外部YAML基準• 自動集約• Hugoビルド</div>
    </a>
  </div>
</div>

<!-- SNS・マーケティングセクション -->
<div class="dashboard-sections">
  <h2 class="dashboard-section-title">SNS・マーケティング</h2>
  <div class="dashboard-links">
    <a href="#sns-marketing" class="saas-app-card" onclick="showSectionById('sns-marketing'); return false;">
      <div class="saas-app-title">
        SNS・マーケティング
        <span class="saas-app-arrow">→</span>
      </div>
      <div class="saas-app-description">主要チャネル/運用/KPIの整理ページ</div>
      <div class="saas-app-features">• X/IG/YT/TikTok• KPI• 運用フロー</div>
    </a>
  </div>
</div>

<script>
  // 汎用: 任意のセクションを表示
  window.showSectionById = function(id) {
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    const target = document.getElementById(id);
    if (target) {
      target.style.display = 'block';
      window.history.pushState({ direct: id }, '', '#' + id);
      window.scrollTo(0, 0);
    }
  }
  // ビジネスツール表示用の関数
  window.showBusinessTool = function(toolId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    const targetSection = document.getElementById(toolId);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // URLを更新
      window.history.pushState({ businessTool: toolId }, '', '#' + toolId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // 要件定義書表示用の関数
  window.showRequirements = function(docId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    // 対象セクションを決定
    let targetId = '';
    if (docId === 'document') {
      targetId = 'requirements-document';
    } else if (docId === 'views') {
      targetId = 'ui-views';
    }
    
    const targetSection = document.getElementById(targetId);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // URLを更新
      window.history.pushState({ requirements: docId }, '', '#' + targetId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // SaaSメディアエディタ表示用の関数
  window.showSaasApp = function(appId) {
    // 現在のセクションを全て非表示
    document.querySelectorAll('.doc-section').forEach(section => {
      section.style.display = 'none';
    });
    
    // SaaSメディアエディタセクションを表示
    const targetSection = document.getElementById('saas-' + appId);
    if (targetSection) {
      targetSection.style.display = 'block';
      
      // URLを更新
      window.history.pushState({ app: appId }, '', '#saas-' + appId);
      
      // ページの一番上にスクロール
      window.scrollTo(0, 0);
    }
  }
  
  // ブラウザの戻る/進むボタン対応
  window.addEventListener('popstate', function(event) {
    if (event.state && event.state.app) {
      showSaasApp(event.state.app);
    } else if (event.state && event.state.requirements) {
      showRequirements(event.state.requirements);
    } else if (event.state && event.state.businessTool) {
      showBusinessTool(event.state.businessTool);
    } else if (event.state && event.state.direct) {
      showSectionById(event.state.direct);
    } else {
      // ダッシュボードに戻す
      document.querySelectorAll('.doc-section').forEach(section => {
        if (section.id === 'saas-applications-overview') {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }
  });
  
  // ページ読み込み時にURLをチェック
  document.addEventListener('DOMContentLoaded', function() {
    const hash = window.location.hash;
    if (hash && hash.startsWith('#saas-')) {
      const appId = hash.replace('#saas-', '');
      setTimeout(() => showSaasApp(appId), 100);
    } else if (hash && hash.startsWith('#requirements-')) {
      const docId = hash.replace('#requirements-', '');
      setTimeout(() => showRequirements(docId), 100);
    } else if (hash === '#ui-views') {
      setTimeout(() => showRequirements('views'), 100);
    } else if (hash === '#slide-generator') {
      setTimeout(() => showBusinessTool('slide-generator'), 100);
    } else if (hash === '#biz-strategy' || hash === '#biz-finance' || hash === '#prompts-repo') {
      setTimeout(() => showSectionById(hash.replace('#','')), 100);
    } else {
      // デフォルトはダッシュボードのみ表示
      document.querySelectorAll('.doc-section').forEach(section => {
        if (section.id === 'saas-applications-overview') {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }
  });
</script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="saas-ai-portrait" data-cat="3" data-cat-name="メディアエディタ">
    <h2>AI Portrait Generator</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    .ai-portrait-interface {
        background: #1a1a1a;
        border-radius: 12px;
        padding: 0;
        margin: 20px 0;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    
    .app-container {
        display: flex;
        height: 600px;
        background: #1a1a1a;
        color: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    /* Left Sidebar - Reference Gallery */
    .reference-panel {
        width: 280px;
        background: #2d2d2d;
        padding: 20px;
        overflow-y: auto;
        border-right: 1px solid #3a3a3a;
    }
    
    .reference-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .reference-title {
        font-size: 22px;
        font-weight: bold;
        margin: 0;
        color: #ffffff;
    }
    
    .reload-btn {
        background: #3a3a3a;
        border: 1px solid #505050;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        transition: all 0.2s;
        color: #e0e0e0;
        font-size: 16px;
    }
    
    .reload-btn:hover {
        background: #4a4a4a;
        border-color: #606060;
    }
    
    .reload-btn:active {
        transform: scale(0.95);
    }
    
    .reload-btn.loading .reload-icon {
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Context menu styles */
    .context-menu {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        transition: opacity 0.2s;
    }
    
    .context-menu:hover {
        background: #3a3a3a !important;
    }
    
    .reference-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-bottom: 25px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .reference-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        background: #666;
    }
    
    .reference-item:hover {
        border-color: #4a9eff;
        transform: scale(1.02);
    }
    
    .reference-item.selected {
        border-color: #4a9eff;
        box-shadow: 0 0 15px rgba(74, 158, 255, 0.3);
    }
    
    .reference-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .reference-item .checkmark {
        position: absolute;
        bottom: 4px;
        right: 4px;
        width: 18px;
        height: 18px;
        background: #4a9eff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    
    .reference-item.selected .checkmark {
        opacity: 1;
    }
    
    
    /* Main Content Area */
    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: #1a1a1a;
        position: relative;
    }
    
    /* Header */
    .app-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: #2d2d2d;
        border-bottom: 1px solid #3a3a3a;
    }
    
    .header-title {
        font-size: 24px;
        font-weight: bold;
        color: #ffffff;
    }
    
    .header-controls {
        display: flex;
        gap: 12px;
        align-items: center;
    }
    
    .icon-button {
        width: 36px;
        height: 36px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        transition: all 0.2s ease;
    }
    
    .icon-button:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .notification-badge {
        position: relative;
    }
    
    .notification-badge::after {
        content: '1';
        position: absolute;
        top: -4px;
        right: -4px;
        width: 16px;
        height: 16px;
        background: #ff4757;
        border-radius: 50%;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }
    
    /* Before/After Comparison */
    .generation-area {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px;
    }
    
    .before-after-comparison {
        display: flex;
        align-items: center;
        gap: 40px;
    }
    
    
    .comparison-label {
        font-size: 18px;
        font-weight: bold;
        color: #ffffff;
        margin-bottom: 15px;
    }
    
    .comparison-image {
        width: 300px;
        height: 300px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .before-item .comparison-image {
        background: #f0f0f0;
    }
    
    .after-item .comparison-image {
        background: #333;
    }
    
    .placeholder-sketch {
        color: #666;
        font-size: 16px;
        text-align: center;
    }
    
    .placeholder-result {
        color: #999;
        font-size: 16px;
        text-align: center;
    }
    
    .comparison-arrow {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background: #4a4a4a;
        border-radius: 50%;
    }
    
    .arrow-large {
        width: 0;
        height: 0;
        border-left: 15px solid #ffffff;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    /* Drawing and Controls */
    .drawing-controls {
        position: absolute;
        right: 20px;
        top: 20px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    
    .control-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .control-btn {
        padding: 8px 12px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        color: #ffffff;
        font-size: 12px;
        transition: all 0.2s ease;
        white-space: nowrap;
    }
    
    .control-btn:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .comparison-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
    }
    
    #drawingCanvas {
        display: none;
        border: 2px solid #4a9eff;
        border-radius: 12px;
    }
</style>

<div class="ai-portrait-interface">
    <div class="app-container">
        <!-- Left Sidebar - Reference Gallery -->
        <div class="reference-panel">
            <div class="reference-header">
                <h2 class="reference-title">Reference</h2>
                <button class="reload-btn" id="reloadImages" title="Reload Images">
                    <span class="reload-icon">🔄</span>
                </button>
            </div>
            <div class="reference-grid" id="referenceGrid">
                <!-- Images will be loaded dynamically -->
            </div>
            
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Header -->
            <div class="app-header">
                <h1 class="header-title">AI Generation</h1>
                <div class="header-controls">
                    <button class="icon-button">🔍</button>
                    <button class="icon-button">💾</button>
                    <button class="icon-button notification-badge">🛒</button>
                </div>
            </div>
            
            <!-- Before/After Comparison Area -->
            <div class="generation-area">
                <div class="before-after-comparison">
                    <div class="comparison-item before-item">
                        <div class="comparison-label">Before</div>
                        <div class="comparison-image" id="beforeImage">
                            <img src="/images/fighting-line-art.png" alt="Fighting line art" style="width:100%;height:100%;object-fit:cover;">
                            <canvas id="drawingCanvas" width="300" height="300" style="position: absolute; top: 0; left: 0; cursor: crosshair; z-index: 10; display: none; border-radius: 12px;"></canvas>
                        </div>
                    </div>
                    <div class="comparison-arrow">
                        <div class="arrow-large"></div>
                    </div>
                    <div class="comparison-item after-item">
                        <div class="comparison-label">After</div>
                        <div class="comparison-image" id="afterImage">
                            <video src="/images/Nzf983xJ3tjGM8FIECfL9_video.mp4" alt="Generated Fighting Scene" style="width:100%;height:100%;object-fit:cover;" autoplay loop muted>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Drawing and Controls -->
            <div class="drawing-controls">
                <div class="control-buttons">
                    <button class="control-btn" id="clearCanvas">🗑️ Clear</button>
                    <button class="control-btn" id="switchImages">⇄ Switch</button>
                    <button class="control-btn" id="toggleDraw">✏️ Draw</button>
                    <button class="control-btn" id="saveDrawing">💾 Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        let allImages = []; // Will be populated from JSON file

        // Function to load images into reference grid
        function loadImages() {
            const referenceGrid = document.getElementById('referenceGrid');
            referenceGrid.innerHTML = ''; // Clear existing images
            
            allImages.forEach((imageName, index) => {
                const referenceItem = document.createElement('div');
                referenceItem.className = 'reference-item';
                
                // Select first few items by default for demo
                if (index % 3 === 0) {
                    referenceItem.classList.add('selected');
                }
                
                // Create readable alt text from filename
                const altText = imageName
                    .replace(/\.(png|jpg|jpeg|gif)$/i, '')
                    .replace(/[-_]/g, ' ')
                    .replace(/\b\w/g, char => char.toUpperCase());
                
                referenceItem.innerHTML = `
                    <img src="/images/${imageName}" alt="${altText}">
                    <div class="checkmark">✓</div>
                `;
                
                referenceGrid.appendChild(referenceItem);
            });
            
            // Re-attach click event listeners
            document.querySelectorAll('.reference-item').forEach(item => {
                // Left click - update Before image
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu with relative path
                item.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // Get relative path from src
                        const src = img.src;
                        const relativePath = src.substring(src.indexOf('/images/'));
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
            });
        }
        
        // Function to fetch images list from JSON
        async function fetchImagesList(fromApi = false) {
            try {
                // If fromApi is true, fetch from API endpoint which also updates the JSON
                const url = fromApi ? '/api/images' : '/data/images_list.json';
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Failed to fetch images list');
                }
                const data = await response.json();
                allImages = data.images || [];
                loadImages();
            } catch (error) {
                console.error('Error fetching images:', error);
                // Fallback: try to load from static JSON if API fails
                if (fromApi) {
                    fetchImagesList(false);
                } else {
                    allImages = [];
                    loadImages();
                }
            }
        }
        
        // Initial load
        fetchImagesList();
        
        // Reload button functionality
        document.getElementById('reloadImages').addEventListener('click', async function() {
            const btn = this;
            btn.classList.add('loading');
            
            // Re-fetch images list from API (which updates the JSON file)
            try {
                await fetchImagesList(true); // true = use API endpoint
                btn.classList.remove('loading');
                
                // Show success feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '✅';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            } catch (error) {
                btn.classList.remove('loading');
                console.error('Error reloading images:', error);
                
                // Show error feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '❌';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            }
        });


        // Drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let drawingEnabled = false;
        let lastSavedDrawing = null;

        // Set drawing style
        ctx.strokeStyle = '#ff0000';
        ctx.lineWidth = 3;
        ctx.lineCap = 'round';

        // Toggle drawing mode
        document.getElementById('toggleDraw').addEventListener('click', function() {
            drawingEnabled = !drawingEnabled;
            canvas.style.display = drawingEnabled ? 'block' : 'none';
            this.textContent = drawingEnabled ? '🖊️ Drawing' : '✏️ Draw';
            this.style.background = drawingEnabled ? '#4a9eff' : '#3a3a3a';
        });

        // Clear canvas
        document.getElementById('clearCanvas').addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        // Switch images
        document.getElementById('switchImages').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const afterImg = document.querySelector('#afterImage img');
            const tempSrc = beforeImg.src;
            const tempAlt = beforeImg.alt;
            
            beforeImg.src = afterImg.src;
            beforeImg.alt = afterImg.alt;
            afterImg.src = tempSrc;
            afterImg.alt = tempAlt;
        });

        // Save drawing combined with background image
        document.getElementById('saveDrawing').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const canvas = document.getElementById('drawingCanvas');
            
            // Create a new canvas to combine image and drawing
            const combinedCanvas = document.createElement('canvas');
            const combinedCtx = combinedCanvas.getContext('2d');
            
            // Set canvas size to match the image display size
            combinedCanvas.width = 300;
            combinedCanvas.height = 300;
            
            // Create a new image to ensure it's loaded
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            img.onload = function() {
                // Draw the background image
                combinedCtx.drawImage(img, 0, 0, 300, 300);
                
                // Draw the drawing on top
                combinedCtx.drawImage(canvas, 0, 0);
                
                // Convert to base64 data URL
                const dataURL = combinedCanvas.toDataURL('image/png');
                const timestamp = Date.now();
                const filename = 'hand-drawn-' + timestamp + '.png';
                
                // Add to reference gallery immediately
                const referenceGrid = document.querySelector('.reference-grid');
                const newReferenceItem = document.createElement('div');
                newReferenceItem.className = 'reference-item selected';
                newReferenceItem.innerHTML = `
                    <img src="${dataURL}" alt="Hand Drawn">
                    <div class="checkmark">✓</div>
                `;
                
                // Add click functionality - same as other reference items
                // Left click - update Before image
                newReferenceItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu
                newReferenceItem.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // For saved drawings, use the filename
                        const relativePath = '/' + filename;
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
                
                referenceGrid.appendChild(newReferenceItem);
                
                // Store the last saved drawing for AI generation
                lastSavedDrawing = dataURL;
                
                // Also download the file
                combinedCanvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
                
                // Show success message
                const saveBtn = document.getElementById('saveDrawing');
                const originalText = saveBtn.textContent;
                saveBtn.textContent = '✅ Saved & Added!';
                saveBtn.style.background = '#4CAF50';
                setTimeout(() => {
                    saveBtn.textContent = originalText;
                    saveBtn.style.background = '#3a3a3a';
                }, 2000);
            };
            
            img.src = beforeImg.src;
        });


        // Drawing events
        canvas.addEventListener('mousedown', function(e) {
            if (!drawingEnabled) return;
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        });

        canvas.addEventListener('mousemove', function(e) {
            if (!drawingEnabled || !isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener('mouseup', function() {
            isDrawing = false;
        });

        canvas.addEventListener('mouseout', function() {
            isDrawing = false;
        });
    });
</script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="saas-storyboard" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ビデオビューアー</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storyboard_flow</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            overflow: hidden;
        }
        
        .storyboard-viewer {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: #2a2a2a;
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        
        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .export-btn, .settings-btn {
            padding: 8px 16px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .export-btn:hover, .settings-btn:hover {
            background: #5a5a5a;
            transform: translateY(-1px);
        }
        
        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        
        /* Timeline */
        .timeline {
            width: 250px;
            background: #2a2a2a;
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid #3a3a3a;
        }
        
        .timeline h3 {
            color: white;
            margin: 0 0 20px 0;
            font-size: 18px;
            font-weight: 600;
        }
        
        .timeline-item {
            background: #3a3a3a;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .timeline-item:hover {
            background: #4a4a4a;
            transform: translateX(5px);
        }
        
        .timeline-item.active {
            background: #0066cc;
            box-shadow: 0 4px 15px rgba(0, 102, 204, 0.3);
        }
        
        .timeline-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: #00aaff;
        }
        
        .scene-number {
            color: #aaa;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .timeline-item.active .scene-number {
            color: #cce6ff;
        }
        
        .scene-title {
            color: white;
            font-weight: 500;
            margin-bottom: 8px;
        }
        
        .scene-duration {
            color: #999;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .timeline-item.active .scene-duration {
            color: #cce6ff;
        }
        
        /* Viewer Area */
        .viewer-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #1a1a1a;
        }
        
        /* Video Container */
        .video-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
        }
        
        .video-wrapper {
            position: relative;
            width: 100%;
            max-width: 1200px;
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* Video Overlay Info */
        .video-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            backdrop-filter: blur(10px);
        }
        
        .current-scene {
            font-size: 14px;
            color: #00aaff;
            margin-bottom: 5px;
        }
        
        .scene-description {
            font-size: 16px;
            font-weight: 500;
        }
        
        /* Controls Bar */
        .controls-bar {
            background: #2a2a2a;
            padding: 20px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .play-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .control-btn {
            width: 40px;
            height: 40px;
            background: #4a4a4a;
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }
        
        .control-btn:hover {
            background: #5a5a5a;
            transform: scale(1.1);
        }
        
        .control-btn.play-pause {
            width: 50px;
            height: 50px;
            background: #0066cc;
        }
        
        .control-btn.play-pause:hover {
            background: #0080ff;
        }
        
        /* Progress Bar */
        .progress-container {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .progress-bar {
            flex: 1;
            height: 6px;
            background: #3a3a3a;
            border-radius: 3px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }
        
        .progress-bar:hover {
            height: 8px;
        }
        
        .progress-fill {
            height: 100%;
            background: #0066cc;
            width: 0%;
            transition: width 0.1s linear;
            position: relative;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .progress-bar:hover .progress-fill::after {
            opacity: 1;
        }
        
        .time-display {
            color: white;
            font-size: 14px;
            min-width: 100px;
            text-align: center;
        }
        
        /* Volume Control */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .volume-icon {
            width: 30px;
            height: 30px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .volume-slider {
            width: 80px;
            height: 6px;
            background: #3a3a3a;
            border-radius: 3px;
            position: relative;
            cursor: pointer;
        }
        
        .volume-fill {
            height: 100%;
            background: #0066cc;
            width: 70%;
            border-radius: 3px;
        }
        
        /* Fullscreen Button */
        .fullscreen-btn {
            width: 35px;
            height: 35px;
            background: #4a4a4a;
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .fullscreen-btn:hover {
            background: #5a5a5a;
            transform: scale(1.1);
        }
        
        /* Scene Markers on Progress Bar */
        .scene-markers {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .scene-marker {
            position: absolute;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .timeline {
                width: 200px;
            }
            
            .video-container {
                padding: 20px;
            }
            
            .header {
                padding: 15px 20px;
            }
            
            .controls-bar {
                padding: 15px 20px;
            }
            
            .volume-control {
                display: none;
            }
        }
        
        /* Loading State */
        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 3px solid #3a3a3a;
            border-top-color: #0066cc;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            display: none;
        }
        
        @keyframes spin {
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
        
        .loading .loading-spinner {
            display: block;
        }
        
        /* Tooltips */
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            white-space: nowrap;
            z-index: 1000;
        }
        
        .tooltip.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="storyboard-viewer">
        <!-- Header -->
        <div class="header">
            <h1>Storyboard Viewer</h1>
            <div class="header-controls">
                <button class="export-btn">📥 Export</button>
                <button class="settings-btn">⚙️ Settings</button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Timeline -->
            <div class="timeline">
                <h3>Scenes</h3>
                <div class="timeline-item active">
                    <div class="scene-number">Scene 01</div>
                    <div class="scene-title">Opening Shot</div>
                    <div class="scene-duration">⏱️ 0:00 - 0:15</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 02</div>
                    <div class="scene-title">Character Introduction</div>
                    <div class="scene-duration">⏱️ 0:15 - 0:45</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 03</div>
                    <div class="scene-title">Action Sequence</div>
                    <div class="scene-duration">⏱️ 0:45 - 1:30</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 04</div>
                    <div class="scene-title">Dialogue Scene</div>
                    <div class="scene-duration">⏱️ 1:30 - 2:15</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 05</div>
                    <div class="scene-title">Climax</div>
                    <div class="scene-duration">⏱️ 2:15 - 3:00</div>
                </div>
                <div class="timeline-item">
                    <div class="scene-number">Scene 06</div>
                    <div class="scene-title">Resolution</div>
                    <div class="scene-duration">⏱️ 3:00 - 3:30</div>
                </div>
            </div>
            
            <!-- Viewer Area -->
            <div class="viewer-area">
                <div class="video-container">
                    <div class="video-wrapper">
                        <video id="storyboardVideo" src="/images/karate-woman-man-v2.mp4"></video>
                        <div class="loading-spinner"></div>
                        <div class="video-overlay">
                            <div class="current-scene">Scene 01</div>
                            <div class="scene-description">Opening Shot</div>
                        </div>
                    </div>
                </div>
                
                <!-- Controls Bar -->
                <div class="controls-bar">
                    <div class="play-controls">
                        <button class="control-btn" id="prevBtn">⏮️</button>
                        <button class="control-btn play-pause" id="playPauseBtn">▶️</button>
                        <button class="control-btn" id="nextBtn">⏭️</button>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                            <div class="scene-markers">
                                <div class="scene-marker" style="left: 8.3%"></div>
                                <div class="scene-marker" style="left: 25%"></div>
                                <div class="scene-marker" style="left: 41.7%"></div>
                                <div class="scene-marker" style="left: 62.5%"></div>
                                <div class="scene-marker" style="left: 83.3%"></div>
                            </div>
                        </div>
                        <div class="time-display">
                            <span id="currentTime">0:00</span> / <span id="totalTime">3:30</span>
                        </div>
                    </div>
                    
                    <div class="volume-control">
                        <button class="volume-icon">🔊</button>
                        <div class="volume-slider">
                            <div class="volume-fill"></div>
                        </div>
                    </div>
                    
                    <button class="fullscreen-btn" id="fullscreenBtn">⛶</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Video element and controls
        const video = document.getElementById('storyboardVideo');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        
        // Scene data
        const scenes = [
            { id: 1, title: 'Opening Shot', start: 0, end: 15 },
            { id: 2, title: 'Character Introduction', start: 15, end: 45 },
            { id: 3, title: 'Action Sequence', start: 45, end: 90 },
            { id: 4, title: 'Dialogue Scene', start: 90, end: 135 },
            { id: 5, title: 'Climax', start: 135, end: 180 },
            { id: 6, title: 'Resolution', start: 180, end: 210 }
        ];
        
        let currentSceneIndex = 0;
        
        // Format time helper
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }
        
        // Update time display
        function updateTimeDisplay() {
            currentTimeEl.textContent = formatTime(video.currentTime);
            totalTimeEl.textContent = formatTime(video.duration || 210);
        }
        
        // Update progress bar
        function updateProgress() {
            const progress = (video.currentTime / video.duration) * 100;
            progressFill.style.width = progress + '%';
            updateTimeDisplay();
            updateActiveScene();
        }
        
        // Update active scene
        function updateActiveScene() {
            const currentTime = video.currentTime;
            let activeIndex = 0;
            
            for (let i = 0; i < scenes.length; i++) {
                if (currentTime >= scenes[i].start && currentTime < scenes[i].end) {
                    activeIndex = i;
                    break;
                }
            }
            
            if (activeIndex !== currentSceneIndex) {
                currentSceneIndex = activeIndex;
                updateSceneUI();
            }
        }
        
        // Update scene UI
        function updateSceneUI() {
            // Update timeline items
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                if (index === currentSceneIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Update overlay
            const currentScene = scenes[currentSceneIndex];
            document.querySelector('.current-scene').textContent = `Scene 0${currentScene.id}`;
            document.querySelector('.scene-description').textContent = currentScene.title;
        }
        
        // Play/Pause functionality
        playPauseBtn.addEventListener('click', () => {
            if (video.paused) {
                video.play();
                playPauseBtn.textContent = '⏸️';
            } else {
                video.pause();
                playPauseBtn.textContent = '▶️';
            }
        });
        
        // Previous scene
        prevBtn.addEventListener('click', () => {
            if (currentSceneIndex > 0) {
                currentSceneIndex--;
                video.currentTime = scenes[currentSceneIndex].start;
                updateSceneUI();
            }
        });
        
        // Next scene
        nextBtn.addEventListener('click', () => {
            if (currentSceneIndex < scenes.length - 1) {
                currentSceneIndex++;
                video.currentTime = scenes[currentSceneIndex].start;
                updateSceneUI();
            }
        });
        
        // Progress bar click
        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const pos = (e.clientX - rect.left) / rect.width;
            video.currentTime = pos * video.duration;
        });
        
        // Timeline item click
        document.querySelectorAll('.timeline-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                currentSceneIndex = index;
                video.currentTime = scenes[index].start;
                updateSceneUI();
            });
        });
        
        // Fullscreen
        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.querySelector('.storyboard-viewer').requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        });
        
        // Video events
        video.addEventListener('timeupdate', updateProgress);
        video.addEventListener('loadedmetadata', updateTimeDisplay);
        
        // Initialize
        updateSceneUI();
        updateTimeDisplay();
    </script>
</body>
</html>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="saas-storyboard-viewer" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ストーリーボードビューアー</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    :root {
      --page-bg: #fdfcf8;
      --paper-line: rgba(60, 100, 160, 0.08);
      --ring: #c3c3c3;
      --shadow: rgba(0,0,0,0.15);
      --seam: rgba(0,0,0,0.18);
      --scale: 0.5; /* 見開き時の縮小率（50%） */
      --header-h: 44px; /* 固定ヘッダー高さ */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      margin: 0;
      background: #2c2c2c;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", Arial, sans-serif;
      color: #222;
      padding: 0; /* 固定ヘッダー採用のため本文の上余白は不要 */
      overflow-x: hidden;
    }

    .header {
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 4px 12px;
      width: 100%;
      max-width: none;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      position: relative;
      z-index: 10;
    }

    /* 全体をヘッダー行 + コンテンツ行の2段グリッドで構成 */
    .storyboard-app {
      position: relative;
      display: grid;
      grid-template-rows: auto 1fr;
      height: 90vh;
      width: 100%;
      overflow: hidden;
      border-radius: 8px;
      background: #2c2c2c;
      max-width: 100%;
    }
    .views { position: relative; height: 100%; width: 100%; overflow-y: auto; overflow-x: hidden; }
    .title { font-size: 18px; font-weight: 700; color: #333; }
    .meta { color: #666; font-size: 12px; }
    .meta span + span { margin-left: 10px; }
    .links a { color: #0a6cff; text-decoration: none; font-size: 12px; }

    /* 見開き本体 */
    .spread {
      position: relative;
      width: 100%;
      max-width: none;
      margin: 0;
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    /* 見開きスケール用のラッパーと中身 */
    .view-spread { position: absolute; inset: 0; width: 100%; overflow: auto; }
    /* スケール調整 - コンテナに収まるサイズに */
    .spread-inner { transform: scale(0.5); transform-origin: top left; width: 200%; max-width: none; margin: 0; }

    /* 中央の綴じ目 */
    .spread::after {
      content: "";
      position: absolute;
      top: 20px; bottom: 20px; left: 50%; width: 2px;
      transform: translateX(-50%);
      background: linear-gradient(to bottom, transparent 0, var(--seam) 8%, var(--seam) 92%, transparent 100%);
    }

    /* ノート風のページ */
    .page {
      position: relative;
      background: var(--page-bg);
      border-radius: 0;
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04);
    }
    /* 罫線（横線） */
    .page::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        transparent 0 26px,
        var(--paper-line) 26px 27px
      );
      pointer-events: none;
    }
    /* 綴じリングの穴（内側余白側に表示） */
    .page::after {
      content: "";
      position: absolute;
      top: 22px; bottom: 22px;
      width: 14px;
      background:
        radial-gradient(circle 4px at 50% 16px, rgba(0,0,0,0.08) 0 70%, transparent 72%) repeat-y,
        radial-gradient(circle 3.5px at 50% 16px, var(--ring) 0 60%, transparent 62%) repeat-y;
      background-size: 14px 44px, 14px 44px;
      background-position: center top, center top;
      opacity: 0.9;
      pointer-events: none;
    }
    .page.left::after { left: 8px; }
    .page.right::after { right: 8px; }

    .page-inner { position: relative; padding: 0 8px 8px; }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      position: sticky; top: 0; z-index: 3;
      background: linear-gradient(var(--page-bg), var(--page-bg));
      padding: 4px 6px; /* 上の詰め */
      border-radius: 6px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    }
    .badge { background:#ffd84d; padding: 4px 10px; border-radius: 20px; font-weight: 700; font-size: 12px; }
    .scene { color:#555; font-weight:700; font-size: 12px; }

    /* 画像＋テキストの縦フロー（上下連結） */
    .stack { display: flex; flex-direction: column; gap: 0; }
    .row {
      display: grid;
      grid-template-columns: 56px 3fr 1.6fr 1.6fr 64px; /* CUT | PICTURE | text | script | TIME */
      align-items: stretch;
      background: var(--page-bg);
    }
    .row + .row { border-top: 1px solid rgba(0,0,0,0.06); }
    .cell { position: relative; background: transparent; }
    .cell + .cell { border-left: 2px solid rgba(0,0,0,0.12); }

    /* 列ヘッダー */
    .row.header { position: static; z-index: 1; background: linear-gradient(var(--page-bg), var(--page-bg)); }
    .row.header .cell { 
      font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .04em;
      color: #333; display: flex; align-items: center; justify-content: center;
      background: #eceff7; border-left-color: rgba(0,0,0,0.14);
      padding: 6px 4px;
    }

    /* 画像セル */
    .frame { position: relative; overflow: hidden; }
    /* どのアスペクト比でも全体が見えるように contain + 自然高さ */
    .img { width: 100%; height: auto; object-fit: contain; display: block; background: #fff; }
    /* オーバーレイ（CUT・TIME） */
    .overlay {
      position: absolute; left: 8px; top: 8px;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.2);
      border-radius: 4px; padding: 2px 8px;
      font-size: 12px; font-weight: 700; color: #111;
    }
    .time { position: absolute; right: 8px; bottom: 8px; background: rgba(0,0,0,0.65); color: #fff; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 4px; }

    /* 画像上のCUT/秒数は非表示（列側に表示するため） */
    .frame .overlay, .frame .time { display: none !important; }

    /* テキスト/スクリプト/時間セル */
    .text, .script { padding: 10px; font-size: 14px; line-height: 1.5; color: #222; white-space: pre-wrap; }
    .timecell { display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 14px; background: #fff; }

    /* 常に左右2カラム表示（小さい画面でも崩さない） */
    @media (max-width: 700px) {
      /* 700px 未満では綴じ目の演出だけ抑える */
      .spread::after { display: none; }
    }

    /* トグルボタン */
    .view-toggle { display: inline-flex; background: #f1f5f9; border-radius: 8px; padding: 4px; gap: 4px; }
    .toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 6px 10px; border-radius: 6px; font-weight: 700; font-size: 12px; cursor: pointer; }
    .toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 動画タグ */
    .vid { width: 100%; height: auto; object-fit: contain; display: none; background: #000; }

    /* メディアトグル */
    .media-toggle { display: inline-flex; gap: 4px; margin-left: 6px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .media-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .media-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }

    /* 画像モードトグル */
    .image-toggle { display: inline-flex; gap: 4px; margin-left: 8px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .img-toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .img-toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 縦ビューも固定配置でヘッダー直下から開始し、左右いっぱい */
    .view-vertical {
      position: static; /* フローに参加して .views を押し広げる */
      width: 100%; max-width: none; margin: 0;
      background: transparent;
      display: block;
    }
  </style>
  <!-- 画像は docs/pencil_drawings/scene1.png ... scene10.png を使用 -->
  <!-- 実写は docs/storyboard_images/scene1_realistic.jpg ... を参照 -->
  <div class="storyboard-app" data-mode="spread" data-image-mode="sketch" data-media-mode="image">
  <div class="header">
    <div>
      <div class="title">🎞️ 絵コンテ 見開きフロー（連結）</div>
      <div class="meta">
        <span>プロジェクト: サンプル</span>
        <span>日付: 2025-08-23</span>
        <span>カット: 10</span>
      </div>
    </div>
    <div class="view-toggle" role="group" aria-label="表示切り替え">
      <button class="toggle-btn" data-mode="vertical">上から下</button>
      <button class="toggle-btn active" data-mode="spread">見開き</button>
    </div>
  </div>

  <div class="views">
  <!-- 見開きビュー -->
  <div class="view-spread">
    <div class="spread spread-inner">
    <!-- 左ページ -->
    <section class="page left">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Left 1/1</div>
          <div class="scene">シーン: 左列（1-5）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕草。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 右ページ -->
    <section class="page right">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Right 1/1</div>
          <div class="scene">シーン: 右列（6-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>
        </div>
      </div>
    </section>
    </div>
  </div>

  <!-- 上から下ビュー（単ページ縦並び） -->
  <div class="view-vertical" style="display:none;">
    <section class="page left" style="margin: 0 0 24px 0;">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Vertical</div>
          <div class="scene">シーン: 連結ビュー（1-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <!-- CUT 001 → 010 を縦に通しで表示 -->
          <!-- 001 -->
          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 002 -->
          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 003 -->
          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 004 -->
          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕姿。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 005 -->
          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>

          <!-- 006 -->
          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <!-- 007 -->
          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 008 -->
          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 009 -->
          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 010 -->
          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>

        </div>
      </div>
    </section>
          </div> <!-- /views -->
    </div> <!-- /app -->

    <script>
      // トグル切り替え
      const buttons = document.querySelectorAll('.toggle-btn');
      buttons.forEach(btn => btn.addEventListener('click', () => {
        const mode = btn.dataset.mode;
        const app = document.querySelector('.storyboard-app');
        if (app) app.setAttribute('data-mode', mode);
      document.querySelector('.view-spread').style.display = (mode === 'spread') ? 'block' : 'none';
      document.querySelector('.view-vertical').style.display = (mode === 'spread') ? 'none' : 'block';
      buttons.forEach(b => b.classList.toggle('active', b === btn));
    }));

    // 画像モード（鉛筆/実写）切替
    const imgBtns = document.querySelectorAll('.img-toggle-btn');
    function applyImageMode(mode) {
      const app = document.querySelector('.storyboard-app');
      if (app) app.setAttribute('data-image-mode', mode);
      document.querySelectorAll('.frame img[data-sketch-src]').forEach(img => {
        const sketch = img.getAttribute('data-sketch-src');
        const live = img.getAttribute('data-live-src') || sketch;
        img.src = (mode === 'live') ? live : sketch;
      });
      imgBtns.forEach(b => b.classList.toggle('active', b.dataset.image === mode));
    }
    imgBtns.forEach(btn => btn.addEventListener('click', () => applyImageMode(btn.dataset.image)));
    // メディアモード切替（静止画/動画）
    const mediaBtns = document.querySelectorAll('.media-btn');
    function applyMediaMode(mode) {
      const app = document.querySelector('.storyboard-app');
      if (app) app.setAttribute('data-media-mode', mode);
      document.querySelectorAll('.frame').forEach(frame => {
        const img = frame.querySelector('img');
        const vid = frame.querySelector('video.vid');
        if (!img && !vid) return;
        if (mode === 'image') {
          if (vid) {
            try { vid.pause(); } catch (e) {}
            vid.removeAttribute('src');
            vid.load();
            vid.style.display = 'none';
          }
          if (img) img.style.display = 'block';
        } else {
          // video
          if (img) img.style.display = 'none';
          if (vid) {
            const src = vid.getAttribute('data-video-src');
            if (!src) { vid.style.display = 'none'; return; }
            // セットしてロード
            if (vid.getAttribute('src') !== src) {
              vid.setAttribute('src', src);
            }
            vid.load();
            vid.onloadedmetadata = () => {
              vid.style.display = 'block';
              const p = vid.play(); if (p && p.catch) p.catch(() => {});
            };
            vid.onerror = () => { vid.style.display = 'none'; };
          }
        }
      });
      mediaBtns.forEach(b => b.classList.toggle('active', b.dataset.media === mode));
    }
    mediaBtns.forEach(btn => btn.addEventListener('click', () => applyMediaMode(btn.dataset.media)));

    // 初期モード適用
    const app = document.querySelector('.storyboard-app');
    if (app) {
      applyImageMode(app.getAttribute('data-image-mode') || 'sketch');
      applyMediaMode(app.getAttribute('data-media-mode') || 'image');
    }

    // グリッドレイアウトに統一したため、上下位置の補正処理は不要
  </script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="saas-ai-portrait" data-cat="3" data-cat-name="メディアエディタ">
    <h2>AI Portrait Generator</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<style>
    .ai-portrait-interface {
        background: #1a1a1a;
        border-radius: 12px;
        padding: 0;
        margin: 20px 0;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }
    
    .app-container {
        display: flex;
        height: 600px;
        background: #1a1a1a;
        color: #ffffff;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    /* Left Sidebar - Reference Gallery */
    .reference-panel {
        width: 280px;
        background: #2d2d2d;
        padding: 20px;
        overflow-y: auto;
        border-right: 1px solid #3a3a3a;
    }
    
    .reference-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .reference-title {
        font-size: 22px;
        font-weight: bold;
        margin: 0;
        color: #ffffff;
    }
    
    .reload-btn {
        background: #3a3a3a;
        border: 1px solid #505050;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        transition: all 0.2s;
        color: #e0e0e0;
        font-size: 16px;
    }
    
    .reload-btn:hover {
        background: #4a4a4a;
        border-color: #606060;
    }
    
    .reload-btn:active {
        transform: scale(0.95);
    }
    
    .reload-btn.loading .reload-icon {
        animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    
    /* Context menu styles */
    .context-menu {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        transition: opacity 0.2s;
    }
    
    .context-menu:hover {
        background: #3a3a3a !important;
    }
    
    .reference-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-bottom: 25px;
        max-height: 500px;
        overflow-y: auto;
    }
    
    .reference-item {
        position: relative;
        aspect-ratio: 1;
        border-radius: 6px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid transparent;
        transition: all 0.2s ease;
        background: #666;
    }
    
    .reference-item:hover {
        border-color: #4a9eff;
        transform: scale(1.02);
    }
    
    .reference-item.selected {
        border-color: #4a9eff;
        box-shadow: 0 0 15px rgba(74, 158, 255, 0.3);
    }
    
    .reference-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .reference-item .checkmark {
        position: absolute;
        bottom: 4px;
        right: 4px;
        width: 18px;
        height: 18px;
        background: #4a9eff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 10px;
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    
    .reference-item.selected .checkmark {
        opacity: 1;
    }
    
    
    /* Main Content Area */
    .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: #1a1a1a;
        position: relative;
    }
    
    /* Header */
    .app-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: #2d2d2d;
        border-bottom: 1px solid #3a3a3a;
    }
    
    .header-title {
        font-size: 24px;
        font-weight: bold;
        color: #ffffff;
    }
    
    .header-controls {
        display: flex;
        gap: 12px;
        align-items: center;
    }
    
    .icon-button {
        width: 36px;
        height: 36px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        transition: all 0.2s ease;
    }
    
    .icon-button:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .notification-badge {
        position: relative;
    }
    
    .notification-badge::after {
        content: '1';
        position: absolute;
        top: -4px;
        right: -4px;
        width: 16px;
        height: 16px;
        background: #ff4757;
        border-radius: 50%;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }
    
    /* Before/After Comparison */
    .generation-area {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px;
    }
    
    .before-after-comparison {
        display: flex;
        align-items: center;
        gap: 40px;
    }
    
    
    .comparison-label {
        font-size: 18px;
        font-weight: bold;
        color: #ffffff;
        margin-bottom: 15px;
    }
    
    .comparison-image {
        width: 300px;
        height: 300px;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        background: #333;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .before-item .comparison-image {
        background: #f0f0f0;
    }
    
    .after-item .comparison-image {
        background: #333;
    }
    
    .placeholder-sketch {
        color: #666;
        font-size: 16px;
        text-align: center;
    }
    
    .placeholder-result {
        color: #999;
        font-size: 16px;
        text-align: center;
    }
    
    .comparison-arrow {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 60px;
        height: 60px;
        background: #4a4a4a;
        border-radius: 50%;
    }
    
    .arrow-large {
        width: 0;
        height: 0;
        border-left: 15px solid #ffffff;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    /* Drawing and Controls */
    .drawing-controls {
        position: absolute;
        right: 20px;
        top: 20px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
    
    .control-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .control-btn {
        padding: 8px 12px;
        border-radius: 6px;
        background: #3a3a3a;
        border: none;
        cursor: pointer;
        color: #ffffff;
        font-size: 12px;
        transition: all 0.2s ease;
        white-space: nowrap;
    }
    
    .control-btn:hover {
        background: #4a4a4a;
        transform: translateY(-1px);
    }
    
    .comparison-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
    }
    
    #drawingCanvas {
        display: none;
        border: 2px solid #4a9eff;
        border-radius: 12px;
    }
</style>

<div class="ai-portrait-interface">
    <div class="app-container">
        <!-- Left Sidebar - Reference Gallery -->
        <div class="reference-panel">
            <div class="reference-header">
                <h2 class="reference-title">Reference</h2>
                <button class="reload-btn" id="reloadImages" title="Reload Images">
                    <span class="reload-icon">🔄</span>
                </button>
            </div>
            <div class="reference-grid" id="referenceGrid">
                <!-- Images will be loaded dynamically -->
            </div>
            
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Header -->
            <div class="app-header">
                <h1 class="header-title">AI Generation</h1>
                <div class="header-controls">
                    <button class="icon-button">🔍</button>
                    <button class="icon-button">💾</button>
                    <button class="icon-button notification-badge">🛒</button>
                </div>
            </div>
            
            <!-- Before/After Comparison Area -->
            <div class="generation-area">
                <div class="before-after-comparison">
                    <div class="comparison-item before-item">
                        <div class="comparison-label">Before</div>
                        <div class="comparison-image" id="beforeImage">
                            <img src="/images/fighting-line-art.png" alt="Fighting line art" style="width:100%;height:100%;object-fit:cover;">
                            <canvas id="drawingCanvas" width="300" height="300" style="position: absolute; top: 0; left: 0; cursor: crosshair; z-index: 10; display: none; border-radius: 12px;"></canvas>
                        </div>
                    </div>
                    <div class="comparison-arrow">
                        <div class="arrow-large"></div>
                    </div>
                    <div class="comparison-item after-item">
                        <div class="comparison-label">After</div>
                        <div class="comparison-image" id="afterImage">
                            <video src="/images/Nzf983xJ3tjGM8FIECfL9_video.mp4" alt="Generated Fighting Scene" style="width:100%;height:100%;object-fit:cover;" autoplay loop muted>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Drawing and Controls -->
            <div class="drawing-controls">
                <div class="control-buttons">
                    <button class="control-btn" id="clearCanvas">🗑️ Clear</button>
                    <button class="control-btn" id="switchImages">⇄ Switch</button>
                    <button class="control-btn" id="toggleDraw">✏️ Draw</button>
                    <button class="control-btn" id="saveDrawing">💾 Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        let allImages = []; // Will be populated from JSON file

        // Function to load images into reference grid
        function loadImages() {
            const referenceGrid = document.getElementById('referenceGrid');
            referenceGrid.innerHTML = ''; // Clear existing images
            
            allImages.forEach((imageName, index) => {
                const referenceItem = document.createElement('div');
                referenceItem.className = 'reference-item';
                
                // Select first few items by default for demo
                if (index % 3 === 0) {
                    referenceItem.classList.add('selected');
                }
                
                // Create readable alt text from filename
                const altText = imageName
                    .replace(/\.(png|jpg|jpeg|gif)$/i, '')
                    .replace(/[-_]/g, ' ')
                    .replace(/\b\w/g, char => char.toUpperCase());
                
                referenceItem.innerHTML = `
                    <img src="/images/${imageName}" alt="${altText}">
                    <div class="checkmark">✓</div>
                `;
                
                referenceGrid.appendChild(referenceItem);
            });
            
            // Re-attach click event listeners
            document.querySelectorAll('.reference-item').forEach(item => {
                // Left click - update Before image
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu with relative path
                item.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // Get relative path from src
                        const src = img.src;
                        const relativePath = src.substring(src.indexOf('/images/'));
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
            });
        }
        
        // Function to fetch images list from JSON
        async function fetchImagesList(fromApi = false) {
            try {
                // If fromApi is true, fetch from API endpoint which also updates the JSON
                const url = fromApi ? '/api/images' : '/data/images_list.json';
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error('Failed to fetch images list');
                }
                const data = await response.json();
                allImages = data.images || [];
                loadImages();
            } catch (error) {
                console.error('Error fetching images:', error);
                // Fallback: try to load from static JSON if API fails
                if (fromApi) {
                    fetchImagesList(false);
                } else {
                    allImages = [];
                    loadImages();
                }
            }
        }
        
        // Initial load
        fetchImagesList();
        
        // Reload button functionality
        document.getElementById('reloadImages').addEventListener('click', async function() {
            const btn = this;
            btn.classList.add('loading');
            
            // Re-fetch images list from API (which updates the JSON file)
            try {
                await fetchImagesList(true); // true = use API endpoint
                btn.classList.remove('loading');
                
                // Show success feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '✅';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            } catch (error) {
                btn.classList.remove('loading');
                console.error('Error reloading images:', error);
                
                // Show error feedback
                const originalText = btn.querySelector('.reload-icon').textContent;
                btn.querySelector('.reload-icon').textContent = '❌';
                setTimeout(() => {
                    btn.querySelector('.reload-icon').textContent = originalText;
                }, 1000);
            }
        });


        // Drawing functionality
        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');
        let isDrawing = false;
        let drawingEnabled = false;
        let lastSavedDrawing = null;

        // Set drawing style
        ctx.strokeStyle = '#ff0000';
        ctx.lineWidth = 3;
        ctx.lineCap = 'round';

        // Toggle drawing mode
        document.getElementById('toggleDraw').addEventListener('click', function() {
            drawingEnabled = !drawingEnabled;
            canvas.style.display = drawingEnabled ? 'block' : 'none';
            this.textContent = drawingEnabled ? '🖊️ Drawing' : '✏️ Draw';
            this.style.background = drawingEnabled ? '#4a9eff' : '#3a3a3a';
        });

        // Clear canvas
        document.getElementById('clearCanvas').addEventListener('click', function() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        // Switch images
        document.getElementById('switchImages').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const afterImg = document.querySelector('#afterImage img');
            const tempSrc = beforeImg.src;
            const tempAlt = beforeImg.alt;
            
            beforeImg.src = afterImg.src;
            beforeImg.alt = afterImg.alt;
            afterImg.src = tempSrc;
            afterImg.alt = tempAlt;
        });

        // Save drawing combined with background image
        document.getElementById('saveDrawing').addEventListener('click', function() {
            const beforeImg = document.querySelector('#beforeImage img');
            const canvas = document.getElementById('drawingCanvas');
            
            // Create a new canvas to combine image and drawing
            const combinedCanvas = document.createElement('canvas');
            const combinedCtx = combinedCanvas.getContext('2d');
            
            // Set canvas size to match the image display size
            combinedCanvas.width = 300;
            combinedCanvas.height = 300;
            
            // Create a new image to ensure it's loaded
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            img.onload = function() {
                // Draw the background image
                combinedCtx.drawImage(img, 0, 0, 300, 300);
                
                // Draw the drawing on top
                combinedCtx.drawImage(canvas, 0, 0);
                
                // Convert to base64 data URL
                const dataURL = combinedCanvas.toDataURL('image/png');
                const timestamp = Date.now();
                const filename = 'hand-drawn-' + timestamp + '.png';
                
                // Add to reference gallery immediately
                const referenceGrid = document.querySelector('.reference-grid');
                const newReferenceItem = document.createElement('div');
                newReferenceItem.className = 'reference-item selected';
                newReferenceItem.innerHTML = `
                    <img src="${dataURL}" alt="Hand Drawn">
                    <div class="checkmark">✓</div>
                `;
                
                // Add click functionality - same as other reference items
                // Left click - update Before image
                newReferenceItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Toggle selection
                    this.classList.toggle('selected');
                    
                    // Update Before image
                    const img = this.querySelector('img');
                    if (img) {
                        const beforeImg = document.querySelector('#beforeImage img');
                        if (beforeImg) {
                            beforeImg.src = img.src;
                            beforeImg.alt = img.alt;
                        }
                    }
                });
                
                // Right click - show context menu
                newReferenceItem.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    
                    const img = this.querySelector('img');
                    if (img) {
                        // For saved drawings, use the filename
                        const relativePath = '/' + filename;
                        
                        // Remove existing context menu if any
                        const existingMenu = document.querySelector('.context-menu');
                        if (existingMenu) {
                            existingMenu.remove();
                        }
                        
                        // Create context menu
                        const menu = document.createElement('div');
                        menu.className = 'context-menu';
                        menu.style.cssText = `
                            position: fixed;
                            left: ${e.clientX}px;
                            top: ${e.clientY}px;
                            background: #2a2a2a;
                            border: 1px solid #444;
                            border-radius: 4px;
                            padding: 8px 12px;
                            color: #e0e0e0;
                            font-size: 12px;
                            z-index: 1000;
                            cursor: pointer;
                            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                        `;
                        menu.textContent = relativePath;
                        menu.title = 'Click to copy';
                        
                        // Copy on click
                        menu.addEventListener('click', function() {
                            navigator.clipboard.writeText(relativePath).then(() => {
                                menu.textContent = '✅ Copied!';
                                setTimeout(() => {
                                    menu.remove();
                                }, 1000);
                            }).catch(err => {
                                console.error('Failed to copy:', err);
                                menu.textContent = '❌ Copy failed';
                            });
                        });
                        
                        document.body.appendChild(menu);
                        
                        // Remove menu when clicking elsewhere
                        const removeMenu = (e) => {
                            if (!menu.contains(e.target)) {
                                menu.remove();
                                document.removeEventListener('click', removeMenu);
                            }
                        };
                        setTimeout(() => {
                            document.addEventListener('click', removeMenu);
                        }, 0);
                    }
                });
                
                referenceGrid.appendChild(newReferenceItem);
                
                // Store the last saved drawing for AI generation
                lastSavedDrawing = dataURL;
                
                // Also download the file
                combinedCanvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = filename;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
                
                // Show success message
                const saveBtn = document.getElementById('saveDrawing');
                const originalText = saveBtn.textContent;
                saveBtn.textContent = '✅ Saved & Added!';
                saveBtn.style.background = '#4CAF50';
                setTimeout(() => {
                    saveBtn.textContent = originalText;
                    saveBtn.style.background = '#3a3a3a';
                }, 2000);
            };
            
            img.src = beforeImg.src;
        });


        // Drawing events
        canvas.addEventListener('mousedown', function(e) {
            if (!drawingEnabled) return;
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        });

        canvas.addEventListener('mousemove', function(e) {
            if (!drawingEnabled || !isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        });

        canvas.addEventListener('mouseup', function() {
            isDrawing = false;
        });

        canvas.addEventListener('mouseout', function() {
            isDrawing = false;
        });
    });
</script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="biz-finance" data-cat="6" data-cat-name="事業構築">
    <h2>財務ダッシュボード</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      
<style>
  .finance-container {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
  }
  
  .finance-header {
    margin-bottom: 24px;
  }
  
  .finance-title {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  
  .finance-subtitle {
    color: var(--text-weak);
    font-size: 0.95rem;
  }
  
  /* メトリクスセクション削除 */
  
  
  /* チャートセクション */
  .chart-section {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 24px;
  }
  
  .chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
  }
  
  .chart-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text);
  }
  
  .chart-controls {
    display: flex;
    gap: 8px;
  }
  
  .chart-btn {
    padding: 6px 12px;
    background: var(--button-bg);
    border: 1px solid var(--border);
    border-radius: 6px;
    color: var(--text-weak);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  
  .chart-btn:hover {
    border-color: var(--link);
    color: var(--link);
  }
  
  .chart-btn.active {
    background: var(--link);
    border-color: var(--link);
    color: white;
  }
  
  /* 棒グラフ */
  .bar-chart {
    height: 300px;
    position: relative;
    padding: 20px 0;
  }
  
  .bar-chart-grid {
    position: absolute;
    top: 20px;
    left: 20px;
    right: 20px;
    bottom: 40px;
    border-left: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
  }
  
  .bar-chart-bars {
    position: absolute;
    bottom: 40px;
    left: 20px;
    right: 20px;
    height: calc(100% - 60px);
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    gap: 10px;
  }
  
  .bar-group {
    display: flex;
    gap: 8px;
    align-items: flex-end;
    flex: 1;
    max-width: 120px;
    position: relative;
    height: 100%;
  }
  
  .bar {
    flex: 1;
    min-width: 20px;
    border-radius: 6px 6px 0 0;
    transition: all 0.3s ease;
    position: relative;
    cursor: pointer;
    min-height: 10px;
  }
  
  .bar:hover {
    filter: brightness(1.2);
  }
  
  
  .bar.new {
    background: #10b981 !important;
  }
  
  .bar.recurring {
    background: #60a5fa !important;
  }
  
  .bar.churn {
    background: #ef4444 !important;
  }
  
  .chart-labels {
    position: absolute;
    bottom: -30px;
    left: 20px;
    right: 20px;
    display: flex;
    justify-content: space-around;
    color: var(--text-weak);
    font-size: 0.85rem;
  }
  
  .chart-legend {
    display: flex;
    gap: 24px;
    margin-top: 40px;
    justify-content: center;
  }
  
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: var(--text-weak);
  }
  
  .legend-color {
    width: 12px;
    height: 12px;
    border-radius: 2px;
  }
  
  /* テーブルセクション削除 */
  
</style>

<div class="finance-container">
  <div class="finance-header">
    <h1 class="finance-title">財務ダッシュボード</h1>
    <p class="finance-subtitle">グラフ表示</p>
  </div>
  
  <!-- グラフ -->
  <div class="chart-section">
    <div class="chart-header">
      <h2 class="chart-title">成長トレンド</h2>
      <div class="chart-controls">
        <button class="chart-btn active">月次</button>
        <button class="chart-btn">四半期</button>
        <button class="chart-btn">年次</button>
      </div>
    </div>
    
    <div class="bar-chart">
      <div class="bar-chart-grid"></div>
      <div class="bar-chart-bars" id="mrrChart">
        <div class="bar-group">
          <div class="bar new" style="height: 15%;"></div>
          <div class="bar recurring" style="height: 60%;"></div>
          <div class="bar churn" style="height: 3%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 18%;"></div>
          <div class="bar recurring" style="height: 62%;"></div>
          <div class="bar churn" style="height: 2%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 22%;"></div>
          <div class="bar recurring" style="height: 65%;"></div>
          <div class="bar churn" style="height: 4%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 28%;"></div>
          <div class="bar recurring" style="height: 68%;"></div>
          <div class="bar churn" style="height: 5%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 32%;"></div>
          <div class="bar recurring" style="height: 70%;"></div>
          <div class="bar churn" style="height: 4%;"></div>
        </div>
        <div class="bar-group">
          <div class="bar new" style="height: 35%;"></div>
          <div class="bar recurring" style="height: 73%;"></div>
          <div class="bar churn" style="height: 3%;"></div>
        </div>
      </div>
      <div class="chart-labels">
        <span>1月</span>
        <span>2月</span>
        <span>3月</span>
        <span>4月</span>
        <span>5月</span>
        <span>6月</span>
      </div>
    </div>
    
    <div class="chart-legend">
      <div class="legend-item">
        <div class="legend-color" style="background: #10b981;"></div>
        <span>新規</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #60a5fa;"></div>
        <span>継続</span>
      </div>
      <div class="legend-item">
        <div class="legend-color" style="background: #ef4444;"></div>
        <span>解約</span>
      </div>
    </div>
  </div>
</div>

<script>
  // チャートボタンの切り替え
  document.querySelectorAll('.chart-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
    });
  });
  
  // バーアニメーション（デバッグ用に簡略化）
  setTimeout(() => {
    const section = document.getElementById('biz-finance');
    if (!section) return;
    
    section.querySelectorAll('.bar').forEach((bar, index) => {
      const height = bar.style.height;
      if (height) {
        bar.style.height = '0';
        setTimeout(() => {
          bar.style.transition = 'height 0.8s ease';
          bar.style.height = height;
        }, index * 100);
      }
    });
  }, 100);
</script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="biz-strategy" data-cat="6" data-cat-name="事業構築">
    <h2>戦略</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .biz-doc { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 24px; }
  .biz-doc h3 { color: var(--link); margin-top: 16px; }
  .biz-list { color: var(--text-weak); line-height: 1.8; }
</style>
<div class="biz-doc">
  <h3>事業戦略の骨子</h3>
  <ul class="biz-list">
    <li>ターゲットセグメント / ペルソナ定義</li>
    <li>提供価値（JTBD）と優位性</li>
    <li>チャネル / 価格 / 収益モデル</li>
    <li>ロードマップ（0-1 / 1-10）</li>
  </ul>
</div>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="dynamic-media-gallery" data-cat="1" data-cat-name="ダッシュボード">
    <h2>Dynamic Media Gallery</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="background: #0f0f0f; border-radius: 12px; overflow: hidden; margin: 20px 0; min-height: 800px; position: relative;">
  <!-- ギャラリー埋め込み -->
  <iframe 
    src="/data/media-gallery/index.html" 
    style="width: 100%; height: 800px; border: none; display: block; position: absolute; top: 0; left: 0;"
    frameborder="0">
  </iframe>
</div>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="prompts-repo" data-cat="5" data-cat-name="エージェント">
    <h2>エージェント</h2>
    
    
    
    
      <div class="markdown-body" data-path="static/data/prompts/create-new-page.v2.md">
        <h1 id="新規ページ追加外部yaml基準">新規ページ追加（外部YAML基準）</h1>
<blockquote>
<p>目的: <code>data/saas/*.yaml</code> でページを定義し、テンプレート側が自動集約。<code>sections.yaml</code> に本文を重複定義しない。</p></blockquote>
<h2 id="入力テンプレート">入力テンプレート</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[page-id]: my-new-page
</span></span><span style="display:flex;"><span>[category]: 2
</span></span><span style="display:flex;"><span>[category_name]: 要件定義・開発
</span></span><span style="display:flex;"><span>[title]: 新規ページのタイトル
</span></span><span style="display:flex;"><span>[content]: （任意。空でも可）
</span></span><span style="display:flex;"><span>[custom_html]: （任意。必要時のみ）
</span></span><span style="display:flex;"><span>[needs_dashboard_card]: true|false（ダッシュボードにカードを出すか）
</span></span><span style="display:flex;"><span>[assets]: （任意。配置予定の静的ファイル一覧）
</span></span></code></pre></div><h2 id="出力編集すべきファイルtree">出力・編集すべきファイル（tree）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mcp-saas-handwriteref/
</span></span><span style="display:flex;"><span>└── requirement-docs/
</span></span><span style="display:flex;"><span>    ├── data/
</span></span><span style="display:flex;"><span>    │   ├── saas/
</span></span><span style="display:flex;"><span>    │   │   └── &lt;page-id&gt;.yaml              # 必須: ページ本体定義
</span></span><span style="display:flex;"><span>    │   └── sections.yaml                   # 任意: ダッシュボードのカードを足す場合
</span></span><span style="display:flex;"><span>    ├── static/
</span></span><span style="display:flex;"><span>    │   ├── data/
</span></span><span style="display:flex;"><span>    │   │   └── pages/
</span></span><span style="display:flex;"><span>    │   │       └── &lt;page-id&gt;.md            # 任意: Markdown本文を外出ししたい場合
</span></span><span style="display:flex;"><span>    │   └── images/ ...                     # 任意: 画像などのアセット
</span></span><span style="display:flex;"><span>    ├── themes/kamui-docs/
</span></span><span style="display:flex;"><span>    │   └── layouts/index.html              # 既に対応済み（markdown_fileの読込）。通常は変更不要
</span></span><span style="display:flex;"><span>    └── content/pages/                      # 個別ページ化する場合のみ（現状は未使用: 擬似遷移）
</span></span></code></pre></div><h3 id="1-ページ定義-datasaaspage-idyaml必須">1) ページ定義 <code>data/saas/&lt;page-id&gt;.yaml</code>（必須）</h3>
<p>配列1要素で定義します（既存ページと同じ形式）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">my-new-page</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category: 2                # 章番号（例</span>: <span style="color:#ae81ff">2</span><span style="color:#ae81ff">=要件定義・開発, 3=メディアエディタ, 6=事業構築など）</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category_name</span>: <span style="color:#ae81ff">要件定義・開発</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">新規ページのタイトル</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>                <span style="color:#75715e"># そのままMarkdownとして描画可（必要に応じて）</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># どちらかを使う: content か custom_html か markdown_file</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># markdown_file を使う場合は static 配下の .md を参照</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 例) markdown_file: static/data/pages/my-new-page.md</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># markdown_file: static/data/pages/my-new-page.md</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># custom_html: |</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">#   &lt;div class=&#34;my-new-page&#34;&gt;ここにHTMLを書く&lt;/div&gt;</span>
</span></span></code></pre></div><h3 id="2-ダッシュボードカードを追加任意">2) ダッシュボードカードを追加（任意）</h3>
<p>ダッシュボードにカードを出したい場合のみ <code>data/sections.yaml</code> のダッシュボードHTMLブロックにリンクを追加します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 例: ダッシュボードのカード群の中に追加 --&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#my-new-page&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-card&#34;</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;showSectionById(&#39;my-new-page&#39;); return false;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-title&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    新規ページのタイトル
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-arrow&#34;</span>&gt;→&lt;/<span style="color:#f92672">span</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;saas-app-description&#34;</span>&gt;ページの要約&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">a</span>&gt;
</span></span></code></pre></div><h3 id="3-外部markdown本文任意">3) 外部Markdown本文（任意）</h3>
<p>本文を別Markdownにしたい場合は、<code>static/data/pages/&lt;page-id&gt;.md</code> を作成し、YAMLに <code>markdown_file</code> を指定します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>requirement-docs/static/data/pages/
</span></span><span style="display:flex;"><span>└── my-new-page.md
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">my-new-page</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">category_name</span>: <span style="color:#ae81ff">要件定義・開発</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">新規ページのタイトル</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">markdown_file</span>: <span style="color:#ae81ff">static/data/pages/my-new-page.md</span>
</span></span></code></pre></div><h3 id="4-静的アセット任意">4) 静的アセット（任意）</h3>
<p>画像・動画などは <code>requirement-docs/static/</code> 配下に置き、本文から <code>/images/...</code> のように参照します。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>![<span style="color:#f92672">UIサンプル</span>](<span style="color:#a6e22e">/images/creative-tools-ui-1.png</span>)
</span></span></code></pre></div><h2 id="ビルド確認hugo">ビルド/確認（Hugo）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd requirement-docs
</span></span><span style="display:flex;"><span>hugo server -D -p <span style="color:#ae81ff">1313</span>   <span style="color:#75715e"># ローカル確認</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># → http://localhost:1313/#&lt;page-id&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hugo --gc                <span style="color:#75715e"># 本番ビルド</span>
</span></span></code></pre></div><h2 id="備考">備考</h2>
<ul>
<li><code>themes/kamui-docs/layouts/index.html</code> は <code>.Site.Data.sections</code> と <code>data/saas/*.yaml</code> を自動統合済み。通常は変更不要。</li>
<li><code>data/saas</code> 下の <code>&lt;page-id&gt;.yaml</code> は <code>.Site.Data.saas[&quot;&lt;page-id&gt;&quot;]</code> で参照されます。</li>
</ul>
<h2 id="チェックリスト必要箇所の更新">チェックリスト（必要箇所の更新）</h2>
<ul>
<li><input disabled="" type="checkbox"> <code>data/saas/&lt;page-id&gt;.yaml</code> を作成し、<code>id/category/category_name/title</code> を設定</li>
<li><input disabled="" type="checkbox"> 本文は <code>content</code> または <code>markdown_file</code>（<code>static/data/pages/&lt;page-id&gt;.md</code>）で供給</li>
<li><input disabled="" type="checkbox"> ダッシュボードにカードを出すなら <code>data/sections.yaml</code> のカード群へ <code>&lt;a href=&quot;#&lt;page-id&gt;&quot;&gt;</code> を追加</li>
<li><input disabled="" type="checkbox"> 画像等のアセットがあれば <code>static/images/</code> 等に配置し、本文から相対パスで参照</li>
<li><input disabled="" type="checkbox"> <code>hugo server -D</code> でローカル確認、<code>#&lt;page-id&gt;</code> のハッシュ直リンクで表示を検証</li>
</ul>

      </div>
    
    
      
        <div class="markdown-body" data-path="static/data/prompts/media-assets-guidelines.md">
          <h1 id="画像動画アセットの置き場所と参照ルール">画像/動画アセットの置き場所と参照ルール</h1>
<p>このドキュメントは、ドキュメント内で利用する画像・動画・補助データの配置場所と参照方法をまとめたものです。</p>
<h2 id="配置場所基本">配置場所（基本）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>requirement-docs/
</span></span><span style="display:flex;"><span>└── static/
</span></span><span style="display:flex;"><span>    ├── images/                 # 画像（PNG/JPG/GIF/SVG/WebP）
</span></span><span style="display:flex;"><span>    ├── videos/                 # 動画（MP4/WEBM など）※必要に応じて作成
</span></span><span style="display:flex;"><span>    └── data/                   # JSON/CSV/追加のMarkdownなど
</span></span></code></pre></div><ul>
<li>ブラウザからの参照パスは <code>/images/...</code>, <code>/videos/...</code>, <code>/data/...</code> になります。</li>
<li>例: <code>![UI](/images/creative-tools-ui-1.png)</code>, <code>&lt;video src=&quot;/videos/demo.mp4&quot; controls&gt;</code></li>
</ul>
<h2 id="ファイル命名とサブフォルダ">ファイル命名とサブフォルダ</h2>
<ul>
<li>名前は用途が分かる英語スネーク/ケバブ推奨（例: <code>ui_dashboard_v1.png</code>, <code>storyboard_page-01.png</code>）。</li>
<li>分類のためにサブフォルダを使ってもOK（例: <code>images/ui/</code>, <code>images/storyboard/</code>）。</li>
</ul>
<h2 id="uiビューのギャラリー連携">UIビューのギャラリー連携</h2>
<ul>
<li><code>ui-views</code> ページでは <code>/data/images_list.json</code> を読み込み、画像ギャラリーに反映します。</li>
<li>リストは <code>requirement-docs/static/data/images_list.json</code> から配信されます。</li>
<li>ローカルで簡単に更新したい場合は、<code>requirement-docs/server.js</code> を起動して <code>/api/images</code> を叩くと <code>images/</code> フォルダの一覧から JSON を再生成します。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># 別シェルで起動</span>
</span></span><span style="display:flex;"><span>node requirement-docs/server.js
</span></span><span style="display:flex;"><span><span style="color:#75715e"># JSONを再生成（images配下をスキャン）</span>
</span></span><span style="display:flex;"><span>curl http://localhost:3001/api/images
</span></span></code></pre></div><h2 id="markdown-からの参照例">Markdown からの参照例</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>![<span style="color:#f92672">UIプレビュー</span>](<span style="color:#a6e22e">/images/whiteboard_saas_ui_1_full.png</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">video</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/videos/feature-intro.mp4&#34;</span> <span style="color:#a6e22e">controls</span> <span style="color:#a6e22e">muted</span> <span style="color:#a6e22e">playsinline</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;960&#34;</span>&gt;&lt;/<span style="color:#f92672">video</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#f92672">JSONサンプル</span>](<span style="color:#a6e22e">/data/kamui-doc-menus.json</span>)
</span></span></code></pre></div><h2 id="よくあるハマりどころ">よくあるハマりどころ</h2>
<ul>
<li>画像が表示されない → 先頭スラッシュ付きの絶対パス <code>/images/...</code> を使う。</li>
<li>変更が反映されない → ブラウザをハードリロード（キャッシュ無効） or <code>hugo server</code> を再起動。</li>
<li>画像一覧が古い → <code>/api/images</code> を叩いて <code>images_list.json</code> を更新。</li>
</ul>
<h2 id="推奨運用">推奨運用</h2>
<ul>
<li>大きな動画はGitに入れず、必要なら外部ストレージか軽量版（低ビットレート）を配置。</li>
<li>参照が増えるアセットはサブフォルダで整理し、命名にバージョンを含める（<code>v1</code>, <code>v2</code>）。</li>
</ul>
        </div>
      
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .prompt-md { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
  .prompt-md pre, .prompt-md code { background: var(--code-bg); border: 1px solid var(--code-border); }
  /* カード切替UI */
  .prompt-cards-wrap { margin-bottom: 16px; }
  .prompt-viewer { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
  .card-grid .card.active { border-color: var(--link); box-shadow: 0 0 0 1px color-mix(in srgb, var(--link) 30%, transparent); }
  .card .card-desc { color: var(--text-weak); font-size: .9rem; margin-top: 4px; }
  /* ダークテーマで読めるよう強制カラー */
  .prompt-cards-wrap .card { background: var(--card); color: var(--text); border: 1px solid var(--border); }
  .prompt-cards-wrap .card-title { color: var(--text); font-weight: 800; }
  .prompt-cards-wrap .card:hover { border-color: var(--link); }
  .prompt-cards-wrap .card-img, .prompt-cards-wrap .card-video { width: 100%; height: auto; display: block; margin-top: 8px; border-radius: 8px; background: var(--media-bg); border: 1px solid var(--border); }
  .prompt-cards-wrap .card-name { position: absolute; right: 10px; bottom: 10px; padding: 4px 8px; border-radius: 999px; font-size: 12px; font-weight: 700; background: rgba(17, 24, 39, .7); color: #e5e7eb; border: 1px solid rgba(148, 163, 184, .4); }
  .prompt-cards-wrap .card { position: relative; }
</style>
<div class="prompt-cards-wrap">
  <div class="card-grid" id="promptCardGrid"></div>
</div>
<div class="prompt-viewer" id="promptDocViewer"></div>
<script>
  (function(){
    const sec = document.getElementById('prompts-repo');
    const grid = sec.querySelector('#promptCardGrid');
    const viewer = sec.querySelector('#promptDocViewer');
    if (!grid || !viewer) return;
    const docs = Array.from(sec.querySelectorAll('.markdown-body'));
    if (!docs.length) return;
    const items = docs.map((el, i) => {
      const title = (el.querySelector('h1,h2')?.textContent || `ドキュメント ${i+1}`).trim();
      const id = `prompt-doc-${i}`;
      const path = el.getAttribute('data-path') || '';
      el.dataset.docId = id;
      return { id, title, path, el };
    });
    // ビューア初期化
    function showDoc(id){
      viewer.innerHTML = '';
      items.forEach(it => {
        const card = grid.querySelector(`[data-id="${it.id}"]`);
        card?.classList.toggle('active', it.id === id);
      });
      const target = items.find(it => it.id === id);
      if (target){ viewer.appendChild(target.el); target.el.style.display = 'block'; }
    }
    // カード生成
    items.forEach((it, idx) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.setAttribute('data-id', it.id);
      let img = '';
      if (/media-assets-guidelines\.md$/.test(it.path||'')) {
        img = '<video class="card-video" src="/images/agent-female-hero-video.mp4" autoplay loop muted playsinline></video>'+
              '<span class="card-name">ミナ</span>';
      }
      if (/create-new-page\.v2\.md$/.test(it.path||'')) {
        img = '<video class="card-video" src="/images/agent-male-hero-video.mp4" autoplay loop muted playsinline></video>'+
              '<span class="card-name">拓海</span>';
      }
      card.innerHTML = `<div class="card-title">${it.title}</div>${img}`;
      card.addEventListener('click', () => showDoc(it.id));
      // 右クリックで相対パスをクリップボードへコピー
      card.addEventListener('contextmenu', async (e) => {
        e.preventDefault();
        const p = it.path || '';
        if (!p) return;
        try {
          await navigator.clipboard.writeText(p);
          const t = card.querySelector('.card-title');
          const org = t.textContent;
          t.textContent = '✅ パスをコピーしました';
          setTimeout(()=>{ t.textContent = org; }, 1200);
        } catch(err) {
          console.error('Copy failed', err);
        }
      });
      grid.appendChild(card);
      // いったん隠しておく（選択時にviewerへ移動）
      it.el.style.display = 'none';
    });
    // 先頭を表示
    showDoc(items[0].id);
  })();
</script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="requirements-document" data-cat="2" data-cat-name="要件定義・開発">
    <h2>要件定義書</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .requirement-doc {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }
  .requirement-header {
    border-bottom: 2px solid var(--border);
    padding-bottom: 16px;
    margin-bottom: 24px;
  }
  .requirement-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  .requirement-meta {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-weak);
  }
  .requirement-section {
    margin-bottom: 24px;
  }
  .requirement-section h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--link);
    margin-bottom: 12px;
  }
  .requirement-section h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 8px;
  }
  .requirement-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 12px;
  }
  .requirement-table th,
  .requirement-table td {
    border: 1px solid var(--border);
    padding: 10px;
    text-align: left;
  }
  .requirement-table th {
    background: var(--sidebar-bg);
    font-weight: 600;
    color: var(--text);
  }
  .requirement-table td {
    color: var(--text-weak);
  }
  .requirement-list {
    list-style: none;
    padding-left: 0;
  }
  .requirement-list li {
    padding: 8px 0;
    display: flex;
    align-items: flex-start;
  }
  .requirement-list li::before {
    content: "•";
    color: var(--link);
    font-weight: 700;
    margin-right: 12px;
    font-size: 1.2rem;
  }
</style>

<div class="requirement-doc">
  <div class="requirement-header">
    <h2 class="requirement-title">メディアエディタプラットフォーム 要件定義書</h2>
    <div class="requirement-meta">
      <span>バージョン: 1.0</span>
      <span>更新日: 2025年1月</span>
      <span>ステータス: ドラフト</span>
    </div>
  </div>
  
  <div class="requirement-section">
    <h3>1. プロジェクト概要</h3>
    <p>本プロジェクトは、Web上で動作する統合型メディアエディタプラットフォームの開発を目的とします。AIを活用した画像生成、ビデオ編集、ストーリーボード作成など、クリエイティブな作業を一つの環境で完結できるシステムを構築します。</p>
  </div>
  
  <div class="requirement-section">
    <h3>2. システム要件</h3>
    
    <h4>2.1 機能要件</h4>
    <table class="requirement-table">
      <thead>
        <tr>
          <th style="width: 20%">機能ID</th>
          <th style="width: 30%">機能名</th>
          <th style="width: 50%">説明</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>FR-001</td>
          <td>AI画像生成</td>
          <td>手書きスケッチから高品質な画像を生成する機能</td>
        </tr>
        <tr>
          <td>FR-002</td>
          <td>ビデオビューアー</td>
          <td>タイムライン管理とシーン別ナビゲーション機能</td>
        </tr>
        <tr>
          <td>FR-003</td>
          <td>ストーリーボード表示</td>
          <td>見開き/縦スクロールの切替表示機能</td>
        </tr>
        <tr>
          <td>FR-004</td>
          <td>リアルタイムプレビュー</td>
          <td>編集内容を即座に確認できるプレビュー機能</td>
        </tr>
      </tbody>
    </table>
    
    <h4>2.2 非機能要件</h4>
    <ul class="requirement-list">
      <li><strong>パフォーマンス:</strong> 画像生成は5秒以内、UI操作のレスポンスは100ms以内</li>
      <li><strong>可用性:</strong> 99.9%以上のアップタイム</li>
      <li><strong>セキュリティ:</strong> HTTPS通信、認証・認可機能の実装</li>
      <li><strong>互換性:</strong> Chrome, Firefox, Safari, Edgeの最新版をサポート</li>
      <li><strong>スケーラビリティ:</strong> 同時接続ユーザー1000人以上に対応</li>
    </ul>
  </div>
  
  <div class="requirement-section">
    <h3>3. 技術スタック</h3>
    <table class="requirement-table">
      <thead>
        <tr>
          <th>カテゴリ</th>
          <th>技術</th>
          <th>用途</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>フロントエンド</td>
          <td>React, TypeScript</td>
          <td>UIコンポーネントの実装</td>
        </tr>
        <tr>
          <td>スタイリング</td>
          <td>CSS Modules, Tailwind CSS</td>
          <td>レスポンシブデザインの実現</td>
        </tr>
        <tr>
          <td>状態管理</td>
          <td>Redux Toolkit</td>
          <td>アプリケーション状態の管理</td>
        </tr>
        <tr>
          <td>AI/ML</td>
          <td>Stable Diffusion API</td>
          <td>画像生成機能の実装</td>
        </tr>
        <tr>
          <td>ビルドツール</td>
          <td>Vite</td>
          <td>高速な開発環境の構築</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="requirement-section">
    <h3>4. 開発スケジュール</h3>
    <table class="requirement-table">
      <thead>
        <tr>
          <th>フェーズ</th>
          <th>期間</th>
          <th>主な成果物</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>要件定義</td>
          <td>2週間</td>
          <td>要件定義書、画面設計書</td>
        </tr>
        <tr>
          <td>基本設計</td>
          <td>3週間</td>
          <td>システム設計書、API仕様書</td>
        </tr>
        <tr>
          <td>実装</td>
          <td>8週間</td>
          <td>ソースコード、単体テスト</td>
        </tr>
        <tr>
          <td>テスト</td>
          <td>3週間</td>
          <td>結合テスト、受入テスト</td>
        </tr>
        <tr>
          <td>リリース</td>
          <td>1週間</td>
          <td>本番環境構築、運用手順書</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="requirement-section">
    <h3>5. 制約事項</h3>
    <ul class="requirement-list">
      <li>AI画像生成のAPIには利用制限があるため、ユーザーごとに生成回数を制限する</li>
      <li>動画ファイルのアップロードサイズは500MBまでとする</li>
      <li>初期リリースでは日本語のみ対応とし、多言語対応は次期バージョンで検討</li>
    </ul>
  </div>
</div>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="slide-generator" data-cat="4" data-cat-name="ビジネスツール">
    <h2>スライドエディタ</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .slide-generator {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }
  .slide-header {
    border-bottom: 2px solid var(--border);
    padding-bottom: 16px;
    margin-bottom: 24px;
  }
  .slide-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  .slide-meta {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-weak);
  }
  .slide-viewer {
    background: #1a1a1a;
    border-radius: 12px;
    padding: 40px;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .slide-display {
    position: relative;
    background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
    border-radius: 16px;
    width: 1200px;
    height: 675px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    overflow: hidden;
  }
  .slide-page {
    display: none;
    animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100%;
    height: 100%;
    padding: 60px;
    position: relative;
    color: #ffffff;
  }
  .slide-page.active {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }
  .slide-page h1 {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 50px;
    background: linear-gradient(90deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1.2;
    text-align: left;
    padding-bottom: 20px;
    border-bottom: 2px solid #334155;
  }
  .slide-page h2 {
    font-size: 1.4rem;
    color: #94a3b8;
    margin-bottom: 20px;
  }
  .slide-page h3 {
    font-size: 1.2rem;
    color: #60a5fa;
    margin-bottom: 15px;
  }
  @keyframes slideIn {
    from { 
      opacity: 0;
      transform: translateX(30px);
    }
    to { 
      opacity: 1;
      transform: translateX(0);
    }
  }
  .slide-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 50px;
    align-items: start;
    margin-top: 20px;
    height: calc(100% - 120px);
    overflow: hidden;
  }
  .slide-content {
    color: #e2e8f0;
    font-size: 1rem;
    line-height: 1.6;
  }
  .slide-image {
    width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }
  .metric-card {
    background: linear-gradient(135deg, #1e293b, #334155);
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 15px;
  }
  .metric-value {
    font-size: 2rem;
    font-weight: 700;
    background: linear-gradient(90deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .feature-card {
    background: rgba(30, 41, 59, 0.5);
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 18px;
    backdrop-filter: blur(10px);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.2);
  }
  .slide-image-small {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  }
</style>

<div class="slide-generator">
  <div class="slide-header">
    <h2 class="slide-title">📊 スライドエディタ</h2>
    <div class="slide-meta">
      <span>バージョン: 1.0</span>
      <span>対応形式: PowerPoint, Google Slides</span>
    </div>
  </div>
  
  <div class="slide-controls">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <div style="color: var(--text-weak);">スライド: <span id="currentSlide">1</span> / <span id="totalSlides">6</span></div>
      <div style="display: flex; gap: 10px;">
        <button onclick="previousSlide()" style="padding: 8px 16px; background: var(--border); border: none; border-radius: 6px; color: var(--text); cursor: pointer;">← 前へ</button>
        <button onclick="nextSlide()" style="padding: 8px 16px; background: var(--link); border: none; border-radius: 6px; color: white; cursor: pointer;">次へ →</button>
        <button onclick="toggleFullscreen()" style="padding: 8px 16px; background: var(--border); border: none; border-radius: 6px; color: var(--text); cursor: pointer;">🔍 フルスクリーン</button>
      </div>
    </div>
  </div>
  
  <div class="slide-viewer" id="slideViewer">
    <div class="slide-display" id="slideDisplay">
      <!-- スライド1 -->
      <div class="slide-page active" id="slide-1">
        <div style="text-align: center;">
          <h1>HandwriteRef</h1>
          <h2>手書きスケッチからAI生成への革新的SaaSプラットフォーム</h2>
          <div style="margin: 60px auto; max-width: 500px;">
            <img src="/images/hand-sketch.png" alt="Hand sketch" class="slide-image">
          </div>
          <div style="margin-top: 60px;">
            <p style="font-size: 1.3rem; color: #94a3b8; margin-bottom: 10px;">シードラウンド 事業計画書</p>
            <p style="font-size: 1.1rem; color: #64748b;">2025年9月 | Kamui Development Team</p>
          </div>
        </div>
      </div>
      
      <!-- スライド2 -->
      <div class="slide-page" id="slide-2">
        <h1>市場機会</h1>
        <div class="slide-grid">
          <div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">グローバルAIコンテンツ市場</p>
              <div class="metric-value">$15.7B</div>
              <p style="color: #64748b; margin-top: 10px;">2025年 予測</p>
            </div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">年平均成長率 (CAGR)</p>
              <div class="metric-value">38.1%</div>
              <p style="color: #64748b; margin-top: 10px;">2025-2030</p>
            </div>
            <div class="metric-card">
              <p style="color: #94a3b8; margin-bottom: 10px;">ターゲットユーザー数</p>
              <div class="metric-value">500M+</div>
              <p style="color: #64748b; margin-top: 10px;">クリエイター・教育関係者</p>
            </div>
          </div>
          <div>
            <img src="/images/whiteboard_saas_ui_1_full.png" class="slide-image" alt="Market Overview">
          </div>
        </div>
      </div>
      
      <!-- スライド3 -->
      <div class="slide-page" id="slide-3">
        <h1>ソリューション</h1>
        <div class="slide-grid">
          <div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">AI Portrait Generator</h3>
              <p class="slide-content" style="font-size: 0.95rem;">手書きスケッチを瞬時に高品質なデジタルアートに変換</p>
            </div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">ビデオコンテンツ生成</h3>
              <p class="slide-content" style="font-size: 0.95rem;">スケッチからアニメーション・動画を自動作成</p>
            </div>
            <div class="feature-card" style="margin-bottom: 18px;">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">教育コンテンツプラットフォーム</h3>
              <p class="slide-content" style="font-size: 0.95rem;">ホワイトボード・プレゼン資料の自動生成</p>
            </div>
            <div class="feature-card">
              <h3 style="margin-bottom: 12px; font-size: 1.1rem;">コラボレーション機能</h3>
              <p class="slide-content" style="font-size: 0.95rem;">リアルタイム共同編集とフィードバック</p>
            </div>
          </div>
          <div style="display: flex; flex-direction: column; gap: 15px;">
            <img src="/images/portrait-reference-1.png" class="slide-image-small" alt="AI Generation Example" style="height: 200px;">
            <img src="/images/collaborative_whiteboard_saas_ui_3_full.png" class="slide-image-small" alt="Collaboration Platform" style="height: 200px;">
          </div>
        </div>
      </div>
      
      <!-- スライド4 -->
      <div class="slide-page" id="slide-4">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">🚀 主要機能とUI</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">🎨 AI Portrait Generator</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">手書きスケッチから高品質な画像を生成</p>
            <img src="/images/creative-tools-ui-1.png" alt="Creative Tools UI" style="width: 100%; border-radius: 6px;">
          </div>
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">📚 教育コンテンツ作成</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">動画・プレゼン資料の自動生成</p>
            <img src="/images/educational_blackboard_saas_ui_4_full.png" alt="Educational UI" style="width: 100%; border-radius: 6px;">
          </div>
        </div>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">🎬 ビデオエディタ</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">リアルタイムプレビュー機能</p>
            <img src="/images/interactive_presentation_maker_ui_3_full.png" alt="Video Editor UI" style="width: 100%; border-radius: 6px;">
          </div>
          <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
            <h3 style="color: var(--link); margin-bottom: 15px;">👥 コラボレーション</h3>
            <p style="color: var(--text-weak); margin-bottom: 15px;">チーム共同編集機能</p>
            <img src="/images/advanced_educational_platform_ui_5_full.png" alt="Collaboration UI" style="width: 100%; border-radius: 6px;">
          </div>
        </div>
      </div>
      
      <!-- スライド5 -->
      <div class="slide-page" id="slide-5">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">💰 収益モデル & ロードマップ</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">💳 収益構造</h3>
            <ul style="font-size: 1.2rem; line-height: 2; color: var(--text); margin-bottom: 30px;">
              <li>🆓 フリーミアム（基本機能無料）</li>
              <li>💎 プレミアム（$19/月）</li>
              <li>🏢 エンタープライズ（$99/月）</li>
              <li>🤝 API利用料（従量課金）</li>
            </ul>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">📈 成長予測</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text);">
              <li>Year 1: $50K ARR</li>
              <li>Year 2: $500K ARR</li>
              <li>Year 3: $2M ARR</li>
              <li>Break-even: Month 8</li>
            </ul>
          </div>
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">🗓️ 開発計画</h3>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <h4 style="color: #e74c3c; margin-bottom: 10px;">Q4 2025 - MVP</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">基本AI生成機能</p>
            </div>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
              <h4 style="color: #f39c12; margin-bottom: 10px;">Q1 2026 - Beta</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">動画編集・コラボ機能</p>
            </div>
            <div style="background: var(--sidebar-bg); padding: 20px; border-radius: 8px;">
              <h4 style="color: #27ae60; margin-bottom: 10px;">Q2 2026 - Launch</h4>
              <p style="font-size: 0.9rem; color: var(--text-weak);">本格サービス開始</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- スライド6 -->
      <div class="slide-page" id="slide-6">
        <h1 style="font-size: 2rem; color: var(--link); margin-bottom: 30px;">🎉 まとめ & Next Steps</h1>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px;">
          <div>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">✨ 競合優位性</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text); margin-bottom: 30px;">
              <li>🎨 手書きスケッチ特化AI</li>
              <li>⚡ 高速レンダリング技術</li>
              <li>🤝 直感的なUI/UX</li>
              <li>🔧 API-First設計</li>
              <li>📚 教育分野への特化</li>
            </ul>
            <h3 style="color: var(--link); margin-bottom: 20px; font-size: 1.4rem;">🚀 今後のアクション</h3>
            <ul style="font-size: 1.1rem; line-height: 1.8; color: var(--text);">
              <li>💰 投資ラウンド準備</li>
              <li>👥 チーム拡充</li>
              <li>🧪 ユーザーテスト実施</li>
              <li>🤝 戦略的パートナーシップ</li>
            </ul>
          </div>
          <div style="text-align: center;">
            <img src="/images/journey-discover.png" alt="User Journey" style="width: 100%; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
            <p style="font-size: 0.9rem; color: var(--text-weak); margin-bottom: 30px;">ユーザージャーニー概要</p>
            <div style="background: linear-gradient(135deg, var(--link), #9b59b6); padding: 30px; border-radius: 12px; color: white; text-align: center;">
              <h3 style="margin-bottom: 15px; font-size: 1.5rem;">🎯 投資目標</h3>
              <p style="font-size: 2rem; font-weight: bold; margin-bottom: 10px;">$500K</p>
              <p style="font-size: 1rem; opacity: 0.9;">シードラウンド</p>
              <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 15px;">18ヶ月の開発資金</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  let currentSlideIndex = 1;
  const totalSlides = 6;
  
  function showSlide(index) {
    // すべてのスライドを非表示
    document.querySelectorAll('.slide-page').forEach(slide => {
      slide.classList.remove('active');
    });
    
    // 指定されたスライドを表示
    const targetSlide = document.getElementById('slide-' + index);
    if (targetSlide) {
      targetSlide.classList.add('active');
      document.getElementById('currentSlide').textContent = index;
    }
  }
  
  function nextSlide() {
    if (currentSlideIndex < totalSlides) {
      currentSlideIndex++;
      showSlide(currentSlideIndex);
    }
  }
  
  function previousSlide() {
    if (currentSlideIndex > 1) {
      currentSlideIndex--;
      showSlide(currentSlideIndex);
    }
  }
  
  function toggleFullscreen() {
    const viewer = document.getElementById('slideViewer');
    if (document.fullscreenElement) {
      document.exitFullscreen();
    } else {
      viewer.requestFullscreen();
    }
  }
  
  // キーボードナビゲーション
  document.addEventListener('keydown', function(event) {
    if (event.target.closest('.slide-generator')) {
      if (event.key === 'ArrowRight' || event.key === ' ') {
        event.preventDefault();
        nextSlide();
      } else if (event.key === 'ArrowLeft') {
        event.preventDefault();
        previousSlide();
      } else if (event.key === 'f' || event.key === 'F11') {
        event.preventDefault();
        toggleFullscreen();
      }
    }
  });
</script>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="sns-marketing" data-cat="7" data-cat-name="SNS・マーケティング">
    <h2>SNS・マーケティング</h2>
    
    
    
    
      <div class="markdown-body" data-path="static/data/pages/sns-marketing.md">
        <h1 id="snsマーケティング-概要">SNS・マーケティング 概要</h1>
<p>本ページは各SNSチャネルの運用方針、コンテンツ設計、KPI管理をまとめるための叩き台です。必要に応じて数値やテンプレートを追記してください。</p>
<h2 id="目的ゴール">目的・ゴール</h2>
<ul>
<li>認知拡大（ブランド検索の増加）</li>
<li>需要獲得（LP流入・CVの創出）</li>
<li>コミュニティ醸成（継続的な関係構築）</li>
</ul>
<h2 id="主要チャネルと役割">主要チャネルと役割</h2>
<table>
  <thead>
      <tr>
          <th>チャネル</th>
          <th>主目的</th>
          <th>コンテンツ例</th>
          <th>計測KPI</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>X(Twitter)</td>
          <td>認知/話題化</td>
          <td>スレッド、機能Tips、速報</td>
          <td>インプレッション、エンゲージ率、プロフィール遷移</td>
      </tr>
      <tr>
          <td>Instagram</td>
          <td>事例/世界観</td>
          <td>リール、カルーセル、ビジュアル事例</td>
          <td>リーチ、保存、プロフィール遷移</td>
      </tr>
      <tr>
          <td>YouTube</td>
          <td>教育/検討促進</td>
          <td>HowTo、ウェビナー、機能デモ</td>
          <td>再生時間、登録者、LP流入</td>
      </tr>
      <tr>
          <td>TikTok</td>
          <td>認知/フック</td>
          <td>ショート解説、ビフォー/アフター</td>
          <td>ループ率、シェア、フォロー</td>
      </tr>
      <tr>
          <td>LinkedIn</td>
          <td>B2B/採用</td>
          <td>実装ノウハウ、導入効果</td>
          <td>CTR、問い合わせ、採用応募</td>
      </tr>
  </tbody>
</table>
<h2 id="運用設計サンプル">運用設計（サンプル）</h2>
<ul>
<li>週次: X 3本 / IG 2本 / YT 1本（Shorts含む）</li>
<li>テーマ: プロダクトTips、顧客事例、開発の裏側、ロードマップ。</li>
<li>フロー: アイデア収集 → スクリプト/画像 → 校正 → 投稿 → 回収/二次利用。</li>
</ul>
<h2 id="kpiダッシュボード最小">KPIダッシュボード（最小）</h2>
<ul>
<li>投稿本数、到達人数、保存/シェア、LP流入、無料登録、CPA。</li>
</ul>
<h2 id="テンプレート例">テンプレート（例）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[テーマ]: ○○の時短術（機能紹介）
</span></span><span style="display:flex;"><span>[チャネル]: X / IG / YT
</span></span><span style="display:flex;"><span>[目的KPI]: 保存率 &gt;8%、LP流入 50/週
</span></span><span style="display:flex;"><span>[構成]:
</span></span><span style="display:flex;"><span>  1. ファーストビュー（痛みを代弁）
</span></span><span style="display:flex;"><span>  2. before→after（GIF/リール）
</span></span><span style="display:flex;"><span>  3. 3ステップの使い方
</span></span><span style="display:flex;"><span>  4. CTA（無料登録/資料請求）
</span></span><span style="display:flex;"><span>[素材]: /images/...
</span></span></code></pre></div><h2 id="直近タスク">直近タスク</h2>
<ul>
<li><input disabled="" type="checkbox"> CTA付きカルーセルの雛形を作る</li>
<li><input disabled="" type="checkbox"> 事例を月2本で量産（IG/Blog連携）</li>
<li><input disabled="" type="checkbox"> GAとSNSを連携しLP流入を計測</li>
</ul>
<blockquote>
<p>ここに各チャネルの運用ルールや投稿カレンダーを追記してください。</p></blockquote>

      </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← ダッシュボードに戻る
  </button>
</div>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="saas-storyboard-viewer" data-cat="3" data-cat-name="メディアエディタ">
    <h2>ストーリーボードビューアー</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <div style="margin-bottom: 20px;">
  <button onclick="window.location.hash=''; location.reload();" style="padding: 8px 16px; background: #4a4a4a; border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 14px;">
    ← SaaS一覧に戻る
  </button>
</div>
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>絵コンテ 見開きフロー</title>
  <style>
    :root {
      --page-bg: #fdfcf8;
      --paper-line: rgba(60, 100, 160, 0.08);
      --ring: #c3c3c3;
      --shadow: rgba(0,0,0,0.15);
      --seam: rgba(0,0,0,0.18);
      --scale: 0.67; /* 見開き時の縮小率（67%） */
      --header-h: 44px; /* 固定ヘッダー高さ */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      margin: 0;
      background: #2c2c2c;
      font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", Arial, sans-serif;
      color: #222;
      padding: 0; /* 固定ヘッダー採用のため本文の上余白は不要 */
      overflow-x: hidden;
    }

    .header {
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 4px 12px;
      width: 100%;
      max-width: none;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      position: relative;
      z-index: 1000;
    }

    /* 全体をヘッダー行 + コンテンツ行の2段グリッドで構成 */
    .app {
      position: relative;
      top: 0; left: 0; right: 0; bottom: 0;
      display: grid;
      grid-template-rows: auto 1fr;
      height: 100vh; width: 100%;
    }
    .views { position: relative; height: 100%; width: 100%; overflow-y: auto; overflow-x: auto; }
    .title { font-size: 18px; font-weight: 700; color: #333; }
    .meta { color: #666; font-size: 12px; }
    .meta span + span { margin-left: 10px; }
    .links a { color: #0a6cff; text-decoration: none; font-size: 12px; }

    /* 見開き本体 */
    .spread {
      position: relative;
      width: 100%;
      max-width: none;
      margin: 0;
      background: white;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0;
    }

    /* 見開きスケール用のラッパーと中身 */
    .view-spread { position: absolute; inset: 0; width: 100%; overflow: hidden auto; }
    /* 0.67倍に縮小 → 149.254vw を縮小するとちょうど100vw相当になる */
    .spread-inner { transform: scale(var(--scale)); transform-origin: top left; width: 149.254%; max-width: none; margin: 0; }

    /* 中央の綴じ目 */
    .spread::after {
      content: "";
      position: absolute;
      top: 20px; bottom: 20px; left: 50%; width: 2px;
      transform: translateX(-50%);
      background: linear-gradient(to bottom, transparent 0, var(--seam) 8%, var(--seam) 92%, transparent 100%);
    }

    /* ノート風のページ */
    .page {
      position: relative;
      background: var(--page-bg);
      border-radius: 0;
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.04);
    }
    /* 罫線（横線） */
    .page::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        transparent 0 26px,
        var(--paper-line) 26px 27px
      );
      pointer-events: none;
    }
    /* 綴じリングの穴（内側余白側に表示） */
    .page::after {
      content: "";
      position: absolute;
      top: 22px; bottom: 22px;
      width: 14px;
      background:
        radial-gradient(circle 4px at 50% 16px, rgba(0,0,0,0.08) 0 70%, transparent 72%) repeat-y,
        radial-gradient(circle 3.5px at 50% 16px, var(--ring) 0 60%, transparent 62%) repeat-y;
      background-size: 14px 44px, 14px 44px;
      background-position: center top, center top;
      opacity: 0.9;
      pointer-events: none;
    }
    .page.left::after { left: 8px; }
    .page.right::after { right: 8px; }

    .page-inner { position: relative; padding: 0 8px 8px; }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      position: sticky; top: 0; z-index: 3;
      background: linear-gradient(var(--page-bg), var(--page-bg));
      padding: 4px 6px; /* 上の詰め */
      border-radius: 6px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.04);
    }
    .badge { background:#ffd84d; padding: 4px 10px; border-radius: 20px; font-weight: 700; font-size: 12px; }
    .scene { color:#555; font-weight:700; font-size: 12px; }

    /* 画像＋テキストの縦フロー（上下連結） */
    .stack { display: flex; flex-direction: column; gap: 0; }
    .row {
      display: grid;
      grid-template-columns: 56px 3fr 1.6fr 1.6fr 64px; /* CUT | PICTURE | text | script | TIME */
      align-items: stretch;
      background: var(--page-bg);
    }
    .row + .row { border-top: 1px solid rgba(0,0,0,0.06); }
    .cell { position: relative; background: transparent; }
    .cell + .cell { border-left: 2px solid rgba(0,0,0,0.12); }

    /* 列ヘッダー */
    .row.header { position: static; z-index: 1; background: linear-gradient(var(--page-bg), var(--page-bg)); }
    .row.header .cell { 
      font-size: 11px; font-weight: 800; text-transform: uppercase; letter-spacing: .04em;
      color: #333; display: flex; align-items: center; justify-content: center;
      background: #eceff7; border-left-color: rgba(0,0,0,0.14);
      padding: 6px 4px;
    }

    /* 画像セル */
    .frame { position: relative; overflow: hidden; }
    /* どのアスペクト比でも全体が見えるように contain + 自然高さ */
    .img { width: 100%; height: auto; object-fit: contain; display: block; background: #fff; }
    /* オーバーレイ（CUT・TIME） */
    .overlay {
      position: absolute; left: 8px; top: 8px;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.2);
      border-radius: 4px; padding: 2px 8px;
      font-size: 12px; font-weight: 700; color: #111;
    }
    .time { position: absolute; right: 8px; bottom: 8px; background: rgba(0,0,0,0.65); color: #fff; font-size: 11px; font-weight: 700; padding: 2px 6px; border-radius: 4px; }

    /* 画像上のCUT/秒数は非表示（列側に表示するため） */
    .frame .overlay, .frame .time { display: none !important; }

    /* テキスト/スクリプト/時間セル */
    .text, .script { padding: 10px; font-size: 12px; line-height: 1.5; color: #222; white-space: pre-wrap; }
    .timecell { display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 12px; background: #fff; }

    /* 常に左右2カラム表示（小さい画面でも崩さない） */
    @media (max-width: 700px) {
      /* 700px 未満では綴じ目の演出だけ抑える */
      .spread::after { display: none; }
    }

    /* トグルボタン */
    .view-toggle { display: inline-flex; background: #f1f5f9; border-radius: 8px; padding: 4px; gap: 4px; }
    .toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 6px 10px; border-radius: 6px; font-weight: 700; font-size: 12px; cursor: pointer; }
    .toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 動画タグ */
    .vid { width: 100%; height: auto; object-fit: contain; display: none; background: #000; }

    /* メディアトグル */
    .media-toggle { display: inline-flex; gap: 4px; margin-left: 6px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .media-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .media-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }

    /* 画像モードトグル */
    .image-toggle { display: inline-flex; gap: 4px; margin-left: 8px; background: #e2e8f0; border-radius: 6px; padding: 2px; }
    .img-toggle-btn { appearance: none; border: 1px solid #cbd5e1; background: white; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: 700; font-size: 10px; cursor: pointer; }
    .img-toggle-btn.active { background: #0a6cff; border-color: #0a6cff; color: white; }
    /* 縦ビューも固定配置でヘッダー直下から開始し、左右いっぱい */
    .view-vertical {
      position: static; /* フローに参加して .views を押し広げる */
      width: 100%; max-width: none; margin: 0;
      background: transparent;
      display: block;
    }
  </style>
  <!-- 画像は docs/pencil_drawings/scene1.png ... scene10.png を使用 -->
  <!-- 実写は docs/storyboard_images/scene1_realistic.jpg ... を参照 -->
</head>
<body data-mode="spread" data-image-mode="sketch" data-media-mode="image">
  <div class="app">
  <div class="header">
    <div>
      <div class="title">🎞️ 絵コンテ 見開きフロー（連結）</div>
      <div class="meta">
        <span>プロジェクト: サンプル</span>
        <span>日付: 2025-08-23</span>
        <span>カット: 10</span>
      </div>
    </div>
    <div class="view-toggle" role="group" aria-label="表示切り替え">
      <button class="toggle-btn" data-mode="vertical">上から下</button>
      <button class="toggle-btn active" data-mode="spread">見開き</button>
    </div>
  </div>

  <div class="views">
  <!-- 見開きビュー -->
  <div class="view-spread">
    <div class="spread spread-inner">
    <!-- 左ページ -->
    <section class="page left">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Left 1/1</div>
          <div class="scene">シーン: 左列（1-5）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕草。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 右ページ -->
    <section class="page right">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Right 1/1</div>
          <div class="scene">シーン: 右列（6-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>
        </div>
      </div>
    </section>
    </div>
  </div>

  <!-- 上から下ビュー（単ページ縦並び） -->
  <div class="view-vertical" style="display:none;">
    <section class="page left" style="margin: 0 0 24px 0;">
      <div class="page-inner">
        <div class="page-header">
          <div class="badge">Vertical</div>
          <div class="scene">シーン: 連結ビュー（1-10）</div>
        </div>
        <div class="stack">
          <div class="row header">
            <div class="cell">CUT</div>
            <div class="cell"><span>PICTURE</span>
              <span class="image-toggle" title="画像切替 (鉛筆/実写)">
                <button class="img-toggle-btn active" data-image="sketch">鉛筆</button>
                <button class="img-toggle-btn" data-image="live">実写</button>
              </span>
              <span class="media-toggle" title="メディア切替 (静止画/動画)">
                <button class="media-btn active" data-media="image">静止画</button>
                <button class="media-btn" data-media="video">動画</button>
              </span>
            </div>
            <div class="cell">TEXT</div>
            <div class="cell">SCRIPT</div>
            <div class="cell">TIME</div>
          </div>

          <!-- CUT 001 → 010 を縦に通しで表示 -->
          <!-- 001 -->
          <div class="row">
            <div class="cell timecell">001</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene1.png" data-live-src="storyboard_images/scene1_sparkle.png" src="pencil_drawings/scene1.png" alt="Scene 1" />
                <video class="vid" data-video-src="storyboard_videos/scene1_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 001</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">暗闇の中から巨大なモンスターがゆっくりと姿を現す。<br>全身に鱗が光り、鋭い牙を見せながら威嚇のポーズ。<br>口を大きく開けて火を噴く準備をしている。<br>カメラはローアングルから見上げる構図で、<br>モンスターの巨大さと恐ろしさを強調。<br>背景には荒廃した大地が広がっている。</div>
            <div class="cell script">BGM: 低音の弦楽器による緊迫感のある音楽がフェードイン<br>SE: 地響きのような低い唸り声が徐々に大きくなる<br>SE: 火花が散る音、金属がきしむような音<br>環境音: 遠くで風が吹く音、小石が転がる音</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 002 -->
          <div class="row">
            <div class="cell timecell">002</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene2.png" data-live-src="storyboard_images/scene2_realistic.jpg" src="pencil_drawings/scene2.png" alt="Scene 2" />
                <video class="vid" data-video-src="storyboard_videos/scene2_video.mp4" muted playsinline loop preload="metadata"></video>
                <figcaption class="overlay">CUT 002</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">草原の真ん中に立つ小さな丸い生き物。<br>その大きな瞳には不安と好奇心が混じり合っている。<br>ゆっくりと首を傾けながら空を見上げる仕草。<br>耳がピクピクと動き、何かを感じ取っている様子。<br>足元の草が風に揺れ、生き物の小さな影が揺らめく。<br>表情はクローズアップで、瞳に空が映り込んでいる。</div>
            <div class="cell script">BGM: ピアノソロの静かで神秘的なメロディー<br>SE: 優しい風の音が吹き抜ける<br>SE: 遠くで鳥のさえずり、草がそよぐ音<br>環境音: 静寂の中に響く心臓の鼓動音（かすかに）</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 003 -->
          <div class="row">
            <div class="cell timecell">003</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene3.png" data-live-src="storyboard_images/scene3_realistic.jpg" src="pencil_drawings/scene3.png" alt="Scene 3" />
                <figcaption class="overlay">CUT 003</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">色とりどりの動物たちが一斉にジャンプ！<br>ウサギ、リス、小鳥たちが喜びを全身で表現。<br>紙吹雪が舞い散る中、みんなで輪になって踊る。<br>それぞれのキャラクターが個性的な動きで喜びを表現。<br>背景には虹がかかり、お祝いムード満点の演出。<br>カメラは引きの構図で全体の賑やかさを捉える。</div>
            <div class="cell script">BGM: オーケストラによる祝祭的な明るい音楽<br>SE: 動物たちの歓声、笑い声が重なり合う<br>SE: 紙吹雪がひらひらと舞う音<br>SE: 拍手、口笛、タンバリンの音<br>環境音: 祭りの太鼓の音が遠くから聞こえる</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 004 -->
          <div class="row">
            <div class="cell timecell">004</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene4.png" data-live-src="storyboard_images/scene4_realistic.jpg" src="pencil_drawings/scene4.png" alt="Scene 4" />
                <figcaption class="overlay">CUT 004</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が木漏れ日の差す森の小道をゆっくり歩く。<br>時々立ち止まっては周りを見回し、道を確認する仕姿。<br>大きな木の根を慎重にまたぎ、苔むした石を避ける。<br>蝶々が主人公の周りを飛び回り、道案内をするかのよう。<br>背景には巨大な古木と緑豊かな下草が描かれる。<br>光と影のコントラストが美しい雰囲気を演出。</div>
            <div class="cell script">BGM: アコースティックギターの穏やかなメロディー<br>SE: 落ち葉を踏む柔らかい足音のリズム<br>SE: 様々な鳥のさえずりが森にこだまする<br>SE: 小川のせせらぎ、風で木々が揺れる音<br>環境音: 虫の羽音、遠くでキツツキが木を叩く音</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 005 -->
          <div class="row">
            <div class="cell timecell">005</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene5.png" data-live-src="storyboard_images/scene5_realistic.jpg" src="pencil_drawings/scene5.png" alt="Scene 5" />
                <figcaption class="overlay">CUT 005</figcaption>
                <div class="time">1秒</div>
              </figure>
            </div>
            <div class="cell text">超クローズアップで主人公の顔がフレームいっぱいに。<br>瞳孔が徐々に開いていく様子をスローモーションで描写。<br>額に汗が一筋流れ、口が少し開く。<br>眉毛が上がり、顔全体に驚愕の表情が広がる。<br>瞳には何か信じられないものが映り込んでいる。<br>時間が止まったかのような一瞬を切り取る。</div>
            <div class="cell script">BGM: 完全に音楽が止まり、無音状態に<br>SE: 「ハッ」という短い息を呑む音<br>SE: 心臓の鼓動音が徐々に速くなる<br>環境音: 周りの音も全て消え、静寂が支配<br>※この無音が次のシーンへの緊張感を高める</div>
            <div class="cell timecell">1秒</div>
          </div>

          <!-- 006 -->
          <div class="row">
            <div class="cell timecell">006</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene6.png" data-live-src="storyboard_images/scene6_realistic.jpg" src="pencil_drawings/scene6.png" alt="Scene 6" />
                <figcaption class="overlay">CUT 006</figcaption>
                <div class="time">4秒</div>
              </figure>
            </div>
            <div class="cell text">二人のキャラクターが向かい合って真剣な表情で会話。<br>一人が地図を広げて指差しながら説明している。<br>もう一人は腕を組んで考え込む仕草を見せる。<br>吹き出しには「この先に伝説の宝が...」という文字。<br>背景の夕日が二人のシルエットを美しく照らす。<br>緊迫感と期待感が入り混じる重要な場面。</div>
            <div class="cell script">BGM: チェロとバイオリンの静かで緊張感のある旋律<br>SE: 紙の地図を広げる音、指で地図をなぞる音<br>SE: 低い声での真剣な会話のトーン<br>SE: 時々聞こえる深いため息<br>環境音: 夕暮れの虫の音、遠くの鐘の音</div>
            <div class="cell timecell">4秒</div>
          </div>

          <!-- 007 -->
          <div class="row">
            <div class="cell timecell">007</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene7.png" data-live-src="storyboard_images/scene7_realistic.jpg" src="pencil_drawings/scene7.png" alt="Scene 7" />
                <figcaption class="overlay">CUT 007</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">主人公が助走をつけて大ジャンプ！<br>倒木、岩、川を次々と華麗に飛び越えていく。<br>空中で体をひねり、アクロバティックな動きを披露。<br>着地の瞬間、土煙が舞い上がるダイナミックな演出。<br>スピード線と残像効果で疾走感を表現。<br>カメラは横移動でキャラクターを追いかける。</div>
            <div class="cell script">BGM: ドラムとエレキギターの激しいロック調<br>SE: 「ヒュッ」という風を切る音<br>SE: 着地時の「ドスン」という重い音<br>SE: 石が転がる音、水しぶきの音<br>SE: 主人公の力強い呼吸音と掛け声</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 008 -->
          <div class="row">
            <div class="cell timecell">008</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene8.png" data-live-src="storyboard_images/scene8_realistic.jpg" src="pencil_drawings/scene8.png" alt="Scene 8" />
                <figcaption class="overlay">CUT 008</figcaption>
                <div class="time">3秒</div>
              </figure>
            </div>
            <div class="cell text">壮大な山脈のパノラマショット。<br>雲がゆっくりと山の頂を流れていく様子。<br>朝日が山肌を黄金色に染め上げる美しい瞬間。<br>鷲が優雅に空を舞い、遠くに小さく見える。<br>手前には野花が風に揺れ、奥行きを演出。<br>時間の流れを感じさせる叙情的なシーン。</div>
            <div class="cell script">BGM: オーケストラによる壮大で感動的な楽曲<br>SE: 高山を吹き抜ける風の音<br>SE: 遠くで鷲の鳴き声がこだまする<br>環境音: 小川のせせらぎ、草花が揺れる音<br>※自然の雄大さを音で表現する重要なシーン</div>
            <div class="cell timecell">3秒</div>
          </div>

          <!-- 009 -->
          <div class="row">
            <div class="cell timecell">009</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene9.png" data-live-src="storyboard_images/scene9_realistic.jpg" src="pencil_drawings/scene9.png" alt="Scene 9" />
                <figcaption class="overlay">CUT 009</figcaption>
                <div class="time">2秒</div>
              </figure>
            </div>
            <div class="cell text">洞窟の奥で光る謎の物体を発見する主人公。<br>そっと腰を落とし、警戒しながら一歩ずつ近づく。<br>物体から発せられる不思議な光が顔を照らす。<br>手を伸ばしかけて、一度ためらう仕草を見せる。<br>周りを見回し、誰もいないことを確認。<br>緊張の面持ちで、ついに物体に手を伸ばす瞬間。</div>
            <div class="cell script">BGM: シンセサイザーによる神秘的で不気味な音楽<br>SE: 「キラキラ」という幻想的な輝きの音<br>SE: 洞窟内で響く水滴の音<br>SE: 主人公の緊張した呼吸音<br>環境音: 低周波の振動音が徐々に強くなる</div>
            <div class="cell timecell">2秒</div>
          </div>

          <!-- 010 -->
          <div class="row">
            <div class="cell timecell">010</div>
            <div class="cell">
              <figure class="frame">
                <img class="img" data-sketch-src="pencil_drawings/scene10.png" data-live-src="storyboard_images/scene10_realistic.jpg" src="pencil_drawings/scene10.png" alt="Scene 10" />
                <figcaption class="overlay">CUT 010</figcaption>
                <div class="time">5秒</div>
              </figure>
            </div>
            <div class="cell text">丘の上で全員が集まり、大きく手を振る感動のフィナーレ。<br>オレンジ色の夕日が地平線に沈みかけている。<br>それぞれのキャラクターが笑顔で別れを惜しむ。<br>主人公は振り返りながら、ゆっくりと歩き始める。<br>仲間たちの姿が徐々に小さくなっていく。<br>最後は夕日のシルエットとなり、画面が暗転。<br>「また会おう」という文字がフェードイン。</div>
            <div class="cell script">BGM: フルオーケストラによる感動的なエンディングテーマ<br>SE: 優しい夕暮れの風が吹く音<br>SE: 遠くで響く別れの言葉の余韻<br>SE: 足音が徐々に遠ざかっていく<br>環境音: 夕暮れの虫の合唱、波の音<br>※音楽は最後まで続き、余韻を残してフェードアウト</div>
            <div class="cell timecell">5秒</div>
          </div>

        </div>
      </div>
    </section>
  </div> <!-- /views -->
  </div> <!-- /app -->

  <script>
    // トグル切り替え
    const buttons = document.querySelectorAll('.toggle-btn');
    buttons.forEach(btn => btn.addEventListener('click', () => {
      const mode = btn.dataset.mode;
      document.body.setAttribute('data-mode', mode);
      document.querySelector('.view-spread').style.display = (mode === 'spread') ? 'block' : 'none';
      document.querySelector('.view-vertical').style.display = (mode === 'spread') ? 'none' : 'block';
      buttons.forEach(b => b.classList.toggle('active', b === btn));
    }));

    // 画像モード（鉛筆/実写）切替
    const imgBtns = document.querySelectorAll('.img-toggle-btn');
    function applyImageMode(mode) {
      document.body.setAttribute('data-image-mode', mode);
      document.querySelectorAll('.frame img[data-sketch-src]').forEach(img => {
        const sketch = img.getAttribute('data-sketch-src');
        const live = img.getAttribute('data-live-src') || sketch;
        img.src = (mode === 'live') ? live : sketch;
      });
      imgBtns.forEach(b => b.classList.toggle('active', b.dataset.image === mode));
    }
    imgBtns.forEach(btn => btn.addEventListener('click', () => applyImageMode(btn.dataset.image)));
    // メディアモード切替（静止画/動画）
    const mediaBtns = document.querySelectorAll('.media-btn');
    function applyMediaMode(mode) {
      document.body.setAttribute('data-media-mode', mode);
      document.querySelectorAll('.frame').forEach(frame => {
        const img = frame.querySelector('img');
        const vid = frame.querySelector('video.vid');
        if (!img && !vid) return;
        if (mode === 'image') {
          if (vid) {
            try { vid.pause(); } catch (e) {}
            vid.removeAttribute('src');
            vid.load();
            vid.style.display = 'none';
          }
          if (img) img.style.display = 'block';
        } else {
          // video
          if (img) img.style.display = 'none';
          if (vid) {
            const src = vid.getAttribute('data-video-src');
            if (!src) { vid.style.display = 'none'; return; }
            // セットしてロード
            if (vid.getAttribute('src') !== src) {
              vid.setAttribute('src', src);
            }
            vid.load();
            vid.onloadedmetadata = () => {
              vid.style.display = 'block';
              const p = vid.play(); if (p && p.catch) p.catch(() => {});
            };
            vid.onerror = () => { vid.style.display = 'none'; };
          }
        }
      });
      mediaBtns.forEach(b => b.classList.toggle('active', b.dataset.media === mode));
    }
    mediaBtns.forEach(btn => btn.addEventListener('click', () => applyMediaMode(btn.dataset.media)));

    // 初期モード適用
    applyImageMode(document.body.getAttribute('data-image-mode') || 'sketch');
    applyMediaMode(document.body.getAttribute('data-media-mode') || 'image');

    // グリッドレイアウトに統一したため、上下位置の補正処理は不要
  </script>
</body>
</html>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  
  <section class="doc-section" id="ui-views" data-cat="2" data-cat-name="要件定義・開発">
    <h2>UIビュー一覧</h2>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <style>
  .ui-views-doc {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 20px;
  }
  .ui-views-header {
    border-bottom: 2px solid var(--border);
    padding-bottom: 16px;
    margin-bottom: 24px;
  }
  .ui-views-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
  }
  .ui-views-meta {
    display: flex;
    gap: 20px;
    font-size: 0.9rem;
    color: var(--text-weak);
  }
  .ui-view-section {
    margin-bottom: 32px;
  }
  .ui-view-section h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--link);
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
  }
  .ui-view-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 16px;
  }
  .ui-view-card {
    background: var(--sidebar-bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    transition: all 0.3s ease;
  }
  .ui-view-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    border-color: var(--link);
  }
  .ui-view-name {
    font-weight: 600;
    color: var(--link);
    margin-bottom: 8px;
  }
  .ui-view-description {
    font-size: 0.9rem;
    color: var(--text-weak);
    margin-bottom: 12px;
  }
  .ui-view-specs {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .ui-view-specs li {
    font-size: 0.85rem;
    color: var(--text-weak);
    padding: 4px 0;
    display: flex;
    align-items: flex-start;
  }
  .ui-view-specs li::before {
    content: "•";
    color: var(--link);
    margin-right: 8px;
    font-weight: 700;
  }
  .ui-view-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 16px;
  }
  .ui-view-table th,
  .ui-view-table td {
    border: 1px solid var(--border);
    padding: 10px;
    text-align: left;
  }
  .ui-view-table th {
    background: var(--sidebar-bg);
    font-weight: 600;
    color: var(--text);
  }
  .ui-view-table td {
    color: var(--text-weak);
  }
  .status-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
  }
  .status-complete {
    background: #22c55e20;
    color: #22c55e;
  }
  .status-progress {
    background: #3b82f620;
    color: #3b82f6;
  }
  .status-planned {
    background: #f5971520;
    color: #f59715;
  }
</style>

<div class="ui-views-doc">
  <div class="ui-views-header">
    <h2 class="ui-views-title">UIビュー一覧</h2>
    <div class="ui-views-meta">
      <span>バージョン: 1.0</span>
      <span>更新日: 2025年1月</span>
      <span>総画面数: 12</span>
    </div>
  </div>
  
  <!-- 参考デザイン画像（最上部ギャラリー） -->
  <div class="ui-view-section">
    <h3>参考デザイン画像（ギャラリー）</h3>
    <div class="media-grid" id="uiViewGallery"></div>
    <div style="margin-top:8px; color: var(--text-weak); font-size: 12px;">右クリックで相対パスをコピーできます。</div>
    <script>
      (async function(){
        const wrap = document.getElementById('uiViewGallery');
        if (!wrap) return;
        let list = [];
        try {
          const res = await fetch('/data/images_list.json', { cache: 'no-cache' });
          if (res.ok) {
            const j = await res.json();
            list = Array.isArray(j.images) ? j.images : [];
          }
        } catch (_) {}
        // UI関連のみ（ファイル名に `ui` を含むもの）
        let uiList = list.filter(name => /ui/i.test(name));
        if (!uiList.length) {
          // フォールバック（UI系ファイルの既知リスト）
          uiList = [
            'whiteboard_saas_ui_1_full.png',
            'advanced_whiteboard_saas_ui_5_full.png',
            'collaborative_whiteboard_saas_ui_3_full.png',
            'educational_blackboard_saas_ui_4_full.png',
            'interactive_presentation_maker_ui_3_full.png',
            'lecture_recording_interface_ui_4_full.png',
            'educational_video_dashboard_ui_2_full.png',
            'advanced_educational_platform_ui_5_full.png'
          ];
        }
        // すべて表示（UI画像のみ）
        uiList.forEach(name => {
          const path = `/images/${name}`;
          const card = document.createElement('div');
          card.className = 'media-item';
          card.setAttribute('data-path', path);
          card.innerHTML = `
            <img class="media-thumbnail" src="${path}" alt="${name}">
            <div class=\"media-info\">
              <div class=\"media-name\">${name}</div>
            </div>`;
          wrap.appendChild(card);
        });
      })();
    </script>
  </div>
  
  <div class="ui-view-section">
    <h3>1. ダッシュボード画面</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">メインダッシュボード</div>
        <div class="ui-view-description">アプリケーション全体の入り口となる画面</div>
        <ul class="ui-view-specs">
          <li>レスポンシブ対応</li>
          <li>ダークモード対応</li>
          <li>カード型UI</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>2. メディアエディタ画面</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">AI Portrait Generator</div>
        <div class="ui-view-description">手書きスケッチからAI画像を生成する画面</div>
        <ul class="ui-view-specs">
          <li>キャンバス描画機能</li>
          <li>リアルタイムプレビュー</li>
          <li>参照画像ギャラリー</li>
          <li>生成パラメータ設定</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">ビデオビューアー</div>
        <div class="ui-view-description">ストーリーボードとビデオコンテンツ管理画面</div>
        <ul class="ui-view-specs">
          <li>タイムライン表示</li>
          <li>シーンナビゲーション</li>
          <li>動画プレイヤー</li>
          <li>メタデータ編集</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">ストーリーボードビューアー</div>
        <div class="ui-view-description">絵コンテの見開き表示画面</div>
        <ul class="ui-view-specs">
          <li>見開き/縦スクロール切替</li>
          <li>鉛筆画/実写切替</li>
          <li>静止画/動画対応</li>
          <li>ページめくりアニメーション</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>3. 管理画面</h3>
    <table class="ui-view-table">
      <thead>
        <tr>
          <th style="width: 25%">画面名</th>
          <th style="width: 35%">機能概要</th>
          <th style="width: 25%">主要コンポーネント</th>
          <th style="width: 15%">ステータス</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>プロジェクト管理</td>
          <td>プロジェクトの作成・編集・削除</td>
          <td>テーブル、フォーム、モーダル</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
        <tr>
          <td>ユーザー管理</td>
          <td>ユーザーアカウントと権限管理</td>
          <td>ユーザーリスト、権限設定</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
        <tr>
          <td>アセット管理</td>
          <td>画像・動画ファイルの管理</td>
          <td>ファイルブラウザ、アップローダー</td>
          <td><span class="status-badge status-progress">開発中</span></td>
        </tr>
        <tr>
          <td>設定画面</td>
          <td>システム設定とカスタマイズ</td>
          <td>設定フォーム、プレビュー</td>
          <td><span class="status-badge status-planned">計画中</span></td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="ui-view-section">
    <h3>4. 共通コンポーネント</h3>
    <div class="ui-view-grid">
      <div class="ui-view-card">
        <div class="ui-view-name">ナビゲーション</div>
        <div class="ui-view-description">サイドバーとヘッダーナビゲーション</div>
        <ul class="ui-view-specs">
          <li>折りたたみ可能なサイドメニュー</li>
          <li>パンくずリスト</li>
          <li>検索バー</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">モーダル・ダイアログ</div>
        <div class="ui-view-description">各種確認・入力ダイアログ</div>
        <ul class="ui-view-specs">
          <li>確認ダイアログ</li>
          <li>フォームモーダル</li>
          <li>画像プレビューモーダル</li>
        </ul>
      </div>
      
      <div class="ui-view-card">
        <div class="ui-view-name">通知・アラート</div>
        <div class="ui-view-description">システム通知とエラー表示</div>
        <ul class="ui-view-specs">
          <li>トースト通知</li>
          <li>エラーメッセージ</li>
          <li>プログレスバー</li>
        </ul>
      </div>
    </div>
  </div>
  
  <div class="ui-view-section">
    <h3>5. デザインシステム</h3>
    <table class="ui-view-table">
      <thead>
        <tr>
          <th>要素</th>
          <th>仕様</th>
          <th>使用箇所</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>カラーパレット</td>
          <td>ダーク/ライトテーマ対応、CSS変数で管理</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>タイポグラフィ</td>
          <td>システムフォント優先、レスポンシブ対応</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>スペーシング</td>
          <td>8pxグリッドシステム</td>
          <td>全画面共通</td>
        </tr>
        <tr>
          <td>アニメーション</td>
          <td>CSS Transition、300ms標準</td>
          <td>ホバー効果、画面遷移</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
  </section>
  

    </div>
  </div>
  
  
<div class="modal-backdrop" id="jsonModal">
  <div class="modal">
    <div class="modal-header">
      <span class="modal-title" id="jsonModalTitle">JSONプレビュー</span>
    </div>
    <div class="modal-body">
      <pre class="code" id="jsonContent"></pre>
    </div>
    <div class="modal-actions">
      <button class="view-btn" id="jsonCopyBtn">コピー</button>
      <button class="view-btn" id="jsonCloseBtn">閉じる</button>
    </div>
  </div>
</div>


<div class="modal-backdrop" id="imgModal">
  <div class="modal" style="max-width:90%; width:auto;">
    <div class="modal-header">
      <span class="modal-title" id="imgModalTitle">画像プレビュー</span>
    </div>
    <div class="modal-body" style="padding:0; background:var(--media-bg);">
      <img id="imgModalImage" src="" alt="" style="width:100%; height:auto; display:block;">
    </div>
    <div class="modal-actions">
      <button class="view-btn" id="imgCloseBtn">閉じる</button>
    </div>
  </div>
</div>

  <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
  
  <script>
    
    window.DOC_PAGES = [
      
      
        { id: "\"saas-applications-overview\"", title: "\"ダッシュボード\"", category:  1 , category_name: "\"ダッシュボード\"" },
      
        { id: "\"saas-ai-portrait\"", title: "\"AI Portrait Generator\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
        { id: "\"saas-storyboard\"", title: "\"ビデオビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
        { id: "\"saas-storyboard-viewer\"", title: "\"ストーリーボードビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
      
      
        
          
            { id: "\"saas-ai-portrait\"", title: "\"AI Portrait Generator\"", category:  3 , category_name: "\"メディアエディタ\"" },
          
        
          
            { id: "\"biz-finance\"", title: "\"財務ダッシュボード\"", category:  6 , category_name: "\"事業構築\"" },
          
        
          
            { id: "\"biz-strategy\"", title: "\"戦略\"", category:  6 , category_name: "\"事業構築\"" },
          
        
          
            { id: "\"dynamic-media-gallery\"", title: "\"Dynamic Media Gallery\"", category:  1 , category_name: "\"ダッシュボード\"" },
          
        
          
            { id: "\"prompts-repo\"", title: "\"エージェント\"", category:  5 , category_name: "\"エージェント\"" },
          
        
          
            { id: "\"requirements-document\"", title: "\"要件定義書\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
          
            { id: "\"slide-generator\"", title: "\"スライドエディタ\"", category:  4 , category_name: "\"ビジネスツール\"" },
          
        
          
            { id: "\"sns-marketing\"", title: "\"SNS・マーケティング\"", category:  7 , category_name: "\"SNS・マーケティング\"" },
          
        
          
            { id: "\"saas-storyboard-viewer\"", title: "\"ストーリーボードビューアー\"", category:  3 , category_name: "\"メディアエディタ\"" },
          
        
          
            { id: "\"ui-views\"", title: "\"UIビュー一覧\"", category:  2 , category_name: "\"要件定義・開発\"" },
          
        
      
    ];
  </script>
  
  <script src="/js/main.js"></script>
</body>
</html>
